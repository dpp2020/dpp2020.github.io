!function(){var e,t,n;if(function(i){function r(e,t){return _.call(e,t)}function a(e,t){var n,i,r,a,o,s,l,u,c,h,d,p=t&&t.split("/"),f=y.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),o=e.length-1,y.nodeIdCompat&&x.test(e[o])&&(e[o]=e[o].replace(x,"")),e=p.slice(0,p.length-1).concat(e),c=0;e.length>c;c+=1)if(d=e[c],"."===d)e.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(i=n.slice(0,c).join("/"),p)for(h=p.length;h>0;h-=1)if(r=f[p.slice(0,h).join("/")],r&&(r=r[i])){a=r,s=c;break}if(a)break;!l&&m&&m[i]&&(l=m[i],u=c)}!a&&l&&(a=l,s=u),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,t){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(i,n.concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){g[e]=t}}function u(e){if(r(v,e)){var t=v[e];delete v[e],b[e]=!0,d.apply(i,t)}if(!r(g,e)&&!r(b,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function h(e){return function(){return y&&y.config&&y.config[e]||{}}}var d,p,f,m,g={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;f=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(r=a(r,t),n=u(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):a(e,t):(e=a(e,t),i=c(e),r=i[0],e=i[1],r&&(n=u(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:h(e)}}},d=function(e,t,n,a){var s,c,h,d,p,y,_=[],w=typeof n;if(a=a||e,"undefined"===w||"function"===w){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;t.length>p;p+=1)if(d=f(t[p],a),c=d.f,"require"===c)_[p]=m.require(e);else if("exports"===c)_[p]=m.exports(e),y=!0;else if("module"===c)s=_[p]=m.module(e);else if(r(g,c)||r(v,c)||r(b,c))_[p]=u(c);else{if(!d.p)throw new Error(e+" missing "+c);d.p.load(d.n,o(a,!0),l(c),{}),_[p]=g[c]}h=n?n.apply(g[e],_):void 0,e&&(s&&s.exports!==i&&s.exports!==g[e]?g[e]=s.exports:h===i&&y||(g[e]=h))}else e&&(g[e]=n)},e=t=p=function(e,t,n,r,a){if("string"==typeof e)return m[e]?m[e](t):u(f(e,t).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=i}return t=t||function(){},"function"==typeof n&&(n=r,r=a),r?d(i,e,t,n):setTimeout(function(){d(i,e,t,n)},4),p},p.config=function(e){return p(e)},e._defined=g,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("lib/almond",function(){}),t.config({paths:{auth_popups:"app/auth_popups",doublebracket:"app/DoubleBracket",FastAction:"app/FastAction",fastaction_config:"app/fastaction_config",FormDefUtils:"app/FormDefUtils",FormError:"app/FormError",NVTagCallbacks:"app/NVTagCallbacks",oberon:"app/oberon",requestAutocomplete:"app/requestAutocomplete",trackTransaction:"app/trackTransaction",timing:"app/timing",loadCSS:"app/loadCSS",loadScript:"app/loadScript",otherOption:"app/views/helpers/otherOption",socialSharePopup:"app/socialSharePopup",strHelper:"app/InPlaceofPolyfill",socialMediaLogger:"app/socialMediaLogger",urlUtilities:"app/urlUtilities",Map:"app/Map",formatRows:"app/views/helpers/formatRows",currency:"app/views/helpers/currency",accesskey:"data/accesskey",autocomplete:"data/autocomplete",countries:"data/countries","country.keys":"data/country.keys",occupations:"data/occupations",placeholder:"data/placeholder",prefixes:"data/prefixes","form.rows":"data/form.rows",states:"data/states","qs.params":"data/qs.params",databag:"app/models/Databag",profile_databag:"app/models/ProfileDatabag",fast_databag:"app/models/FastDatabag",fastActionUser:"app/models/FastActionUser",NVForm:"app/models/NVForm",PageAlertView:"app/views/PageAlert",FormElements:"app/FormElements",AdvocacyView:"app/views/AdvocacyView",AdvocacyTweetView:"app/views/AdvocacyTweetView",AdvocacyTweetsView:"app/views/AdvocacyTweetsView",AmountView:"app/views/AmountView",CaptchaView:"app/views/CaptchaView",CheckboxView:"app/views/CheckboxView",ContributionView:"app/views/ContributionView",CreditCardView:"app/views/CreditCardView",CVV2View:"app/views/CVV2View",CCExpirationView:"app/views/CCExpirationView",DateView:"app/views/DateView",EcardsView:"app/views/EcardsView",EventInformationView:"app/views/EventInformationView",errorviews:"app/views/ErrorViews",FastActionView:"app/views/FastActionView",FieldsetView:"app/views/FieldsetView",FieldView:"app/views/FieldView",HiddenView:"app/views/HiddenView",MarkupView:"app/views/MarkupView",NotMeView:"app/views/NotMeView",NVTagView:"app/views/NVTagView",NVFormView:"app/views/NVFormView",PaymentInformationView:"app/views/PaymentInformationView",PremiumGiftsView:"app/views/PremiumGiftsView",ActivistCodeQuestionView:"app/views/ActivistCodeQuestionView",CheckboxListManagerView:"app/views/CheckboxListManagerView",RadiosView:"app/views/RadiosView",RecipientInformationView:"app/views/RecipientInformationView",ReCaptchaView:"app/views/ReCaptchaView",SelectView:"app/views/SelectView",ShippingInformationView:"app/views/ShippingInformationView",TargetsView:"app/views/TargetsView",TargetSelectView:"app/views/TargetSelectView",TextAreaView:"app/views/TextAreaView",TextFieldView:"app/views/TextFieldView",TicketHolderView:"app/views/TicketHolderView",TicketingLevelView:"app/views/TicketingLevelView",TicketingView:"app/views/TicketingView",TimeView:"app/views/TimeView",TrackingPixelView:"app/views/TrackingPixelView",TributeGiftView:"app/views/TributeGiftView",jquery:"lib/jquery","jquery.amd":"lib/jquery.amd","jquery.timepicker":"lib/jquery.timepicker",accounting:"lib/accounting",backbone:"lib/backbone","backbone.courier":"lib/backbone.courier","backbone.subviews":"lib/backbone.subviews/backbone.subviews",braintree:"lib/braintree",select2:"lib/select2",hbs:"lib/require-handlebars-plugin/hbs",Handlebars:"lib/require-handlebars-plugin/handlebars",mailcheck:"lib/mailcheck",modal:"lib/hustle/modal",moment:"lib/moment","node-querystring":"lib/node-querystring",payment:"lib/jquery.payment",spin:"lib/spin",underscore:"lib/lodash.custom","user.agent":"lib/user.agent",parseUrl:"lib/parseUrl",gtm:"lib/gtm",chai:"lib/chai/chai",mocha:"lib/mocha/mocha",chance:"lib/chance",templates:"app/templates/all","template-cc":"templates/credit_card","template-bitpay":"templates/bitpay","template-main":"templates/main","template-modal":"templates/modal","template-generic-modal":"templates/generic-modal"},waitSeconds:10,hbs:{disableI18n:!0,templateExtension:"hbs",helperPathCallback:function(e){return"app/templates/_helpers/"+e}}}),function(){var e,t=function(){},n=/^(dir(xml)?|error|info|warn)$/,i=window.console=window.console||{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","profile","profileEnd","table","trace","warn","markTimeline","time","timeEnd","timeStamp"],a=r.length;for(i.log||(i.log=t);a--;)e=r[a],i[e]||(i[e]=n.test(e)?i.log:t)}(),console.timeStamp("ActionTag parsed"),n("config",function(){}),function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}function t(t,n){var i=typeof n;if(t=t.cache,"boolean"==i||null==n)return t[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var r="number"==i?n:y+n;return t=(t=t[i])&&t[r],"object"==i?t&&e(t,n)>-1?0:-1:t?0:-1}function i(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:y+e,r=t[n]||(t[n]={});"object"==n?(r[i]||(r[i]=[])).push(e):r[i]=!0}}function r(e){return e.charCodeAt(0)}function a(e,t){for(var n=e.criteria,i=t.criteria,r=-1,a=n.length;++r<a;){var o=n[r],s=i[r];if(o!==s){if(o>s||"undefined"==typeof o)return 1;if(s>o||"undefined"==typeof s)return-1}}return e.index-t.index}function o(e){var t=-1,n=e.length,r=e[0],a=e[n/2|0],o=e[n-1];if(r&&"object"==typeof r&&a&&"object"==typeof a&&o&&"object"==typeof o)return!1;var s=u();s["false"]=s["null"]=s["true"]=s.undefined=!1;var l=u();for(l.array=e,l.cache=s,l.push=i;++t<n;)l.push(e[t]);return l}function s(e){return"\\"+G[e]}function l(){return m.pop()||[]}function u(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(e){e.length=0,_>m.length&&m.push(e)}function h(e){var t=e.cache;t&&h(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,_>g.length&&g.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,a=Array(0>r?0:r);++i<r;)a[i]=e[t+i];return a}function p(n){function i(e){return e&&"object"==typeof e&&!Qn(e)&&On.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function g(e){function t(){if(i){var e=d(i);Fn.apply(e,arguments)}if(this instanceof t){var a=G(n.prototype),o=n.apply(a,e||arguments);return Ne(o)?o:a}return n.apply(r,e||arguments)}var n=e[0],i=e[2],r=e[4];return Jn(t,e),t}function _(e,t,n,i,r){if(n){var a=n(e);if("undefined"!=typeof a)return a}var o=Ne(e);if(!o)return e;var s=An.call(e);if(!B[s])return e;var u=Kn[s];switch(s){case $:case L:return new u(+e);case U:case q:return new u(e);case H:return a=u(e.source,T.exec(e)),a.lastIndex=e.lastIndex,a}var h=Qn(e);if(t){var p=!i;i||(i=l()),r||(r=l());for(var f=i.length;f--;)if(i[f]==e)return r[f];a=h?u(e.length):{}}else a=h?d(e):ai({},e);return h&&(On.call(e,"index")&&(a.index=e.index),On.call(e,"input")&&(a.input=e.input)),t?(i.push(e),r.push(a),(h?Ze:li)(e,function(e,o){a[o]=_(e,t,n,i,r)}),p&&(c(i),c(r)),a):a}function G(e,t){return Ne(e)?Un(e):{}}function Z(e,t,n){if("function"!=typeof e)return Jt;if("undefined"==typeof t||!("prototype"in e))return e;var i=e.__bindData__;if("undefined"==typeof i&&(Zn.funcNames&&(i=!e.name),i=i||!Zn.funcDecomp,!i)){var r=Mn.call(e);Zn.funcNames||(i=!A.test(r)),i||(i=P.test(r),Jn(e,i))}if(i===!1||i!==!0&&1&i[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return Ot(e,t)}function J(e){function t(){var e=l?o:this;if(r){var f=d(r);Fn.apply(f,arguments)}if((a||c)&&(f||(f=d(arguments)),a&&Fn.apply(f,a),c&&s>f.length))return i|=16,J([n,h?i:-4&i,f,null,o,s]);if(f||(f=arguments),u&&(n=e[p]),this instanceof t){e=G(n.prototype);var m=n.apply(e,f);return Ne(m)?m:e}return n.apply(e,f)}var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=1&i,u=2&i,c=4&i,h=8&i,p=n;return Jn(t,e),t}function Q(n,i){var r=-1,a=le(),s=n?n.length:0,l=s>=b&&a===e,u=[];if(l){var c=o(i);c?(a=t,i=c):l=!1}for(;++r<s;){var d=n[r];a(i,d)<0&&u.push(d)}return l&&h(i),u}function X(e,t,n,i){for(var r=(i||0)-1,a=e?e.length:0,o=[];++r<a;){var s=e[r];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Qn(s)||de(s))){t||(s=X(s,t,n));var l=-1,u=s.length,c=o.length;for(o.length+=u;++l<u;)o[c++]=s[l]}else n||o.push(s)}return o}function te(e,t,n,i,r,a){if(n){var o=n(e,t);if("undefined"!=typeof o)return!!o}if(e===t)return 0!==e||1/e==1/t;var s=typeof e,u=typeof t;if(!(e!==e||e&&W[s]||t&&W[u]))return!1;if(null==e||null==t)return e===t;var h=An.call(e),d=An.call(t);if(h==F&&(h=j),d==F&&(d=j),h!=d)return!1;switch(h){case $:case L:return+e==+t;case U:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case H:case q:return e==xn(t)}var p=h==R;if(!p){var f=On.call(e,"__wrapped__"),m=On.call(t,"__wrapped__");if(f||m)return te(f?e.__wrapped__:e,m?t.__wrapped__:t,n,i,r,a);if(h!=j)return!1;var g=e.constructor,v=t.constructor;if(g!=v&&!(De(g)&&g instanceof g&&De(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var y=!r;r||(r=l()),a||(a=l());for(var b=r.length;b--;)if(r[b]==e)return a[b]==t;var _=0;if(o=!0,r.push(e),a.push(t),p){if(b=e.length,_=t.length,o=_==b,o||i)for(;_--;){var w=b,x=t[_];if(i)for(;w--&&!(o=te(e[w],x,n,i,r,a)););else if(!(o=te(e[_],x,n,i,r,a)))break}}else si(t,function(t,s,l){return On.call(l,s)?(_++,o=On.call(e,s)&&te(e[s],t,n,i,r,a)):void 0}),o&&!i&&si(e,function(e,t,n){return On.call(n,t)?o=--_>-1:void 0});return r.pop(),a.pop(),y&&(c(r),c(a)),o}function ne(e,t,n,i,r){(Qn(t)?Ze:li)(t,function(t,a){var o,s,l=t,u=e[a];if(t&&((s=Qn(t))||ui(t))){for(var c=i.length;c--;)if(o=i[c]==t){u=r[c];break}if(!o){var h;n&&(l=n(u,t),(h="undefined"!=typeof l)&&(u=l)),h||(u=s?Qn(u)?u:[]:ui(u)?u:{}),i.push(t),r.push(u),h||ne(u,t,n,i,r)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[a]=u})}function ie(e,t){return e+Pn(Gn()*(t-e+1))}function re(n,i,r){var a=-1,s=le(),u=n?n.length:0,d=[],p=!i&&u>=b&&s===e,f=r||p?l():d;if(p){var m=o(f);s=t,f=m}for(;++a<u;){var g=n[a],v=r?r(g,a,n):g;(i?!a||f[f.length-1]!==v:s(f,v)<0)&&((r||p)&&f.push(v),d.push(g))}return p?(c(f.array),h(f)):r&&c(f),d}function ae(e){return function(t,n,r){var a={};n=i.createCallback(n,r,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var l=t[o];e(a,l,n(l,o,t),t)}else li(t,function(t,i,r){e(a,t,n(t,i,r),r)});return a}}function oe(e,t,n,i,r,a){var o=1&t,s=2&t,l=4&t,u=16&t,c=32&t;if(!s&&!De(e))throw new kn;u&&!n.length&&(t&=-17,u=n=!1),c&&!i.length&&(t&=-33,c=i=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=d(h),h[2]&&(h[2]=d(h[2])),h[3]&&(h[3]=d(h[3])),!o||1&h[1]||(h[4]=r),!o&&1&h[1]&&(t|=8),!l||4&h[1]||(h[5]=a),u&&Fn.apply(h[2]||(h[2]=[]),n),c&&Ln.apply(h[3]||(h[3]=[]),i),h[1]|=t,oe.apply(null,h);var p=1==t||17===t?g:J;return p([e,t,n,i,r,a])}function se(e){return ti[e]}function le(){var t=(t=i.indexOf)===vt?e:t;return t}function ue(e){return"function"==typeof e&&Sn.test(e)}function ce(e){var t,n;return e&&An.call(e)==j&&(t=e.constructor,!De(t)||t instanceof t)?(si(e,function(e,t){n=t}),"undefined"==typeof n||On.call(e,n)):!1}function he(e){return ni[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==F||!1}function pe(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),_(e,t,"function"==typeof n&&Z(n,i,1))}function fe(e,t,n){return _(e,!0,"function"==typeof t&&Z(t,n,1))}function me(e,t){var n=G(e);return t?ai(n,t):n}function ge(e,t,n){var r;return t=i.createCallback(t,n,3),li(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function ve(e,t,n){var r;return t=i.createCallback(t,n,3),be(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function ye(e,t,n){var i=[];si(e,function(e,t){i.push(t,e)});var r=i.length;for(t=Z(t,n,3);r--&&t(i[r--],i[r],e)!==!1;);return e}function be(e,t,n){var i=ei(e),r=i.length;for(t=Z(t,n,3);r--;){var a=i[r];if(t(e[a],a,e)===!1)break}return e}function _e(e){var t=[];return si(e,function(e,n){De(e)&&t.push(n)}),t.sort()}function we(e,t){return e?On.call(e,t):!1}function xe(e){for(var t=-1,n=ei(e),i=n.length,r={};++t<i;){var a=n[t];r[e[a]]=a}return r}function ke(e){return e===!0||e===!1||e&&"object"==typeof e&&An.call(e)==$||!1}function Ce(e){return e&&"object"==typeof e&&An.call(e)==L||!1}function Ee(e){return e&&1===e.nodeType||!1}function Te(e){var t=!0;if(!e)return t;var n=An.call(e),i=e.length;return n==R||n==q||n==F||n==j&&"number"==typeof i&&De(e.splice)?!i:(li(e,function(){return t=!1}),t)}function Ae(e,t,n,i){return te(e,t,"function"==typeof n&&Z(n,i,2))}function Se(e){return Hn(e)&&!qn(parseFloat(e))}function De(e){return"function"==typeof e}function Ne(e){return!(!e||!W[typeof e])}function Pe(e){return Ie(e)&&e!=+e}function Me(e){return null===e}function Ie(e){return"number"==typeof e||e&&"object"==typeof e&&An.call(e)==U||!1}function Oe(e){return e&&"object"==typeof e&&An.call(e)==H||!1}function Fe(e){return"string"==typeof e||e&&"object"==typeof e&&An.call(e)==q||!1}function Re(e){return"undefined"==typeof e}function $e(e,t,n){var r={};return t=i.createCallback(t,n,3),li(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Le(e){var t=arguments,n=2;if(!Ne(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var i=Z(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(i=t[--n]);for(var r=d(arguments,1,n),a=-1,o=l(),s=l();++a<n;)ne(e,r[a],i,o,s);return c(o),c(s),e}function Ve(e,t,n){var r={};if("function"!=typeof t){var a=[];si(e,function(e,t){a.push(t)}),a=Q(a,X(arguments,!0,!1,1));for(var o=-1,s=a.length;++o<s;){var l=a[o];r[l]=e[l]}}else t=i.createCallback(t,n,3),si(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Ue(e){for(var t=-1,n=ei(e),i=n.length,r=fn(i);++t<i;){var a=n[t];r[t]=[a,e[a]]}return r}function je(e,t,n){var r={};if("function"!=typeof t)for(var a=-1,o=X(arguments,!0,!1,1),s=Ne(e)?o.length:0;++a<s;){var l=o[a];l in e&&(r[l]=e[l])}else t=i.createCallback(t,n,3),si(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function He(e,t,n,r){var a=Qn(e);if(null==n)if(a)n=[];else{var o=e&&e.constructor,s=o&&o.prototype;n=G(s)}return t&&(t=i.createCallback(t,r,4),(a?Ze:li)(e,function(e,i,r){return t(n,e,i,r)})),n}function qe(e){for(var t=-1,n=ei(e),i=n.length,r=fn(i);++t<i;)r[t]=e[n[t]];return r}function Be(e){for(var t=arguments,n=-1,i=X(t,!0,!1,1),r=t[2]&&t[2][t[1]]===e?1:i.length,a=fn(r);++n<r;)a[n]=e[i[n]];return a}function Ye(e,t,n){var i=-1,r=le(),a=e?e.length:0,o=!1;return n=(0>n?Yn(0,a+n):n)||0,Qn(e)?o=r(e,t,n)>-1:"number"==typeof a?o=(Fe(e)?e.indexOf(t,n):r(e,t,n))>-1:li(e,function(e){return++i>=n?!(o=e===t):void 0}),o}function ze(e,t,n){var r=!0;t=i.createCallback(t,n,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&(r=!!t(e[a],a,e)););else li(e,function(e,n,i){return r=!!t(e,n,i)});return r}function We(e,t,n){var r=[];t=i.createCallback(t,n,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o;){var s=e[a];t(s,a,e)&&r.push(s)}else li(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ge(e,t,n){t=i.createCallback(t,n,3);var r=-1,a=e?e.length:0;if("number"!=typeof a){var o;return li(e,function(e,n,i){return t(e,n,i)?(o=e,!1):void 0}),o}for(;++r<a;){var s=e[r];if(t(s,r,e))return s}}function Ke(e,t,n){var r;return t=i.createCallback(t,n,3),Je(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}function Ze(e,t,n){var i=-1,r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:Z(t,n,3),"number"==typeof r)for(;++i<r&&t(e[i],i,e)!==!1;);else li(e,t);return e}function Je(e,t,n){var i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:Z(t,n,3),"number"==typeof i)for(;i--&&t(e[i],i,e)!==!1;);else{var r=ei(e);i=r.length,li(e,function(e,n,a){return n=r?r[--i]:--i,t(a[n],n,a)})}return e}function Qe(e,t){var n=d(arguments,2),i=-1,r="function"==typeof t,a=e?e.length:0,o=fn("number"==typeof a?a:0);return Ze(e,function(e){o[++i]=(r?t:e[t]).apply(e,n)}),o}function Xe(e,t,n){var r=-1,a=e?e.length:0;if(t=i.createCallback(t,n,3),"number"==typeof a)for(var o=fn(a);++r<a;)o[r]=t(e[r],r,e);else o=[],li(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function et(e,t,n){var a=-(1/0),o=a;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qn(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];u>o&&(o=u)}else t=null==t&&Fe(e)?r:i.createCallback(t,n,3),Ze(e,function(e,n,i){var r=t(e,n,i);r>a&&(a=r,o=e)});return o}function tt(e,t,n){var a=1/0,o=a;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Qn(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];o>u&&(o=u)}else t=null==t&&Fe(e)?r:i.createCallback(t,n,3),Ze(e,function(e,n,i){var r=t(e,n,i);a>r&&(a=r,o=e)});return o}function nt(e,t,n,r){if(!e)return n;var a=arguments.length<3;t=i.createCallback(t,r,4);var o=-1,s=e.length;if("number"==typeof s)for(a&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);else li(e,function(e,i,r){n=a?(a=!1,e):t(n,e,i,r)});return n}function it(e,t,n,r){var a=arguments.length<3;return t=i.createCallback(t,r,4),Je(e,function(e,i,r){n=a?(a=!1,e):t(n,e,i,r)}),n}function rt(e,t,n){return t=i.createCallback(t,n,3),We(e,function(e,n,i){return!t(e,n,i)})}function at(e,t,n){if(e&&"number"!=typeof e.length&&(e=qe(e)),null==t||n)return e?e[ie(0,e.length-1)]:f;var i=ot(e);return i.length=zn(Yn(0,t),i.length),i}function ot(e){var t=-1,n=e?e.length:0,i=fn("number"==typeof n?n:0);return Ze(e,function(e){var n=ie(0,++t);i[t]=i[n],i[n]=e}),i}function st(e){var t=e?e.length:0;return"number"==typeof t?t:ei(e).length}function lt(e,t,n){var r;t=i.createCallback(t,n,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&!(r=t(e[a],a,e)););else li(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function ut(e,t,n){var r=-1,o=Qn(t),s=e?e.length:0,d=fn("number"==typeof s?s:0);for(o||(t=i.createCallback(t,n,3)),Ze(e,function(e,n,i){var a=d[++r]=u();o?a.criteria=Xe(t,function(t){return e[t]}):(a.criteria=l())[0]=t(e,n,i),a.index=r,a.value=e}),s=d.length,d.sort(a);s--;){var p=d[s];d[s]=p.value,o||c(p.criteria),h(p)}return d}function ct(e){return e&&"number"==typeof e.length?d(e):qe(e)}function ht(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function dt(e){return Q(e,X(arguments,!0,!0,1))}function pt(e,t,n){var r=-1,a=e?e.length:0;for(t=i.createCallback(t,n,3);++r<a;)if(t(e[r],r,e))return r;return-1}function ft(e,t,n){var r=e?e.length:0;for(t=i.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function mt(e,t,n){var r=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=i.createCallback(t,n,3);++o<a&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:f;return d(e,0,zn(Yn(0,r),a))}function gt(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(e=Xe(e,n,i)),X(e,t)}function vt(t,n,i){if("number"==typeof i){var r=t?t.length:0;i=0>i?Yn(0,r+i):i||0}else if(i){var a=Tt(t,n);return t[a]===n?a:-1}return e(t,n,i)}function yt(e,t,n){var r=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var o=a;for(t=i.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return d(e,0,zn(Yn(0,a-r),a))}function bt(){for(var n=[],i=-1,r=arguments.length,a=l(),s=le(),u=s===e,d=l();++i<r;){var p=arguments[i];(Qn(p)||de(p))&&(n.push(p),a.push(u&&p.length>=b&&o(i?n[i]:d)))}var f=n[0],m=-1,g=f?f.length:0,v=[];e:for(;++m<g;){var y=a[0];if(p=f[m],(y?t(y,p):s(d,p))<0){for(i=r,(y||d).push(p);--i;)if(y=a[i],(y?t(y,p):s(n[i],p))<0)continue e;v.push(p)}}for(;r--;)y=a[r],y&&h(y);return c(a),c(d),v}function _t(e,t,n){var r=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var o=a;for(t=i.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[a-1]:f;return d(e,Yn(0,a-r))}function wt(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?Yn(0,i+n):zn(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function xt(e){for(var t=arguments,n=0,i=t.length,r=e?e.length:0;++n<i;)for(var a=-1,o=t[n];++a<r;)e[a]===o&&($n.call(e,a--,1),r--);return e}function kt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var i=-1,r=Yn(0,Dn((t-e)/(n||1))),a=fn(r);++i<r;)a[i]=e,e+=n;return a}function Ct(e,t,n){var r=-1,a=e?e.length:0,o=[];for(t=i.createCallback(t,n,3);++r<a;){var s=e[r];t(s,r,e)&&(o.push(s),$n.call(e,r--,1),a--)}return o}function Et(e,t,n){if("number"!=typeof t&&null!=t){var r=0,a=-1,o=e?e.length:0;for(t=i.createCallback(t,n,3);++a<o&&t(e[a],a,e);)r++}else r=null==t||n?1:Yn(0,t);return d(e,r)}function Tt(e,t,n,r){var a=0,o=e?e.length:a;for(n=n?i.createCallback(n,r,1):Jt,t=n(t);o>a;){var s=a+o>>>1;n(e[s])<t?a=s+1:o=s}return a}function At(){return re(X(arguments,!0,!0))}function St(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=i.createCallback(n,r,3)),re(e,t,n)}function Dt(e){return Q(e,d(arguments,1))}function Nt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qn(n)||de(n))var i=i?re(Q(i,n).concat(Q(n,i))):n}return i||[]}function Pt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(pi(e,"length")):0,i=fn(0>n?0:n);++t<n;)i[t]=pi(e,t);return i}function Mt(e,t){var n=-1,i=e?e.length:0,r={};for(t||!i||Qn(e[0])||(t=[]);++n<i;){var a=e[n];t?r[a]=t[n]:a&&(r[a[0]]=a[1])}return r}function It(e,t){if(!De(t))throw new kn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ot(e,t){return arguments.length>2?oe(e,17,d(arguments,2),null,t):oe(e,1,null,null,t)}function Ft(e){for(var t=arguments.length>1?X(arguments,!0,!1,1):_e(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=oe(e[r],1,null,null,e)}return e}function Rt(e,t){return arguments.length>2?oe(t,19,d(arguments,2),null,e):oe(t,3,null,null,e)}function $t(){for(var e=arguments,t=e.length;t--;)if(!De(e[t]))throw new kn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Lt(e,t){return t="number"==typeof t?t:+t||e.length,oe(e,4,null,null,null,t)}function Vt(e,t,n){var i,r,a,o,s,l,u,c=0,h=!1,d=!0;if(!De(e))throw new kn;if(t=Yn(0,t)||0,n===!0){var p=!0;d=!1}else Ne(n)&&(p=n.leading,h="maxWait"in n&&(Yn(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var m=function(){var n=t-(mi()-o);if(0>=n){r&&Nn(r);var h=u;r=l=u=f,h&&(c=mi(),a=e.apply(s,i),l||r||(i=s=null))}else l=Rn(m,n)},g=function(){l&&Nn(l),r=l=u=f,(d||h!==t)&&(c=mi(),a=e.apply(s,i),l||r||(i=s=null))};return function(){if(i=arguments,o=mi(),s=this,u=d&&(l||!p),h===!1)var n=p&&!l;else{r||p||(c=o);var f=h-(o-c),v=0>=f;v?(r&&(r=Nn(r)),c=o,a=e.apply(s,i)):r||(r=Rn(g,f))}return v&&l?l=Nn(l):l||t===h||(l=Rn(m,t)),n&&(v=!0,a=e.apply(s,i)),!v||l||r||(i=s=null),a}}function Ut(e){if(!De(e))throw new kn;var t=d(arguments,1);return Rn(function(){e.apply(f,t)},1)}function jt(e,t){if(!De(e))throw new kn;var n=d(arguments,2);return Rn(function(){e.apply(f,n)},t)}function Ht(e,t){if(!De(e))throw new kn;var n=function(){var i=n.cache,r=t?t.apply(this,arguments):y+arguments[0];return On.call(i,r)?i[r]:i[r]=e.apply(this,arguments)};return n.cache={},n}function qt(e){var t,n;if(!De(e))throw new kn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Bt(e){return oe(e,16,d(arguments,1))}function Yt(e){return oe(e,32,null,d(arguments,1))}function zt(e,t,n){var i=!0,r=!0;if(!De(e))throw new kn;return n===!1?i=!1:Ne(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),Y.leading=i,Y.maxWait=t,Y.trailing=r,Vt(e,t,Y)}function Wt(e,t){return oe(t,16,[e])}function Gt(e){return function(){return e}}function Kt(e,t,n){var i=typeof e;if(null==e||"function"==i)return Z(e,t,n);if("object"!=i)return tn(e);var r=ei(e),a=r[0],o=e[a];return 1!=r.length||o!==o||Ne(o)?function(t){for(var n=r.length,i=!1;n--&&(i=te(t[r[n]],e[r[n]],null,!0)););return i}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}}function Zt(e){return null==e?"":xn(e).replace(ri,se)}function Jt(e){return e}function Qt(e,t,n){var r=!0,a=t&&_e(t);t&&(n||a.length)||(null==n&&(n=t),o=m,t=e,e=i,a=_e(t)),n===!1?r=!1:Ne(n)&&"chain"in n&&(r=n.chain);var o=e,s=De(o);Ze(a,function(n){var i=e[n]=t[n];s&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];Fn.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&Ne(s))return this;s=new o(s),s.__chain__=t}return s})})}function Xt(){return n._=Tn,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var i=null==e,r=null==t;if(null==n&&("boolean"==typeof e&&r?(n=e,e=1):r||"boolean"!=typeof t||(n=t,r=!0)),i&&r&&(t=1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Gn();return zn(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return ie(e,t)}function rn(e,t){if(e){var n=e[t];return De(n)?e[t]():n}}function an(e,t,n){var r=i.templateSettings;e=xn(e||""),n=oi({},n,r);var a,o=oi({},n.imports,r.imports),l=ei(o),u=qe(o),c=0,h=n.interpolate||N,d="__p += '",p=wn((n.escape||N).source+"|"+h.source+"|"+(h===S?E:N).source+"|"+(n.evaluate||N).source+"|$","g");e.replace(p,function(t,n,i,r,o,l){return i||(i=r),d+=e.slice(c,l).replace(M,s),n&&(d+="' +\n__e("+n+") +\n'"),o&&(a=!0,d+="';\n"+o+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var m=n.variable,g=m;g||(m="obj",d="with ("+m+") {\n"+d+"\n}\n"),d=(a?d.replace(x,""):d).replace(k,"$1").replace(C,"$1;"),d="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+O++ +"]")+"\n*/";try{var y=vn(l,"return "+d+v).apply(f,u)}catch(b){throw b.source=d,b}return t?y(t):(y.source=d,y)}function on(e,t,n){e=(e=+e)>-1?e:0;var i=-1,r=fn(e);for(t=Z(t,n,1);++i<e;)r[i]=t(i);return r}function sn(e){return null==e?"":xn(e).replace(ii,he)}function ln(e){var t=++v;return xn(null==e?"":e)+t}function un(e){return e=new m(e),e.__chain__=!0,e}function cn(e,t){return t(e),e}function hn(){return this.__chain__=!0,this}function dn(){return xn(this.__wrapped__)}function pn(){return this.__wrapped__}n=n?ee.defaults(K.Object(),n,ee.pick(K,I)):K;var fn=n.Array,mn=n.Boolean,gn=n.Date,vn=n.Function,yn=n.Math,bn=n.Number,_n=n.Object,wn=n.RegExp,xn=n.String,kn=n.TypeError,Cn=[],En=_n.prototype,Tn=n._,An=En.toString,Sn=wn("^"+xn(An).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Dn=yn.ceil,Nn=n.clearTimeout,Pn=yn.floor,Mn=vn.prototype.toString,In=ue(In=_n.getPrototypeOf)&&In,On=En.hasOwnProperty,Fn=Cn.push,Rn=n.setTimeout,$n=Cn.splice,Ln=Cn.unshift,Vn=function(){try{var e={},t=ue(t=_n.defineProperty)&&t,n=t(e,e,e)&&t}catch(i){}return n}(),Un=ue(Un=_n.create)&&Un,jn=ue(jn=fn.isArray)&&jn,Hn=n.isFinite,qn=n.isNaN,Bn=ue(Bn=_n.keys)&&Bn,Yn=yn.max,zn=yn.min,Wn=n.parseInt,Gn=yn.random,Kn={};Kn[R]=fn,Kn[$]=mn,Kn[L]=gn,Kn[V]=vn,Kn[j]=_n,Kn[U]=bn,Kn[H]=wn,Kn[q]=xn,m.prototype=i.prototype;var Zn=i.support={};Zn.funcDecomp=!ue(n.WinRTError)&&P.test(p),Zn.funcNames="string"==typeof vn.name,i.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:S,variable:"",imports:{_:i}},Un||(G=function(){function e(){}return function(t){if(Ne(t)){e.prototype=t;var i=new e;e.prototype=null}return i||n.Object()}}());var Jn=Vn?function(e,t){z.value=t,Vn(e,"__bindData__",z)}:en,Qn=jn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==R||!1},Xn=function(e){var t,n=e,i=[];if(!n)return i;if(!W[typeof e])return i;for(t in n)On.call(n,t)&&i.push(t);return i},ei=Bn?function(e){return Ne(e)?Bn(e):[]}:Xn,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=xe(ti),ii=wn("("+ei(ni).join("|")+")","g"),ri=wn("["+ei(ti).join("")+"]","g"),ai=function(e,t,n){var i,r=e,a=r;if(!r)return a;var o=arguments,s=0,l="number"==typeof n?2:o.length;if(l>3&&"function"==typeof o[l-2])var u=Z(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(u=o[--l]);for(;++s<l;)if(r=o[s],r&&W[typeof r])for(var c=-1,h=W[typeof r]&&ei(r),d=h?h.length:0;++c<d;)i=h[c],a[i]=u?u(a[i],r[i]):r[i];return a},oi=function(e,t,n){var i,r=e,a=r;if(!r)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if(r=o[s],r&&W[typeof r])for(var u=-1,c=W[typeof r]&&ei(r),h=c?c.length:0;++u<h;)i=c[u],"undefined"==typeof a[i]&&(a[i]=r[i]);return a},si=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!W[typeof r])return a;t=t&&"undefined"==typeof n?t:Z(t,n,3);for(i in r)if(t(r[i],i,e)===!1)return a;return a},li=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!W[typeof r])return a;t=t&&"undefined"==typeof n?t:Z(t,n,3);for(var o=-1,s=W[typeof r]&&ei(r),l=s?s.length:0;++o<l;)if(i=s[o],t(r[i],i,e)===!1)return a;return a},ui=In?function(e){if(!e||An.call(e)!=j)return!1;var t=e.valueOf,n=ue(t)&&(n=In(t))&&In(n);return n?e==n||In(e)==n:ce(e)}:ce,ci=ae(function(e,t,n){On.call(e,n)?e[n]++:e[n]=1}),hi=ae(function(e,t,n){(On.call(e,n)?e[n]:e[n]=[]).push(t)}),di=ae(function(e,t,n){e[n]=t}),pi=Xe,fi=We,mi=ue(mi=gn.now)&&mi||function(){return(new gn).getTime()},gi=8==Wn(w+"08")?Wn:function(e,t){return Wn(Fe(e)?e.replace(D,""):e,t||0)};return i.after=It,i.assign=ai,i.at=Be,i.bind=Ot,i.bindAll=Ft,i.bindKey=Rt,i.chain=un,i.compact=ht,i.compose=$t,i.constant=Gt,i.countBy=ci,i.create=me,i.createCallback=Kt,
i.curry=Lt,i.debounce=Vt,i.defaults=oi,i.defer=Ut,i.delay=jt,i.difference=dt,i.filter=We,i.flatten=gt,i.forEach=Ze,i.forEachRight=Je,i.forIn=si,i.forInRight=ye,i.forOwn=li,i.forOwnRight=be,i.functions=_e,i.groupBy=hi,i.indexBy=di,i.initial=yt,i.intersection=bt,i.invert=xe,i.invoke=Qe,i.keys=ei,i.map=Xe,i.mapValues=$e,i.max=et,i.memoize=Ht,i.merge=Le,i.min=tt,i.omit=Ve,i.once=qt,i.pairs=Ue,i.partial=Bt,i.partialRight=Yt,i.pick=je,i.pluck=pi,i.property=tn,i.pull=xt,i.range=kt,i.reject=rt,i.remove=Ct,i.rest=Et,i.shuffle=ot,i.sortBy=ut,i.tap=cn,i.throttle=zt,i.times=on,i.toArray=ct,i.transform=He,i.union=At,i.uniq=St,i.values=qe,i.where=fi,i.without=Dt,i.wrap=Wt,i.xor=Nt,i.zip=Pt,i.zipObject=Mt,i.collect=Xe,i.drop=Et,i.each=Ze,i.eachRight=Je,i.extend=ai,i.methods=_e,i.object=Mt,i.select=We,i.tail=Et,i.unique=St,i.unzip=Pt,Qt(i),i.clone=pe,i.cloneDeep=fe,i.contains=Ye,i.escape=Zt,i.every=ze,i.find=Ge,i.findIndex=pt,i.findKey=ge,i.findLast=Ke,i.findLastIndex=ft,i.findLastKey=ve,i.has=we,i.identity=Jt,i.indexOf=vt,i.isArguments=de,i.isArray=Qn,i.isBoolean=ke,i.isDate=Ce,i.isElement=Ee,i.isEmpty=Te,i.isEqual=Ae,i.isFinite=Se,i.isFunction=De,i.isNaN=Pe,i.isNull=Me,i.isNumber=Ie,i.isObject=Ne,i.isPlainObject=ui,i.isRegExp=Oe,i.isString=Fe,i.isUndefined=Re,i.lastIndexOf=wt,i.mixin=Qt,i.noConflict=Xt,i.noop=en,i.now=mi,i.parseInt=gi,i.random=nn,i.reduce=nt,i.reduceRight=it,i.result=rn,i.runInContext=p,i.size=st,i.some=lt,i.sortedIndex=Tt,i.template=an,i.unescape=sn,i.uniqueId=ln,i.all=ze,i.any=lt,i.detect=Ge,i.findWhere=Ge,i.foldl=nt,i.foldr=it,i.include=Ye,i.inject=nt,Qt(function(){var e={};return li(i,function(t,n){i.prototype[n]||(e[n]=t)}),e}(),!1),i.first=mt,i.last=_t,i.sample=at,i.take=mt,i.head=mt,li(i,function(e,t){var n="sample"!==t;i.prototype[t]||(i.prototype[t]=function(t,i){var r=this.__chain__,a=e(this.__wrapped__,t,i);return r||null!=t&&(!i||n&&"function"==typeof t)?new m(a,r):a})}),i.VERSION="2.4.1",i.prototype.chain=hn,i.prototype.toString=dn,i.prototype.value=pn,i.prototype.valueOf=pn,Ze(["join","pop","shift"],function(e){var t=Cn[e];i.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Ze(["push","reverse","sort","unshift"],function(e){var t=Cn[e];i.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ze(["concat","slice","splice"],function(e){var t=Cn[e];i.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),i}var f,m=[],g=[],v=0,y=+new Date+"",b=75,_=40,w=" 	\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,S=/<%=([\s\S]+?)%>/g,D=RegExp("^["+w+"]*0+(?=.$)"),N=/($^)/,P=/\bthis\b/,M=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],O=0,F="[object Arguments]",R="[object Array]",$="[object Boolean]",L="[object Date]",V="[object Function]",U="[object Number]",j="[object Object]",H="[object RegExp]",q="[object String]",B={};B[V]=!1,B[F]=B[R]=B[$]=B[L]=B[U]=B[j]=B[H]=B[q]=!0;var Y={leading:!1,maxWait:0,trailing:!1},z={configurable:!1,enumerable:!1,value:null,writable:!1},W={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=W[typeof window]&&window||this,Z=W[typeof exports]&&exports&&!exports.nodeType&&exports,J=W[typeof module]&&module&&!module.nodeType&&module,Q=J&&J.exports===Z&&Z,X=W[typeof global]&&global;!X||X.global!==X&&X.window!==X||(K=X);var ee=p();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(K._=ee,n("underscore",[],function(){return ee})):Z&&J?Q?(J.exports=ee)._=ee:Z._=ee:K._=ee}.call(this),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,n=ee.type(e);return"function"===n||ee.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ee.isFunction(t))return ee.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ee.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return ee.filter(t,e,n);t=ee.filter(t,e)}return ee.grep(e,function(e){return W.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=me[e]={};return ee.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),ee.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ee.expando+l.uid++}function u(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_e.test(n)?ee.parseJSON(n):n}catch(r){}be.set(e,t,n)}else n=void 0;return n}function c(){return!0}function h(){return!1}function d(){try{return Q.activeElement}catch(e){}}function p(e,t){return ee.nodeName(e,"table")&&ee.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=$e.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)ye.set(e[n],"globalEval",!t||ye.get(t[n],"globalEval"))}function v(e,t){var n,i,r,a,o,s,l,u;if(1===t.nodeType){if(ye.hasData(e)&&(a=ye.access(e),o=ye.set(t,a),u=a.events)){delete o.handle,o.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ee.event.add(t,r,u[r][n])}be.hasData(e)&&(s=be.access(e),l=ee.extend({},s),be.set(t,l))}}function y(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ee.nodeName(e,t)?ee.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function _(t,n){var i,r=ee(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:ee.css(r[0],"display");return r.detach(),a}function w(e){var t=Q,n=je[e];return n||(n=_(e,t),"none"!==n&&n||(Ue=(Ue||ee("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=_(e,t),Ue.detach()),je[e]=n),n}function x(e,t,n){var i,r,a,o,s=e.style;return n=n||Be(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||ee.contains(e.ownerDocument,e)||(o=ee.style(e,t)),qe.test(o)&&He.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ze.length;r--;)if(t=Ze[r]+n,t in e)return t;return i}function E(e,t,n){var i=ze.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=ee.css(e,n+ke[a],!0,r)),i?("content"===n&&(o-=ee.css(e,"padding"+ke[a],!0,r)),"margin"!==n&&(o-=ee.css(e,"border"+ke[a]+"Width",!0,r))):(o+=ee.css(e,"padding"+ke[a],!0,r),"padding"!==n&&(o+=ee.css(e,"border"+ke[a]+"Width",!0,r)));return o}function A(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=Be(e),o="border-box"===ee.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=x(e,t,a),(0>r||null==r)&&(r=e.style[t]),qe.test(r))return r;i=o&&(J.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(o?"border":"content"),i,a)+"px"}function S(e,t){for(var n,i,r,a=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(a[o]=ye.get(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(a[o]=ye.access(i,"olddisplay",w(i.nodeName)))):(r=Ce(i),"none"===n&&r||ye.set(i,"olddisplay",r?n:ee.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function D(e,t,n,i,r){return new D.prototype.init(e,t,n,i,r)}function N(){return setTimeout(function(){Je=void 0}),Je=ee.now()}function P(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=ke[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var i,r=(it[t]||[]).concat(it["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,t,e))return i}function I(e,t,n){var i,r,a,o,s,l,u,c,h=this,d={},p=e.style,f=e.nodeType&&Ce(e),m=ye.get(e,"fxshow");n.queue||(s=ee._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ee.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ee.css(e,"display"),c="none"===u?ye.get(e,"olddisplay")||w(e.nodeName):u,"inline"===c&&"none"===ee.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Xe.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||ee.style(e,i)}else u=void 0;if(ee.isEmptyObject(d))"inline"===("none"===u?w(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=ye.access(e,"fxshow",{}),a&&(m.hidden=!f),f?ee(e).show():h.done(function(){ee(e).hide()}),h.done(function(){var t;ye.remove(e,"fxshow");for(t in d)ee.style(e,t,d[t])});for(i in d)o=M(f?m[i]:0,i,h),i in m||(m[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,a,o;for(n in e)if(i=ee.camelCase(n),r=t[i],a=e[n],ee.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),o=ee.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,a=0,o=nt.length,s=ee.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Je||N(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,a=1-i,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(a);return s.notifyWith(e,[u,a,n]),1>a&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ee.extend({},t),opts:ee.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Je||N(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ee.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o>a;a++)if(i=nt[a].call(u,e,c,u.opts))return i;return ee.map(c,M,u),ee.isFunction(u.opts.start)&&u.opts.start.call(e,u),ee.fx.timer(ee.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(fe)||[];if(ee.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function r(s){var l;return a[s]=!0,ee.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=e===_t;return r(t.dataTypes[0])||!a["*"]&&r("*")}function L(e,t){var n,i,r=ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ee.extend(!0,e,i),e}function V(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function U(e,t,n,i){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[r]:u[r]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function j(e,t,n,i){var r;if(ee.isArray(t))ee.each(t,function(t,r){n||Et.test(e)?i(e,r):j(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ee.type(t))i(e,t);else for(r in t)j(e+"["+r+"]",t[r],n,i)}function H(e){return ee.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],B=q.slice,Y=q.concat,z=q.push,W=q.indexOf,G={},K=G.toString,Z=G.hasOwnProperty,J={},Q=e.document,X="2.1.4",ee=function(e,t){return new ee.fn.init(e,t)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^-ms-/,ie=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};ee.fn=ee.prototype={jquery:X,constructor:ee,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){var t=ee.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ee.each(this,e,t)},map:function(e){return this.pushStack(ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:q.sort,splice:q.splice},ee.extend=ee.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||ee.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],i=e[t],o!==i&&(u&&i&&(ee.isPlainObject(i)||(r=ee.isArray(i)))?(r?(r=!1,a=n&&ee.isArray(n)?n:[]):a=n&&ee.isPlainObject(n)?n:{},o[t]=ee.extend(u,a,i)):void 0!==i&&(o[t]=i));return o},ee.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ee.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!ee.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==ee.type(e)||e.nodeType||ee.isWindow(e)?!1:e.constructor&&!Z.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ee.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ne,"ms-").replace(ie,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,a=0,o=e.length,s=i(e);if(n){if(s)for(;o>a&&(r=t.apply(e[a],n),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],n),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(te,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ee.merge(n,"string"==typeof e?[e]:e):z.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,o=e.length,s=!n;o>a;a++)i=!t(e[a],a),i!==s&&r.push(e[a]);return r},map:function(e,t,n){var r,a=0,o=e.length,s=i(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,n),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,n),null!=r&&l.push(r);return Y.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),ee.isFunction(e)?(i=B.call(arguments,2),r=function(){return e.apply(t||this,i.concat(B.call(arguments)))},r.guid=e.guid=e.guid||ee.guid++,r):void 0},now:Date.now,support:J}),ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()});var ae=function(e){function t(e,t,n,i){var r,a,o,s,l,u,h,p,f,m;if((t?t.ownerDocument||t:U)!==M&&P(t),t=t||M,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&O){if(11!==s&&(r=ye.exec(e)))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&L(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!F||!F.test(e))){if(p=h=V,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(h=t.getAttribute("id"))?p=h.replace(_e,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||t.removeAttribute("id")}}}return A(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[V]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=H++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,u=[j,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[V]||(t[V]={}),(s=l[i])&&s[0]===j&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,u=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,r))&&(o.push(a),u&&t.push(s));return o}function v(e,t,n,r,a,o){return r&&!r[V]&&(r=v(r)),a&&!a[V]&&(a=v(a,o)),i(function(i,o,s,l){var u,c,h,d=[],p=[],f=o.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,l),b=n?a||(i?e:f||r)?[]:o:y;if(n&&n(y,b,s,l),r)for(u=g(b,p),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(y[p[c]]=h));if(i){if(a||e){if(a){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);a(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=a?ee(i,h):d[c])>-1&&(i[u]=!(o[u]=h))}}else b=g(b===o?b.splice(f,b.length):b),a?a(null,o,b,l):Q.apply(o,b)})}function y(e){for(var t,n,i,r=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=p(function(e){return e===t},o,!0),u=p(function(e){return ee(t,e)>-1},o,!0),c=[function(e,n,i){var r=!a&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=x.relative[e[s].type])c=[p(f(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[V]){for(i=++s;r>i&&!x.relative[e[i].type];i++);return v(s>1&&f(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,a=e.length>0,o=function(i,o,s,l,u){var c,h,d,p=0,f="0",m=i&&[],v=[],y=S,b=i||a&&x.find.TAG("*",u),_=j+=null==y?1:Math.random()||.1,w=b.length;for(u&&(S=o!==M&&o);f!==w&&null!=(c=b[f]);f++){if(a&&c){for(h=0;d=e[h++];)if(d(c,o,s)){l.push(c);break}u&&(j=_)}r&&((c=!d&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(m,v,o,s);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}Q.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(j=_,S=y),m};return r?i(o):o}var _,w,x,k,C,E,T,A,S,D,N,P,M,I,O,F,R,$,L,V="sizzle"+1*new Date,U=e.document,j=0,H=0,q=n(),B=n(),Y=n(),z=function(e,t){return e===t&&(N=!0),0},W=1<<31,G={}.hasOwnProperty,K=[],Z=K.pop,J=K.push,Q=K.push,X=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){P()};try{Q.apply(K=X.call(U.childNodes),U.childNodes)}catch(Ce){Q={apply:K.length?function(e,t){J.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:U;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,I=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),O=!C(i),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(e){return I.appendChild(e).id=V,!i.getElementsByName||!i.getElementsByName(V).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},R=[],F=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(e){I.appendChild(e).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+V+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+V+"+*").length||F.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test($=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){w.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),R.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(I.compareDocumentPosition),L=t||ve.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===U&&L(U,e)?-1:t===i||t.ownerDocument===U&&L(U,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,a=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!a||!s)return e===i?-1:t===i?1:a?-1:s?1:D?ee(D,e)-ee(D,t):0;if(a===s)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?o(l[r],u[r]):l[r]===U?-1:u[r]===U?1:0},i):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&P(e),n=n.replace(he,"='$1']"),w.matchesSelector&&O&&(!R||!R.test(n))&&(!F||!F.test(n)))try{var i=$.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&P(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&P(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:w.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(N=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(z),N){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return D=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(se," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(a){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(c=g[V]||(g[V]={}),u=c[e]||[],p=u[0]===j&&u[1],d=u[0]===j&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[j,p,d];break}}else if(y&&(u=(t[V]||(t[V]={}))[e])&&u[0]===j)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[V]||(h[V]={}))[e]=[j,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[V]?a(n):a.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)i=ee(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(le,"$1"));return r[V]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,E=t.tokenize=function(e,n){var i,r,a,o,s,l,u,c=B[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(o in x.filter)!(r=fe[o].exec(s))||u[o]&&!(r=u[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):B(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],a=Y[e+" "];if(!a){for(t||(t=E(e)),n=t.length;n--;)a=y(t[n]),a[V]?i.push(a):r.push(a);a=Y(e,b(r,i)),a.selector=e}return a},A=t.select=function(e,t,n,i){var r,a,o,s,l,u="function"==typeof e&&e,h=!i&&E(e=u.selector||e);if(n=n||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===t.nodeType&&O&&x.relative[a[1].type]){if(t=(x.find.ID(o.matches[0].replace(we,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=fe.needsContext.test(e)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(we,xe),be.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&d(a),!e)return Q.apply(n,i),n;break}}return(u||T(e,h))(i,t,!O,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=V.split("").sort(z).join("")===V,w.detectDuplicates=!!N,P(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ee.find=ae,ee.expr=ae.selectors,ee.expr[":"]=ee.expr.pseudos,ee.unique=ae.uniqueSort,ee.text=ae.getText,ee.isXMLDoc=ae.isXML,ee.contains=ae.contains;var oe=ee.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^.[^:#\[\.,]*$/;ee.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ee.find.matchesSelector(i,e)?[i]:[]:ee.find.matches(e,ee.grep(t,function(e){return 1===e.nodeType}))},ee.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(ee(e).filter(function(){for(t=0;n>t;t++)if(ee.contains(r[t],this))return!0}));for(t=0;n>t;t++)ee.find(e,r[t],i);return i=this.pushStack(n>1?ee.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?ee(e):e||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,he=ee.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ee?t[0]:t,ee.merge(this,ee.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),se.test(n[1])&&ee.isPlainObject(t))for(n in t)ee.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ee.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(ee):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ee.makeArray(e,this))};he.prototype=ee.fn,ue=ee(Q);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};ee.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ee(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ee.fn.extend({has:function(e){var t=ee(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ee.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=oe.test(e)||"string"!=typeof e?ee(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&ee.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?ee.unique(a):a)},index:function(e){return e?"string"==typeof e?W.call(ee(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ee.unique(ee.merge(this.get(),ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ee.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ee.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ee.dir(e,"nextSibling")},prevAll:function(e){return ee.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ee.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ee.dir(e,"previousSibling",n)},siblings:function(e){return ee.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ee.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ee.merge([],e.childNodes)}},function(e,t){ee.fn[e]=function(n,i){var r=ee.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ee.filter(i,r)),this.length>1&&(pe[e]||ee.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,me={};ee.Callbacks=function(e){e="string"==typeof e?me[e]||o(e):ee.extend({},e);var t,n,i,r,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(t){ee.each(t,function(t,n){var i=ee.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:t&&(r=n,c(t))}return this},remove:function(){return l&&ee.each(arguments,function(e,t){for(var n;(n=ee.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?ee.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},ee.extend({Deferred:function(e){var t=[["resolve","done",ee.Callbacks("once memory"),"resolved"],["reject","fail",ee.Callbacks("once memory"),"rejected"],["notify","progress",ee.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ee.Deferred(function(n){ee.each(t,function(t,a){var o=ee.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&ee.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ee.extend(e,i):i}},r={};return i.pipe=i.then,ee.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=B.call(arguments),o=a.length,s=1!==o||e&&ee.isFunction(e.promise)?o:0,l=1===s?e:ee.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?B.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&ee.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}});var ge;ee.fn.ready=function(e){return ee.ready.promise().done(e),this},ee.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ee.readyWait++:ee.ready(!0)},ready:function(e){(e===!0?--ee.readyWait:ee.isReady)||(ee.isReady=!0,e!==!0&&--ee.readyWait>0||(ge.resolveWith(Q,[ee]),ee.fn.triggerHandler&&(ee(Q).triggerHandler("ready"),ee(Q).off("ready"))))}}),(ee.ready.promise=function(t){return ge||(ge=ee.Deferred(),"complete"===Q.readyState?setTimeout(ee.ready):(Q.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),ge.promise(t)})();var ve=ee.access=function(e,t,n,i,r,a,o){var s=0,l=e.length,u=null==n;if("object"===ee.type(n)){r=!0;for(s in n)ee.access(e,t,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,ee.isFunction(i)||(o=!0),u&&(o?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ee(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):a};ee.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=ee.acceptData,l.prototype={key:function(e){if(!l.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=l.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,ee.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=n;else if(ee.isEmptyObject(a))ee.extend(this.cache[r],t);else for(i in t)a[i]=t[i];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,ee.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,a=this.key(e),o=this.cache[a];if(void 0===t)this.cache[a]={};else{ee.isArray(t)?i=t.concat(t.map(ee.camelCase)):(r=ee.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(e){return!ee.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ye=new l,be=new l,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;ee.extend({hasData:function(e){return be.hasData(e)||ye.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ye.access(e,t,n)},_removeData:function(e,t){ye.remove(e,t)}}),ee.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=be.get(a),1===a.nodeType&&!ye.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=ee.camelCase(i.slice(5)),u(a,i,r[i])));ye.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){be.set(this,e)}):ve(this,function(t){var n,i=ee.camelCase(e);if(a&&void 0===t){if(n=be.get(a,e),void 0!==n)return n;if(n=be.get(a,i),void 0!==n)return n;if(n=u(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),ee.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ye.get(e,t),n&&(!i||ee.isArray(n)?i=ye.access(e,t,ee.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ee.queue(e,t),i=n.length,r=n.shift(),a=ee._queueHooks(e,t),o=function(){ee.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye.get(e,n)||ye.access(e,n,{empty:ee.Callbacks("once memory").add(function(){ye.remove(e,[t+"queue",n])})})}}),ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=ee.queue(this,e,t);ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ee.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=ye.get(a[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===ee.css(e,"display")||!ee.contains(e.ownerDocument,e)},Ee=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";J.focusinBubbles="onfocusin"in e;var Ae=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ne=/^([^.]*)(?:\.(.+)|)$/;ee.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,u,c,h,d,p,f,m,g=ye.get(e);if(g)for(n.handler&&(a=n,n=a.handler,r=a.selector),n.guid||(n.guid=ee.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return typeof ee!==Te&&ee.event.triggered!==t.type?ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],u=t.length;u--;)s=Ne.exec(t[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(h=ee.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=ee.event.special[p]||{},c=ee.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ee.expr.match.needsContext.test(r),namespace:f.join(".")},a),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,f,o)!==!1||e.addEventListener&&e.addEventListener(p,o,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),ee.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,o,s,l,u,c,h,d,p,f,m,g=ye.hasData(e)&&ye.get(e);if(g&&(l=g.events)){for(t=(t||"").match(fe)||[""],u=t.length;u--;)if(s=Ne.exec(t[u])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(h=ee.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ee.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ee.event.remove(e,p+t[u],n,i,!0);ee.isEmptyObject(l)&&(delete g.handle,ye.remove(e,"events"))}},trigger:function(t,n,i,r){var a,o,s,l,u,c,h,d=[i||Q],p=Z.call(t,"type")?t.type:t,f=Z.call(t,"namespace")?t.namespace.split("."):[];if(o=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!De.test(p+ee.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[ee.expando]?t:new ee.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ee.makeArray(n,[t]),h=ee.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ee.isWindow(i)){for(l=h.delegateType||p,De.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(i.ownerDocument||Q)&&d.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=d[a++])&&!t.isPropagationStopped();)t.type=a>1?l:h.bindType||p,c=(ye.get(o,"events")||{})[t.type]&&ye.get(o,"handle"),c&&c.apply(o,n),c=u&&o[u],c&&c.apply&&ee.acceptData(o)&&(t.result=c.apply(o,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!ee.acceptData(i)||u&&ee.isFunction(i[p])&&!ee.isWindow(i)&&(s=i[u],s&&(i[u]=null),ee.event.triggered=p,i[p](),ee.event.triggered=void 0,s&&(i[u]=s)),t.result}},dispatch:function(e){e=ee.event.fix(e);var t,n,i,r,a,o=[],s=B.call(arguments),l=(ye.get(this,"events")||{})[e.type]||[],u=ee.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=ee.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((ee.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)a=t[n],r=a.selector+" ",void 0===i[r]&&(i[r]=a.needsContext?ee(r,this).index(l)>=0:ee.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return t.length>s&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[ee.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Se.test(r)?this.mouseHooks:Ae.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new ee.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ee.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ee.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ee.extend(new ee.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ee.event.trigger(r,null,t):ee.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ee.Event=function(e,t){return this instanceof ee.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:h):this.type=e,t&&ee.extend(this,t),this.timeStamp=e&&e.timeStamp||ee.now(),void(this[ee.expando]=!0)):new ee.Event(e,t)},ee.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!ee.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ee.event.simulate(t,e.target,ee.event.fix(e),!0)};ee.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ye.access(i,t);r||i.addEventListener(e,n,!0),ye.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ye.access(i,t)-1;r?ye.access(i,t,r):(i.removeEventListener(e,n,!0),ye.remove(i,t))}}}),ee.fn.extend({on:function(e,t,n,i,r){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=h;else if(!i)return this;return 1===r&&(a=i,i=function(e){return ee().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ee.guid++)),this.each(function(){ee.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ee(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=h),this.each(function(){ee.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ee.event.trigger(e,t,n,!0):void 0}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Ie=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^$|\/(?:java|ecma)script/i,$e=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,ee.extend({clone:function(e,t,n){var i,r,a,o,s=e.cloneNode(!0),l=ee.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ee.isXMLDoc(e)))for(o=y(s),a=y(e),i=0,r=a.length;r>i;i++)b(a[i],o[i]);if(t)if(n)for(a=a||y(e),o=o||y(s),i=0,r=a.length;r>i;i++)v(a[i],o[i]);else v(e,s);return o=y(s,"script"),o.length>0&&g(o,!l&&y(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,u,c=t.createDocumentFragment(),h=[],d=0,p=e.length;p>d;d++)if(r=e[d],r||0===r)if("object"===ee.type(r))ee.merge(h,r.nodeType?[r]:r);else if(Ie.test(r)){for(a=a||c.appendChild(t.createElement("div")),o=(Me.exec(r)||["",""])[1].toLowerCase(),s=Ve[o]||Ve._default,a.innerHTML=s[1]+r.replace(Pe,"<$1></$2>")+s[2],u=s[0];u--;)a=a.lastChild;ee.merge(h,a.childNodes),a=c.firstChild,a.textContent=""}else h.push(t.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!i||-1===ee.inArray(r,i))&&(l=ee.contains(r.ownerDocument,r),a=y(c.appendChild(r),"script"),l&&g(a),n))for(u=0;r=a[u++];)Re.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,a=ee.event.special,o=0;void 0!==(n=e[o]);o++){if(ee.acceptData(n)&&(r=n[ye.expando],r&&(t=ye.cache[r]))){if(t.events)for(i in t.events)a[i]?ee.event.remove(n,i):ee.removeEvent(n,i,t.handle);ye.cache[r]&&delete ye.cache[r]}delete be.cache[n[be.expando]]}}}),ee.fn.extend({text:function(e){return ve(this,function(e){return void 0===e?ee.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ee.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ee.cleanData(y(n)),n.parentNode&&(t&&ee.contains(n.ownerDocument,n)&&g(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ee.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ee.clone(this,e,t)})},html:function(e){return ve(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Ve[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ee.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ee.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,i,r,a,o,s,l=0,u=this.length,c=this,h=u-1,d=e[0],p=ee.isFunction(d);if(p||u>1&&"string"==typeof d&&!J.checkClone&&Fe.test(d))return this.each(function(n){var i=c.eq(n);p&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=ee.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=ee.map(y(n,"script"),f),a=r.length;u>l;l++)o=n,l!==h&&(o=ee.clone(o,!0,!0),a&&ee.merge(r,y(o,"script"))),t.call(this[l],o,l);if(a)for(s=r[r.length-1].ownerDocument,ee.map(r,m),l=0;a>l;l++)o=r[l],Re.test(o.type||"")&&!ye.access(o,"globalEval")&&ee.contains(s,o)&&(o.src?ee._evalUrl&&ee._evalUrl(o.src):ee.globalEval(o.textContent.replace(Le,"")))}return this}}),ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ee.fn[e]=function(e){for(var n,i=[],r=ee(e),a=r.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),ee(r[o])[t](n),z.apply(i,n.get());return this.pushStack(i)}});var Ue,je={},He=/^margin/,qe=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),Be=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(a);var t=e.getComputedStyle(o,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(a)}var n,i,r=Q.documentElement,a=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(o),e.getComputedStyle&&ee.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=o.appendChild(Q.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(a),o.removeChild(n),t}}))}(),ee.swap=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r};var Ye=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+xe+")(.*)$","i"),We=new RegExp("^([+-])=("+xe+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ze=["Webkit","O","Moz","ms"];ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=ee.camelCase(t),l=e.style;return t=ee.cssProps[s]||(ee.cssProps[s]=C(l,s)),o=ee.cssHooks[t]||ee.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t]:(a=typeof n,"string"===a&&(r=We.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ee.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||ee.cssNumber[s]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,a,o,s=ee.camelCase(t);return t=ee.cssProps[s]||(ee.cssProps[s]=C(e.style,s)),o=ee.cssHooks[t]||ee.cssHooks[s],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Ke&&(r=Ke[t]),""===n||n?(a=parseFloat(r),n===!0||ee.isNumeric(a)?a||0:r):r}}),ee.each(["height","width"],function(e,t){ee.cssHooks[t]={get:function(e,n,i){return n?Ye.test(ee.css(e,"display"))&&0===e.offsetWidth?ee.swap(e,Ge,function(){return A(e,t,i)}):A(e,t,i):void 0},set:function(e,n,i){var r=i&&Be(e);return E(e,n,i?T(e,t,i,"border-box"===ee.css(e,"boxSizing",!1,r),r):0)}}}),ee.cssHooks.marginRight=k(J.reliableMarginRight,function(e,t){return t?ee.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),ee.each({margin:"",padding:"",border:"Width"
},function(e,t){ee.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+ke[i]+t]=a[i]||a[i-2]||a[0];return r}},He.test(e)||(ee.cssHooks[e+t].set=E)}),ee.fn.extend({css:function(e,t){return ve(this,function(e,t,n){var i,r,a={},o=0;if(ee.isArray(t)){for(i=Be(e),r=t.length;r>o;o++)a[t[o]]=ee.css(e,t[o],!1,i);return a}return void 0!==n?ee.style(e,t,n):ee.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?ee(this).show():ee(this).hide()})}}),ee.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(ee.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ee.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ee.fx.step[e.prop]?ee.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ee.cssProps[e.prop]]||ee.cssHooks[e.prop])?ee.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ee.fx=D.prototype.init,ee.fx.step={};var Je,Qe,Xe=/^(?:toggle|show|hide)$/,et=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),tt=/queueHooks$/,nt=[I],it={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=et.exec(t),a=r&&r[3]||(ee.cssNumber[e]?"":"px"),o=(ee.cssNumber[e]||"px"!==a&&+i)&&et.exec(ee.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+i||1;do s=s||".5",o/=s,ee.style(n.elem,e,o+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};ee.Animation=ee.extend(F,{tweener:function(e,t){ee.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],it[n]=it[n]||[],it[n].unshift(t)},prefilter:function(e,t){t?nt.unshift(e):nt.push(e)}}),ee.speed=function(e,t,n){var i=e&&"object"==typeof e?ee.extend({},e):{complete:n||!n&&t||ee.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ee.isFunction(t)&&t};return i.duration=ee.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ee.fx.speeds?ee.fx.speeds[i.duration]:ee.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ee.isFunction(i.old)&&i.old.call(this),i.queue&&ee.dequeue(this,i.queue)},i},ee.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ee.isEmptyObject(e),a=ee.speed(t,n,i),o=function(){var t=F(this,ee.extend({},e),a);(r||ye.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=ee.timers,o=ye.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&tt.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&ee.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ye.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=ee.timers,o=i?i.length:0;for(n.finish=!0,ee.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ee.each(["toggle","show","hide"],function(e,t){var n=ee.fn[t];ee.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,i,r)}}),ee.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ee.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ee.timers=[],ee.fx.tick=function(){var e,t=0,n=ee.timers;for(Je=ee.now();n.length>t;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ee.fx.stop(),Je=void 0},ee.fx.timer=function(e){ee.timers.push(e),e()?ee.fx.start():ee.timers.pop()},ee.fx.interval=13,ee.fx.start=function(){Qe||(Qe=setInterval(ee.fx.tick,ee.fx.interval))},ee.fx.stop=function(){clearInterval(Qe),Qe=null},ee.fx.speeds={slow:600,fast:200,_default:400},ee.fn.delay=function(e,t){return e=ee.fx?ee.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rt,at,ot=ee.expr.attrHandle;ee.fn.extend({attr:function(e,t){return ve(this,ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ee.removeAttr(this,e)})}}),ee.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Te?ee.prop(e,t,n):(1===a&&ee.isXMLDoc(e)||(t=t.toLowerCase(),i=ee.attrHooks[t]||(ee.expr.match.bool.test(t)?at:rt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ee.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void ee.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(fe);if(a&&1===e.nodeType)for(;n=a[r++];)i=ee.propFix[n]||n,ee.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&ee.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),at={set:function(e,t,n){return t===!1?ee.removeAttr(e,n):e.setAttribute(n,n),n}},ee.each(ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||ee.find.attr;ot[t]=function(e,t,i){var r,a;return i||(a=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=a),r}});var st=/^(?:input|select|textarea|button)$/i;ee.fn.extend({prop:function(e,t){return ve(this,ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ee.propFix[e]||e]})}}),ee.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!ee.isXMLDoc(e),a&&(t=ee.propFix[t]||t,r=ee.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(ee.propHooks.selected={get:function(e){return null}}),ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ee.propFix[this.toLowerCase()]=this});var lt=/[\t\r\n\f]/g;ee.fn.extend({addClass:function(e){var t,n,i,r,a,o,s="string"==typeof e&&e,l=0,u=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=ee.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?ee.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ee.isFunction(e)?function(n){ee(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=ee(this),a=e.match(fe)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ye.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(lt," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;ee.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ee.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ee(this).val()):e,null==r?r="":"number"==typeof r?r+="":ee.isArray(r)&&(r=ee.map(r,function(e){return null==e?"":e+""})),t=ee.valHooks[this.type]||ee.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ee.valHooks[r.type]||ee.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),ee.extend({valHooks:{option:{get:function(e){var t=ee.find.attr(e,"value");return null!=t?t:ee.trim(ee.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(J.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ee.nodeName(n.parentNode,"optgroup"))){if(t=ee(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=ee.makeArray(t),o=r.length;o--;)i=r[o],(i.selected=ee.inArray(i.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),ee.each(["radio","checkbox"],function(){ee.valHooks[this]={set:function(e,t){return ee.isArray(t)?e.checked=ee.inArray(ee(e).val(),t)>=0:void 0}},J.checkOn||(ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ee.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=ee.now(),ht=/\?/;ee.parseJSON=function(e){return JSON.parse(e+"")},ee.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&ee.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,vt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},_t={},wt="*/".concat("*"),xt=e.location.href,kt=yt.exec(xt.toLowerCase())||[];ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:mt.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ee.parseJSON,"text xml":ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,ee.ajaxSettings),t):L(ee.ajaxSettings,e)},ajaxPrefilter:R(bt),ajaxTransport:R(_t),ajax:function(e,t){function n(e,t,n,o){var l,c,v,y,_,x=t;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,a=o||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=V(h,w,n)),y=U(h,y,w,l),l?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(ee.lastModified[r]=_),_=w.getResponseHeader("etag"),_&&(ee.etag[r]=_)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",l?f.resolveWith(d,[c,x,w]):f.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?c:v]),m.fireWith(d,[w,x]),u&&(p.trigger("ajaxComplete",[w,h]),--ee.active||ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,o,s,l,u,c,h=ee.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?ee(d):ee.event,f=ee.Deferred(),m=ee.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=ft.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),n(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||xt)+"").replace(dt,"").replace(vt,kt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=ee.trim(h.dataType||"*").toLowerCase().match(fe)||[""],null==h.crossDomain&&(l=yt.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===kt[1]&&l[2]===kt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ee.param(h.data,h.traditional)),$(bt,h,t,w),2===b)return w;u=ee.event&&h.global,u&&0===ee.active++&&ee.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!gt.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(ht.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=pt.test(r)?r.replace(pt,"$1_="+ct++):r+(ht.test(r)?"&":"?")+"_="+ct++)),h.ifModified&&(ee.lastModified[r]&&w.setRequestHeader("If-Modified-Since",ee.lastModified[r]),ee.etag[r]&&w.setRequestHeader("If-None-Match",ee.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+wt+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===b))return w.abort();_="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(i=$(_t,h,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ee.get(e,t,n,"json")},getScript:function(e,t){return ee.get(e,void 0,t,"script")}}),ee.each(["get","post"],function(e,t){ee[t]=function(e,n,i,r){return ee.isFunction(n)&&(r=r||i,i=n,n=void 0),ee.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),ee._evalUrl=function(e){return ee.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ee.fn.extend({wrapAll:function(e){var t;return ee.isFunction(e)?this.each(function(t){ee(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(ee.isFunction(e)?function(t){ee(this).wrapInner(e.call(this,t))}:function(){var t=ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ee.isFunction(e);return this.each(function(n){ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ee.nodeName(this,"body")||ee(this).replaceWith(this.childNodes)}).end()}}),ee.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},ee.expr.filters.visible=function(e){return!ee.expr.filters.hidden(e)};var Ct=/%20/g,Et=/\[\]$/,Tt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;ee.param=function(e,t){var n,i=[],r=function(e,t){t=ee.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ee.ajaxSettings&&ee.ajaxSettings.traditional),ee.isArray(e)||e.jquery&&!ee.isPlainObject(e))ee.each(e,function(){r(this.name,this.value)});else for(n in e)j(n,e[n],t,r);return i.join("&").replace(Ct,"+")},ee.fn.extend({serialize:function(){return ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ee.prop(this,"elements");return e?ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ee(this).is(":disabled")&&St.test(this.nodeName)&&!At.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=ee(this).val();return null==n?null:ee.isArray(n)?ee.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),ee.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,Nt={},Pt={0:200,1223:204},Mt=ee.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Nt)Nt[e]()}),J.cors=!!Mt&&"withCredentials"in Mt,J.ajax=Mt=!!Mt,ee.ajaxTransport(function(e){var t;return J.cors||Mt&&!e.crossDomain?{send:function(n,i){var r,a=e.xhr(),o=++Dt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Nt[o],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status,a.statusText):i(Pt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=Nt[o]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ee.globalEval(e),e}}}),ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ee.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=ee("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var It=[],Ot=/(=)\?(?=&|$)|\?\?/;ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||ee.expando+"_"+ct++;return this[e]=!0,e}}),ee.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,o,s=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ee.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+r):t.jsonp!==!1&&(t.url+=(ht.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||ee.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,It.push(r)),o&&ee.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),ee.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=se.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ee.buildFragment([e],t,r),r&&r.length&&ee(r).remove(),ee.merge([],i.childNodes))};var Ft=ee.fn.load;ee.fn.load=function(e,t,n){if("string"!=typeof e&&Ft)return Ft.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return s>=0&&(i=ee.trim(e.slice(s)),e=e.slice(0,s)),ee.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&ee.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?ee("<div>").append(ee.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ee.fn[t]=function(e){return this.on(t,e)}}),ee.expr.filters.animated=function(e){return ee.grep(ee.timers,function(t){return e===t.elem}).length};var Rt=e.document.documentElement;ee.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,u,c=ee.css(e,"position"),h=ee(e),d={};"static"===c&&(e.style.position="relative"),s=h.offset(),a=ee.css(e,"top"),l=ee.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,u?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),ee.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d)}},ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ee.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;if(a)return t=a.documentElement,ee.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=H(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ee.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ee.nodeName(e[0],"html")||(i=e.offset()),i.top+=ee.css(e[0],"borderTopWidth",!0),i.left+=ee.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ee.css(n,"marginTop",!0),left:t.left-i.left-ee.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Rt;e&&!ee.nodeName(e,"html")&&"static"===ee.css(e,"position");)e=e.offsetParent;return e||Rt})}}),ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;ee.fn[t]=function(r){return ve(this,function(t,r,a){var o=H(t);return void 0===a?o?o[n]:t[r]:void(o?o.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):t[r]=a)},t,r,arguments.length,null)}}),ee.each(["top","left"],function(e,t){ee.cssHooks[t]=k(J.pixelPosition,function(e,n){return n?(n=x(e,t),qe.test(n)?ee(e).position()[t]+"px":n):void 0})}),ee.each({Height:"height",Width:"width"},function(e,t){ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ee.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return ve(this,function(t,n,i){var r;return ee.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ee.css(t,n,o):ee.style(t,n,i,o)},t,a?i:void 0,a,null)}})}),ee.fn.size=function(){return this.length},ee.fn.andSelf=ee.fn.addBack,"function"==typeof n&&n.amd&&n("jquery",[],function(){return ee});var $t=e.jQuery,Lt=e.$;return ee.noConflict=function(t){return e.$===ee&&(e.$=Lt),t&&e.jQuery===ee&&(e.jQuery=$t),ee},ee}),n("lib/jquery.jsonp",["jquery"],function(e){function t(e){a=[e]}function n(e,t,n){return e&&e.apply(t.context||t,n)}function i(e){return/\?/.test(e)?"&":"?"}function r(r){function d(e){G++||(K(),q&&(E[Y]={s:[e]}),V&&(e=V.apply(r,[e])),n(R,r,[e,_,r]),n(L,r,[r,_]))}function N(e){G++||(K(),q&&e!=w&&(E[Y]=e),n($,r,[r,e]),n(L,r,[r,e]))}r=e.extend({},A,r);var P,M,I,O,F,R=r.success,$=r.error,L=r.complete,V=r.dataFilter,U=r.callbackParameter,j=r.callback,H=r.cache,q=r.pageCache,B=r.charset,Y=r.url,z=r.data,W=r.timeout,G=0,K=e.noop;return k&&k(function(e){e.done(R).fail($),R=e.resolve,$=e.reject}).promise(r),r.abort=function(){!G++&&K()},n(r.beforeSend,r,[r])===!1||G?r:(Y=Y||l,z=z?"string"==typeof z?z:e.param(z,r.traditional):l,Y+=z?i(Y)+z:l,U&&(Y+=i(Y)+encodeURIComponent(U)+"=?"),!H&&!q&&(Y+=i(Y)+"_"+(new Date).getTime()+"="),Y=Y.replace(/=\?(&|$)/,"="+j+"$1"),q&&(P=E[Y])?P.s?d(P.s[0]):N(P):(x[j]=t,I=e(b)[0],I.id=h+T++,B&&(I[s]=B),S&&S.version()<11.6?(O=e(b)[0]).text="document.getElementById('"+I.id+"')."+f+"()":I[o]=o,D&&(I.htmlFor=I.id,I.event=p),I[m]=I[f]=I[g]=function(e){if(!I[v]||!/i/.test(I[v])){try{I[p]&&I[p]()}catch(t){}e=a,a=0,e?d(e[0]):N(u)}},I.src=Y,K=function(e){F&&clearTimeout(F),I[g]=I[m]=I[f]=null,C[y](I),O&&C[y](O)},C[c](I,M=C.firstChild),O&&C[c](O,M),F=W>0&&setTimeout(function(){N(w)},W)),r)}var a,o="async",s="charset",l="",u="error",c="insertBefore",h="_jqjsp",d="on",p=d+"click",f=d+u,m=d+"load",g=d+"readystatechange",v="readyState",y="removeChild",b="<script>",_="success",w="timeout",x=window,k=e.Deferred,C=e("head")[0]||document.documentElement,E={},T=0,A={callback:h,callbackParameter:"callback",url:location.href},S=x.opera,D=!!e("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;return r.setup=function(t){e.extend(A,t)},e.jsonp=r,e}),n("lib/jquery.ui",["lib/jquery.jsonp"],function(e){function t(t,i){var r,a,o,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&n(o)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function i(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='at-datepicker ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,a){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(a,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;a.length>r;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,n)}},e.extend(e.ui,{datepicker:{version:"1.11.4"}});var l;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,o=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;e.length>r;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,a){var o,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),s(d.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),l===r&&(l=null))},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,a,o,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),n=e.datepicker._get(a,"onSelect"),n?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,a,o,l,u,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),a=r?r.apply(t,[t,n]):{},a!==!1&&(s(n.settings,a),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?n.dpDiv.show(u,e.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,l=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],a=17,s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&o.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-o:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>u&&u>a?Math.abs(a+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),i=this._get(a,"onSelect"),i?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,a,o,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var n=t.length>r+1&&t.charAt(r+1)===e;return n&&r++,n},w=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,a=new RegExp("^\\d{"+r+","+i+"}"),o=n.substring(l).match(a);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(t,i,r){var a=-1,o=e.map(_(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(a=t[0],l+=i.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;t.length>r;r++)if(b)"'"!==t.charAt(r)||_("'")?k():b=!1;else switch(t.charAt(r)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":s=new Date(w("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((w("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(n.length>l&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=e.length>i+1&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(l(e))for(;n>i.length;)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},h="",d=!1;if(t)for(i=0;e.length>i;i++)if(d)"'"!==e.charAt(i)||l("'")?h+=e.charAt(i):d=!1;else switch(e.charAt(i)){case"d":h+=u("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),r,a);break;case"o":h+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),o,s);break;case"y":h+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(i)}return h},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=e.length>t+1&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,o=this._getFormatConfig(e);try{a=this.parseDate(n,i,o)||r}catch(s){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=r.getFullYear(),o=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,o))}u=l.exec(n)}return new Date(a,o,s)},o=null==n||""===n?i:"string"==typeof n?a(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return o=o&&"Invalid Date"===o.toString()?i:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,k,C,E,T,A,S,D,N,P,M,I,O,F,R,$,L,V,U=new Date,j=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),H=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),Y=this._get(e,"navigationAsDateFormat"),z=this._getNumberOfMonths(e),W=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==z[0]||1!==z[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),X=e.drawMonth-W,ee=e.drawYear;if(0>X&&(X+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-z[0]*z[1]+1,Q.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,X,1))>t;)X--,0>X&&(X=11,ee--);for(e.drawMonth=X,e.drawYear=ee,n=this._get(e,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,X-G,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,X)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=Y?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,X+G,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,ee,X)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Z:j,o=Y?this.formatDate(o,s,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",x=0;z[0]>x;x++){for(k="",this.maxRows=4,C=0;z[1]>C;C++){if(E=this._daylightSavingAdjust(new Date(ee,X,e.selectedDay)),T=" ui-corner-all",A="",K){if(A+="<div class='ui-datepicker-group",z[1]>1)switch(C){case 0:A+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case z[1]-1:A+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:A+=" ui-datepicker-group-middle",T=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?H?a:i:"")+(/all|right/.test(T)&&0===x?H?i:a:"")+this._generateMonthYearHeader(e,X,ee,J,Q,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)D=(w+c)%7,S+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+p[D]+"</span></th>";for(A+=S+"</tr></thead><tbody>",N=this._getDaysInMonth(ee,X),ee===e.selectedYear&&X===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),P=(this._getFirstDayOfMonth(ee,X)-c+7)%7,M=Math.ceil((P+N)/7),I=K&&this.maxRows>M?this.maxRows:M,this.maxRows=I,O=this._daylightSavingAdjust(new Date(ee,X,1-P)),F=0;I>F;F++){for(A+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(O)+"</td>":"",w=0;7>w;w++)$=g?g.apply(e.input?e.input[0]:null,[O]):[!0,""],L=O.getMonth()!==X,V=L&&!y||!$[0]||J&&J>O||Q&&O>Q,R+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(O.getTime()===E.getTime()&&X===e.selectedMonth&&e._keyEvent||b.getTime()===O.getTime()&&b.getTime()===E.getTime()?" "+this._dayOverClass:"")+(V?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+$[1]+(O.getTime()===Z.getTime()?" "+this._currentClass:"")+(O.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(V?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":V?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===j.getTime()?" ui-state-highlight":"")+(O.getTime()===Z.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);A+=R+"</tr>"}X++,X>11&&(X=0,ee++),A+="</tbody></table>"+(K?"</div>"+(z[0]>0&&C===z[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=A}_+=k}return _+=u,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,a,o,s){var l,u,c,h,d,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));
return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";return e}),n("jquery.amd",["lib/jquery.ui"],function(e){return e}),function(e,i){function r(t){function n(e,t){var n=new Function("constructor","  return function "+e+'(){\n    // wrapper function created dynamically for "'+e+'" constructor\n    // to allow instances to be identified in the debugger\n    constructor.apply(this, arguments);\n  }');return n(t)}function i(e,i){if(e&&e.hasOwnProperty(a)){var o=e[a],s=e.hasOwnProperty("constructor")?e.constructor:this;e=t.extend(e,{constructor:n(o,s)})}return r.call(this,e,i)}var r=e.Backbone.View.extend,a="__name__";e.Backbone.Model.extend=e.Backbone.Collection.extend=e.Backbone.Router.extend=e.Backbone.View.extend=i}var a=!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());if("function"==typeof n&&n.amd)n("backbone",["underscore","jquery.amd","exports"],function(t,n,o){e.Backbone=i(e,o,t,n),a&&r(t)});else if("undefined"!=typeof exports){var o=t("underscore");i(e,exports,o),a&&r(o)}else e.Backbone=i(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$),a&&r(e._)}(this,function(e,t,n,i){var r=e.Backbone,a=[],o=a.slice;t.VERSION="1.1.2",t.$=i,t._=n,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!u(this,"once",e,[t,i])||!t)return this;var r=this,a=n.once(function(){r.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,i)},off:function(e,t,i){var r,a,o,s,l,c,h,d;if(!this._events||!u(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),l=0,c=s.length;c>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=r=[],t||i)for(h=0,d=o.length;d>h;h++)a=o[h],(t&&t!==a.callback&&t!==a.callback._callback||i&&i!==a.context)&&r.push(a);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var a=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,i,this),(a||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var a=n.split(l),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(e,t){s[t]=function(t,i,r){var a=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return a[o]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var d=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,a,o,s,l,u,c,h;if(null==e)return this;if("object"==typeof e?(a=e,i=t):(a={})[e]=t,i||(i={}),!this._validate(a,i))return!1;o=i.unset,l=i.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(r in a)t=a[r],n.isEqual(h[r],t)||s.push(r),n.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete h[r]:h[r]=t;if(!l){s.length&&(this._pending=i);for(var d=0,p=s.length;p>d;d++)this.trigger("change:"+s[d],this,h[s[d]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var a in e)n.isEqual(r[a],t=e[a])||((i||(i={}))[a]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},P(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,a,o,s=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(e){l.attributes=s;var t=l.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(u&&u(l,e,i),void l.trigger("sync",l,e,i))},P(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=r),o=this.sync(a,this,i),r&&i.wait&&(this.attributes=s),o},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;P(this,e);var a=this.sync("delete",this,e);return e.wait||r(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){e in n&&(d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)})});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,a,o,s;for(r=0,a=e.length;a>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,a,o,s,l,u,c,h=t.at,p=this.model,f=this.comparator&&null==h&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},_=t.add,w=t.merge,x=t.remove,k=!f&&_&&x?[]:!1;for(r=0,a=e.length;a>r;r++){if(l=e[r]||{},o=l instanceof d?s=l:l[p.prototype.idAttribute||"id"],u=this.get(o))x&&(b[u.cid]=!0),w&&(l=l===s?s.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),f&&!c&&u.hasChanged(g)&&(c=!0)),e[r]=u;else if(_){if(s=e[r]=this._prepareModel(l,t),!s)continue;v.push(s),this._addReference(s,t)}s=u||s,!k||!s.isNew()&&b[s.id]||k.push(s),b[s.id]=!0}if(x){for(r=0,a=this.length;a>r;++r)b[(s=this.models[r]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||k&&k.length)if(f&&(c=!0),this.length+=v.length,null!=h)for(r=0,a=v.length;a>r;r++)this.models.splice(h+r,0,v[r]);else{k&&(this.models.length=0);var C=k||v;for(r=0,a=C.length;a>r;r++)this.models.push(C[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,a=v.length;a>r;r++)(s=v[r]).trigger("add",s,this,t);(c||k&&k.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null!=e?this._byId[e]||this._byId[e.id]||this._byId[e.cid]:void 0},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){e in n&&(f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)})});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){e in n&&(f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)})});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,w)),this.options=e,this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(_),a=r[1],o=r[2];i=n.bind(i,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,i):this.$el.on(a,o,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var a=k[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||N()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&x&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,A=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,s,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return t.history.route(e,function(n){var o=a._extractParameters(e,n);a.execute(r,o),a.trigger.apply(a,["route:"+i].concat(o)),a.trigger("route",i,o),t.history.trigger("route",a,i,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(S,"\\$&").replace(E,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var D=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=f.extend=C.extend=b.extend=D;var N=function(){throw new Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),n("node-querystring",[],function(){function e(){return Object.create?Object.create(null):{}}function t(t,n){if(0==t[n].length)return t[n]=e();var i=e();for(var r in t[n])i[r]=t[n][r];return t[n]=i,i}function n(e,i,r,a){var o=e.shift();if(o){var s=i[r]=i[r]||[];"]"==o?g(s)?""!=a&&s.push(a):"object"==typeof s?s[v(s).length]=a:s=i[r]=[i[r],a]:~m(o,"]")?(o=o.substr(0,o.length-1),!_.test(o)&&g(s)&&(s=t(i,r)),n(e,s,o,a)):(!_.test(o)&&g(s)&&(s=t(i,r)),n(e,s,o,a))}else g(i[r])?i[r].push(a):i[r]="object"==typeof i[r]?a:"undefined"==typeof i[r]?a:[i[r],a]}function i(t,i,r){if(~m(i,"]")){var a=i.split("[");n(a,t,"base",r)}else{if(!_.test(i)&&g(t.base)){var o=e();for(var s in t.base)o[s]=t.base[s];t.base=o}c(t.base,i,r)}return t}function r(e){if("object"!=typeof e)return e;if(g(e)){var t=[];for(var n in e)t.push(e[n]);return t}for(var i in e)e[i]=r(e[i]);return e}function a(e){var t={base:{}};return y(v(e),function(n){i(t,n,e[n])}),r(t.base)}function o(t){var n=b(String(t).split("&"),function(e,t){var n=m(t,"="),r=h(t),a=t.substr(0,r||n),o=t.substr(r||n,t.length),o=o.substr(m(o,"=")+1,o.length);return""==a&&(a=t,o=""),""==a?e:i(e,d(a),d(o))},{base:e()}).base;return r(n)}function s(e,t){if(!t)throw new TypeError("stringify expects an object");return t+"="+encodeURIComponent(e)}function l(e,t){var n=[];if(!t)throw new TypeError("stringify expects an object");for(var i=0;e.length>i;i++)n.push(w(e[i],t+"["+i+"]"));return n.join("&")}function u(e,t){for(var n,i=[],r=v(e),a=0,o=r.length;o>a;++a)n=r[a],""!=n&&i.push(null==e[n]?encodeURIComponent(n)+"=":w(e[n],t?t+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return i.join("&")}function c(e,t,n){var i=e[t];void 0===i?e[t]=n:g(i)?i.push(n):e[t]=n}function h(e){for(var t,n,i=e.length,r=0;i>r;++r)if(n=e[r],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return r}function d(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}var p={},f=Object.prototype.toString,m="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;e.length>n;n++)if(e[n]===t)return n;return-1},g=Array.isArray||function(e){return"[object Array]"==f.call(e)},v=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},y="function"==typeof Array.prototype.forEach?function(e,t){return e.forEach(t)}:function(e,t){for(var n=0;e.length>n;n++)t(e[n])},b=function(e,t,n){if("function"==typeof e.reduce)return e.reduce(t,n);for(var i=n,r=0;e.length>r;r++)i=t(i,e[r]);return i},_=/^[0-9]+$/;p.parse=function(e){return null==e||""==e?{}:"object"==typeof e?a(e):o(e)};var w=p.stringify=function(e,t){return g(e)?l(e,t):"[object Object]"==f.call(e)?u(e,t):"string"==typeof e?s(e,t):t+"="+encodeURIComponent(String(e))};return p}),n("NVTagCallbacks",["underscore"],function(e){return function(t,n){if("nvtag_callbacks"in window&&t in window.nvtag_callbacks&&e.isArray(window.nvtag_callbacks[t])){var i=null;n=e.reduce(window.nvtag_callbacks[t],function(t,n){return i=e.isFunction(n)&&n(t),e.isObject(i)?i:t},n)}if("nvtag_plugins"in window&&e.isArray(window.nvtag_plugins)){var r=null;n=e.reduce(window.nvtag_plugins,function(n,i){return r=e.isObject(i)&&e.isFunction(i[t])&&i[t](n),e.isObject(r)?r:n},n)}return n}}),n("user.agent",[],function(){return function e(t,n,i){"use strict";var r=" ua-",a=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,o=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,s=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,l=/\bsilk-accelerated=true\b/,u=/\bfluidapp\b/,c=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,h=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,d=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,p=function(e,t){var n={};if(t&&(n.standalone=t),e=(""+e).toLowerCase(),!e)return n;for(var i,r,p=e.split(/[()]/),f=0,m=p.length;m>f;f++)if(f%2){var g=p[f].split(";");for(i=0,r=g.length;r>i;i++)if(a.exec(g[i])){var v=RegExp.$1.split(" ").join("_"),y=RegExp.$2;(!n[v]||parseFloat(n[v])<parseFloat(y))&&(n[v]=y)}}else{var b=p[f].match(o);if(b)for(i=0,r=b.length;r>i;i++){var _=b[i].split(/[\/\s]+/);_.length&&"mozilla"!==_[0]&&(n[_[0].split(" ").join("_")]=_.slice(1).join("-"))}}if(h.exec(e))n.mobile=RegExp.$1,s.exec(e)&&(delete n[n.mobile],n.blackberry=n.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?n.mobile="blackberry":"0.0.1"===n.version&&(n.blackberry="7.1.0.0"));else if(c.exec(e))n.desktop=RegExp.$1;else if(d.exec(e)){n.game=RegExp.$1;var w=n.game.split(" ").join("_");n.version&&!n[w]&&(n[w]=n.version)}return n.intel_mac_os_x?(n.mac_os_x=n.intel_mac_os_x.split("_").join("."),delete n.intel_mac_os_x):n.cpu_iphone_os?(n.ios=n.cpu_iphone_os.split("_").join("."),delete n.cpu_iphone_os):n.cpu_os?(n.ios=n.cpu_os.split("_").join("."),delete n.cpu_os):"iphone"!==n.mobile||n.ios||(n.ios="1"),n.opera&&n.version?(n.opera=n.version,delete n.blackberry):l.exec(e)?n.silk_accelerated=!0:u.exec(e)&&(n.fluidapp=n.version),n.applewebkit?(n.webkit=n.applewebkit,delete n.applewebkit,n.opr&&(n.opera=n.opr,delete n.opr,delete n.chrome),n.safari&&(n.chrome||n.crios||n.opera||n.silk||n.fluidapp||n.phantomjs||n.mobile&&!n.ios?delete n.safari:n.safari=n.version&&!n.rim_tablet_os?n.version:{419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(n.safari,10)]||n.safari)):n.msie||n.trident?(n.opera||(n.ie=n.msie||n.rv),delete n.msie,n.windows_phone_os?(n.windows_phone=n.windows_phone_os,delete n.windows_phone_os):("wpdesktop"===n.mobile||"xblwp7"===n.mobile||"zunewp7"===n.mobile)&&(n.mobile="windows desktop",n.windows_phone=9>+n.ie?"7.0":10>+n.ie?"7.5":"8.0",delete n.windows_nt)):(n.gecko||n.firefox)&&(n.gecko=n.rv),n.rv&&delete n.rv,n.version&&delete n.version,n.mac_os_x&&(n.osx=n.mac_os_x,delete n.mac_os_x),n.desktop&&/^(win|mac)/.test(n.desktop)&&(n.desktop=n.desktop.substr(0,3)),n}(n,i),f=function(e){function t(e,t){e=e.split(".").join("-");var n=r+e;if("string"==typeof t){t=t.split(" ").join("_").split(".").join("-");for(var i=t.indexOf("-");i>0;)n+=r+e+"-"+t.substring(0,i),i=t.indexOf("-",i+1);n+=r+e+"-"+t}return n}var n="";for(var i in e)i&&e.hasOwnProperty(i)&&(n+=t(i,e[i]));return n},e=f(p);return t.className=t.className?t.className+e:e.substr(1),p}(document.documentElement,navigator.userAgent,navigator.standalone)}),n("databag",["backbone","user.agent"],function(e,t){e.emulateHTTP=!!t.ie;var n=e._,i=e.$,r={regex:/\.Value$/,value:".Value"},a={email:"EmailAddress",firstName:"FirstName",lastName:"LastName"},o=["Prefix","FullName","FirstName","MiddleName","LastName","Suffix","DateOfBirth","Pronoun","Genders","Race","Ethnicity","SexualOrientation","PreferredLanguage","AddressLine1","AddressLine2","City","StateProvince","PostalCode","Country","HomePhone","MobilePhone","WorkPhone","EmailAddress","WorkEmail","TwitterHandle","FacebookProfileUrl","Employer","Occupation","WorkAddressLine1","WorkAddressLine2","WorkCity","WorkStateProvince","WorkPostalCode","SpouseName","email","firstName","lastName"],s=["Comment","version","Account","ExpirationMonth","ExpirationYear","formType","TenantName","Cvv2","ProvideAmountOptions","SelectAmount","OtherAmount","SuggestedAmount","Amount","MarketSource","AttributedContactIds","ContributionDate","ContributionProcessedOn","IsRecurring","MailingId","SelectedFrequency","SourceCodeIds","ngpvanuser","TicketHolders","Tickets","ConfirmedEligibility","TicketHolders.Index","TicketHoldersJson","CampaignEventId","AdditionalContributionValue","YesSignMeUpForEmailUpdates","YesSignMeUpForUpdatesForBinder","ProcessingCurrency","form_build_id","form_id","op","type","oberon_form_id","form_token","AttendeeFirstName","AttendeeLastName","TicketLevel","TicketCount","indexed_on","modified_on"],l=i(".ngp-form").filter(function(){return!!i(this).data("databagEndpoint")}).first().data("databagEndpoint");l&&!/\/$/.test(l)&&(l+="/");var u=l||"https://profile.ngpvan.com/",c=/^DisclosureFieldsForDonor_(\d+)$/;return e.Model.extend({__name__:"Databag",databag_root:u,internal_keys:["id","name"],clear:function(){return n(this.getDict()).keys().each(this.unset,this),this.trigger("clear"),this},getDict:function(){var e=n.omit(this.attributes,this.internal_keys);return e.FullName=this.name(),e},set:function(t,i,r){if(null==t)return this;var o,s=this.blacklist(),l=function(e,t){return!n.isObject(e)&&!n.contains(s,t)};if(n.isObject(t))o={},n.each(t,function(e,t){l(e,t)&&(o[t]=e)}),r=i;else{if(!l(i,t))return this;o={},o[t]=i}return n.each(a,function(e,t){o.hasOwnProperty(t)&&(o[e]=o[t],delete o[t])}),e.Model.prototype.set.call(this,o,r)},hardUnset:function(e,t){return delete this.attributes[e],this},setWithFormState:function(e){var t;return t=n.omit(e,this.blacklist()),t=n.reduce(t,function(e,t,n){return"string"!=typeof t&&(t=JSON.stringify(t)),e[n]=t,e},{}),this.get("AddressLine1")!==t.AddressLine1&&(t.AddressLine2=e.AddressLine2||""),this.set(t,{silent:!0}),this},urlRoot:u+"v2/data/",url:function(){return this.urlRoot+this.get("id")+"/"+this.get("name")},initialize:function(){var t=this;n.bindAll(this,"clear"),this.deferred=e.$.Deferred(),this.on("sync",function(){this.deferred.resolve(t),this.synced=!0}),this.has("cache")&&(this.cache=this.get("cache"),this.hardUnset("cache"))},promise:function(){return this.deferred.promise()},blacklist:function(e){var t=s.slice();return n.isString(e)&&/^(pull|push)$/i.test(e)&&(t=t.concat(this.internal_keys).concat(["CCType","PnRef","ContributionDateTimeStamp","ContributionType","FullName","ConfirmationID","confirmationID","ContributionAmount","CC4Digit"])),t},whitelist:function(){return o.slice()},toJSON:function(){return this.pick(function(e,t){return n.contains(o,t)||c.test(t)})},save:function(){return n.each(a,function(e,t){this.attributes.hasOwnProperty(e)&&(this.attributes[t]=this.attributes[e],delete this.attributes[e])},this),e.Model.prototype.save.apply(this,arguments)},fetch:function(n){if(this.attributes.id){n=n||{},n.timeout=n.timeout||2e3,n.cache=t.ie?!1:"cache"in n?n.cache:"cache"in this?this.cache:!0;var r=this.attributes.id,a=this.get("name");return e.Model.prototype.fetch.call(this,n).then(function(){a="nvtag"===a?"Profile":a;var e=[];if(window.nvtagDebug&&e.push("http://localhost:3251","http://localhost:1793"),-1===window.location.origin.indexOf("forms-prod.azurewebsites.net")&&(window.location.origin.indexOf(".azurewebsites.net")>=0||window.location.origin.indexOf("staging.ngpvan.com")>=0||window.location.origin.indexOf("staging.everyaction.com")>=0||window.nvtagDebug))e.push("https://ngpvan-advocator-dev-a.herokuapp.com","https://ngpvan-advocator-dev-b.herokuapp.com","https://ngpvan-advocator-dev-c.herokuapp.com","https://ngpvan-advocator-dev-d.herokuapp.com","https://ngpvan-advocator-dev-e.herokuapp.com","https://ngpvan-advocator-integration.herokuapp.com","https://ngpvan-advocator-staging.herokuapp.com"),e.push(window.location.origin);else{var t=["https://pbcontributions.cq.com","https://act.seiu.org","https://donate.nonhumanrights.org","https://www.weareplannedparenthoodaction.org","https://www.weareplannedparenthood.org","https://support.naacp.org","https://donate.ushmm.org","https://support.halcyonhouse.org","https://secure.hydratinghumanity.org","https://act.shotatlife.org","https://act.unfoundation.org","https://act.unausa.org","https://act.nothingbutnets.net","https://act.girlup.org","https://act.cleancookstoves.org","https://act.betterworldcampaign.org","https://act.biologicaldiversity.org","https://secure.sempervirens.org","https://act.nwlc.org","https://act.audubon.org","https://engage.wilsoncenter.org","https://secure.nif.org","https://action.splcenter.org"];e.push("https://secure.everyaction.com","https://secure.ngpvan.com"),e.indexOf(window.location.origin)<0&&t.indexOf(window.location.origin)>=0&&e.push(window.location.origin)}e.forEach(function(e){i.get(e+"/Databag/"+a+"/"+r)})})}return this.deferred.reject("Cannot fetch a bag without an id"),this.promise()},name:function(){var e="";return this.has("FirstName")&&(e+=this.get("FirstName")),this.has("MiddleName")&&(e&&(e+=" "),e+=this.get("MiddleName")),this.has("LastName")&&(e&&(e+=" "),e+=this.get("LastName")),e},parse:function(e,t){var i={};return n.each(e,function(e,t,o){if(t=a[t]||t,r.regex.test(t)){var s=t.replace(r.regex,"");n.isUndefined(o[s])&&(i[s]=e)}else i[t]=e}),n.omit(i,this.blacklist("pull"))}})}),n("profile_databag",["jquery.amd","databag","user.agent"],function(e,t,n){var i=new t({name:"nvtag"});return e.jsonp({cache:!n.ie,url:i.databag_root+"identity"}).then(function(e){i.whitelisted=!0,e&&i.set("id",e,{silent:!0})},function(){i.whitelisted=!1,e(".ngp-form .FastAction").remove()}).always(function(){i.fetch({prefill:!0})}),i}),n("fast_databag",["databag"],function(e){return new e({name:"fastaction"})}),n("parseUrl",[],function(){function e(e){return e?decodeURIComponent(e).replace(n.plus," "):null}var t=["protocol","host","port","pathname","search","baseURI","hostname","href","hash","origin"],n={plus:/\+/g,"true":/^true$/i,bool:/^(true|false)$/i,https:/^https:?$/,query:/(?:^|&)([^&=]*)=?([^&]*)/g};return function(i){var r={},a=document.createElement("a");a.href=i;for(var o=t.length-1;o>=0;o--)r[t[o]]=a[t[o]]||"";return r._=a,
r.ssl=n.https.test(r.protocol),r.host=r.host||r.port?r.hostname+":"+r.port:r.hostname,r.origin=r.origin||r.protocol+"//"+r.host,r.pathname="/"===r.pathname[0]?r.pathname:"/"+r.pathname,r.toString=r.toJSON=r.valueOf=function(){return r._.toString()},r.search&&r.search.length>1&&(r.query={},r.search.substr(1).replace(n.query,function(t,i,a){if(i){var o=e(i),s=e(a);n.bool.test(s)&&(s=n["true"].test(s)),r.query[o]=s}})),r}}),n("timing",[],function(){function e(e,t){return this.variable=e,this.label=t?t:void 0,this.startTime=(new Date).getTime(),this}var t={},n=6e4;return e.prototype.send=function(){this.endTime=(new Date).getTime();var e=this.endTime-this.startTime;return e>0&&n>e&&window.atLayer.push({event:"timing",timingCategory:"ActionTag",timingVar:this.variable,timingValue:e,timingLabel:this.label}),e},{start:function(i,r){var a=r?i+" ("+r+")":i;console.time(a),t[a]=new e(i,r),t[a].timeout=setTimeout(function(){t[a]=null,console.timeEnd(a)},n+1)},end:function(e,n){var i=n?e+" ("+n+")":e;if(t[i]){var r=t[i];return t[i]=null,console.timeEnd(i),clearTimeout(r.timeout),r.send()}}}}),n("loadCSS",["underscore","jquery.amd"],function(e,t){return e.memoize(function(e){var n=document.createElement("link"),i=t.Deferred();return n.type="text/css",n.rel="stylesheet","undefined"!=typeof n.addEventListener?(n.addEventListener("load",i.resolve,!1),n.addEventListener("error",i.reject,!1)):"undefined"!=typeof n.attachEvent&&n.attachEvent("onload",i.resolve),setTimeout(i.resolve,1e3),n.href=e,document.getElementsByTagName("head")[0].appendChild(n),i.promise()})}),function(e){"use strict";var t={};t.lastActive=void 0,t.activeElement=void 0,t._addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t._addEventListener(document,"keyup",function(e){var n=window.location.hash.replace("#","");if(""!==n&&"!"!==n&&27===e.keyCode){if(window.location.hash="!",t.lastActive)return!1;t.removeFocus()}},!1),t._dispatchEvent=function(e,t){var n;document.createEvent&&(n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.customData={modal:t},document.dispatchEvent(n))},t.mainHandler=function(){var e,n,i=window.location.hash.replace("#",""),r=i?document.getElementById(i):!1,a=document.documentElement.className;r?(e=r.children[0],e&&e.className.match(/modal-inner/)&&(a.match(/has-overlay/)||(document.documentElement.className+=" has-overlay"),t.activeElement&&(n=t.activeElement,n.className=n.className.replace(" is-active","")),r.className+=" is-active",t.activeElement=r,t.setFocus(i),t._dispatchEvent("cssmodal:show",t.activeElement))):(document.documentElement.className=a.replace(" has-overlay",""),t.activeElement&&(t.activeElement.className=t.activeElement.className.replace(" is-active",""),t._dispatchEvent("cssmodal:hide",t.activeElement),t.activeElement=null,t.removeFocus()))},t._addEventListener(window,"hashchange",t.mainHandler),t._addEventListener(window,"load",t.mainHandler),t.setFocus=function(){t.activeElement&&(t.lastActive=document.activeElement,t.activeElement.focus())},t.removeFocus=function(){t.lastActive&&t.lastActive.focus()},e.CSSModal=t}(window),n("modal",function(){}),n("gtm",[],function(){!function(e,t,n,i,r){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],o=t.createElement(n),s="dataLayer"!=i?"&l="+i:"";o.async=!0,o.src="//www.googletagmanager.com/gtm.js?id="+r+s,a.parentNode.insertBefore(o,a)}(window,document,"script","atLayer","GTM-5L2FSL")}),n("jquery.timepicker",["jquery.amd"],function(e){function t(e,t,n){return new Array(n+1-e.length).join(t)+e}function n(){if(1===arguments.length){var t=arguments[0];return"string"==typeof t&&(t=e.fn.timepicker.parseTime(t)),new Date(0,0,0,t.getHours(),t.getMinutes(),t.getSeconds())}return 3===arguments.length?new Date(0,0,0,arguments[0],arguments[1],arguments[2]):2===arguments.length?new Date(0,0,0,arguments[0],arguments[1],0):new Date(0,0,0)}e.TimePicker=function(){var t=this;t.container=e(".ui-timepicker-container"),t.ui=t.container.find(".ui-timepicker"),0===t.container.length&&(t.container=e("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),t.ui=e("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container),t.viewport=e("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(t.ui),e.fn.jquery>="1.4.2"&&t.ui.delegate("a","mouseenter.timepicker",function(){t.activate(!1,e(this).parent())}).delegate("a","mouseleave.timepicker",function(){t.deactivate(!1)}).delegate("a","click.timepicker",function(n){n.preventDefault(),t.select(!1,e(this).parent())}))},e.TimePicker.count=0,e.TimePicker.instance=function(){return e.TimePicker._instance||(e.TimePicker._instance=new e.TimePicker),e.TimePicker._instance},e.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(t,i){var r,a,o=this,s=e("<ul></ul>"),l=null;for(-1===t.options.timeFormat.indexOf("m")&&t.options.interval%60!==0&&(t.options.interval=60*Math.max(Math.round(t.options.interval/60),1)),r=i?n(i):t.options.startTime?n(t.options.startTime):n(t.options.startHour,t.options.startMinutes),a=new Date(r.getTime()+864e5);a>r;)o._isValidTime(t,r)&&(l=e("<li>").addClass("ui-menu-item").appendTo(s),e("<a>").addClass("ui-corner-all").text(e.fn.timepicker.formatTime(t.options.timeFormat,r)).appendTo(l),l.data("time-value",r)),r=new Date(r.getTime()+60*t.options.interval*1e3);return s.children()},_isValidTime:function(e,t){var i=null,r=null;return t=n(t),null!==e.options.minTime?i=n(e.options.minTime):(null!==e.options.minHour||null!==e.options.minMinutes)&&(i=n(e.options.minHour,e.options.minMinutes)),null!==e.options.maxTime?r=n(e.options.maxTime):(null!==e.options.maxHour||null!==e.options.maxMinutes)&&(r=n(e.options.maxHour,e.options.maxMinutes)),null!==i&&null!==r?t>=i&&r>=t:null!==i?t>=i:null!==r?r>=t:!0},_hasScroll:function(){var e="undefined"!=typeof this.ui.prop?"prop":"attr";return this.ui.height()<this.ui[e]("scrollHeight")},_move:function(e,t,n){var i=this;if(i.closed()&&i.open(e),!i.active)return void i.activate(e,i.viewport.children(n));var r=i.active[t+"All"](".ui-menu-item").eq(0);r.length?i.activate(e,r):i.activate(e,i.viewport.children(n))},register:function(t,n){var i=this,r={};r.element=e(t),r.element.data("TimePicker")||(r.options=e.metadata?e.extend({},n,r.element.metadata()):e.extend({},n),r.widget=i,e.extend(r,{next:function(){return i.next(r)},previous:function(){return i.previous(r)},first:function(){return i.first(r)},last:function(){return i.last(r)},selected:function(){return i.selected(r)},open:function(){return i.open(r)},close:function(){return i.close(r)},closed:function(){return i.closed(r)},destroy:function(){return i.destroy(r)},parse:function(e){return i.parse(r,e)},format:function(e,t){return i.format(r,e,t)},getTime:function(){return i.getTime(r)},setTime:function(e,t){return i.setTime(r,e,t)},option:function(e,t){return i.option(r,e,t)}}),i._setDefaultTime(r),i._addInputEventsHandlers(r),r.element.data("TimePicker",r))},_setDefaultTime:function(t){"now"===t.options.defaultTime?t.setTime(n(new Date)):t.options.defaultTime&&t.options.defaultTime.getFullYear?t.setTime(n(t.options.defaultTime)):t.options.defaultTime&&t.setTime(e.fn.timepicker.parseTime(t.options.defaultTime))},_addInputEventsHandlers:function(t){var n=this;t.element.bind("keydown.timepicker",function(e){switch(e.which||e.keyCode){case n.keyCode.ENTER:case n.keyCode.NUMPAD_ENTER:e.preventDefault(),n.closed()?t.element.trigger("change.timepicker"):n.select(t,n.active);break;case n.keyCode.UP:t.previous();break;case n.keyCode.DOWN:t.next();break;default:n.closed()||t.close(!0)}}).bind("focus.timepicker",function(){t.open()}).bind("blur.timepicker",function(){setTimeout(function(){t.element.data("timepicker-user-clicked-outside")&&t.close()})}).bind("change.timepicker",function(){t.closed()&&t.setTime(e.fn.timepicker.parseTime(t.element.val()))})},select:function(t,n){var i=this,r=t===!1?i.instance:t;i.setTime(r,e.fn.timepicker.parseTime(n.children("a").text())),i.close(r,!0)},activate:function(e,t){var n=this,i=e===!1?n.instance:e;if(i===n.instance){if(n.deactivate(),n._hasScroll()){var r=t.offset().top-n.ui.offset().top,a=n.ui.scrollTop(),o=n.ui.height();0>r?n.ui.scrollTop(a+r):r>=o&&n.ui.scrollTop(a+r-o+t.height())}n.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()}},deactivate:function(){var e=this;e.active&&(e.active.children("a").removeClass("ui-state-hover").removeAttr("id"),e.active=null)},next:function(e){return(this.closed()||this.instance===e)&&this._move(e,"next",".ui-menu-item:first"),e.element},previous:function(e){return(this.closed()||this.instance===e)&&this._move(e,"prev",".ui-menu-item:last"),e.element},first:function(e){return this.instance===e?this.active&&0===this.active.prevAll(".ui-menu-item").length:!1},last:function(e){return this.instance===e?this.active&&0===this.active.nextAll(".ui-menu-item").length:!1},selected:function(e){return this.instance===e&&this.active?this.active:null},open:function(t){var n=this,i=t.getTime(),r=t.options.dynamic&&i;if(!t.options.dropdown)return t.element;switch(t.element.data("timepicker-event-namespace",Math.random()),e(document).bind("click.timepicker-"+t.element.data("timepicker-event-namespace"),function(e){t.element.get(0)===e.target?t.element.data("timepicker-user-clicked-outside",!1):t.element.data("timepicker-user-clicked-outside",!0).blur()}),(t.rebuild||!t.items||r)&&(t.items=n._items(t,r?i:null)),(t.rebuild||n.instance!==t||r)&&("1.4.2">e.fn.jquery?(n.viewport.children().remove(),n.viewport.append(t.items),n.viewport.find("a").bind("mouseover.timepicker",function(){n.activate(t,e(this).parent())}).bind("mouseout.timepicker",function(){n.deactivate(t)}).bind("click.timepicker",function(i){i.preventDefault(),n.select(t,e(this).parent())})):(n.viewport.children().detach(),n.viewport.append(t.items))),t.rebuild=!1,n.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(),t.options.theme){case"standard":n.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":n.container.addClass("ui-timepicker-standard ui-timepicker-corners")}n.container.hasClass("ui-timepicker-no-scrollbar")||t.options.scrollbar||(n.container.addClass("ui-timepicker-no-scrollbar"),n.viewport.css({paddingRight:40}));var a=n.container.outerHeight()-n.container.height(),o=t.options.zindex?t.options.zindex:t.element.offsetParent().css("z-index"),s=t.element.offset();n.container.css({top:s.top+t.element.outerHeight(),left:s.left}),n.container.show(),n.container.css({left:t.element.offset().left,height:n.ui.outerHeight()+a,width:t.element.outerWidth(),zIndex:o,cursor:"default"});var l=n.container.width()-(n.ui.outerWidth()-n.ui.width());return n.ui.css({width:l}),n.viewport.css({width:l}),t.items.css({width:l}),n.instance=t,i?t.items.each(function(){var r,a=e(this);return r="1.4.2">e.fn.jquery?e.fn.timepicker.parseTime(a.find("a").text()):a.data("time-value"),r.getTime()===i.getTime()?(n.activate(t,a),!1):!0}):n.deactivate(t),t.element},close:function(t){var n=this;return n.instance===t&&(n.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),n.ui.scrollTop(0),n.ui.children().removeClass("ui-state-hover")),e(document).unbind("click.timepicker-"+t.element.data("timepicker-event-namespace")),t.element},closed:function(){return this.ui.is(":hidden")},destroy:function(e){var t=this;return t.close(e,!0),e.element.unbind(".timepicker").data("TimePicker",null)},parse:function(t,n){return e.fn.timepicker.parseTime(n)},format:function(t,n,i){return i=i||t.options.timeFormat,e.fn.timepicker.formatTime(i,n)},getTime:function(t){var n=this,i=e.fn.timepicker.parseTime(t.element.val());return i instanceof Date&&!n._isValidTime(t,i)?null:i instanceof Date&&t.selectedTime?t.format(i)===t.format(t.selectedTime)?t.selectedTime:i:i instanceof Date?i:null},setTime:function(t,i,r){var a=this,o=t.selectedTime;if("string"==typeof i&&(i=t.parse(i)),i&&i.getMinutes&&a._isValidTime(t,i)){if(i=n(i),t.selectedTime=i,t.element.val(t.format(i,t.options.timeFormat)),r)return t}else t.selectedTime=null;return(null!==o||null!==t.selectedTime)&&(t.element.trigger("time-change",[i]),e.isFunction(t.options.change)&&t.options.change.apply(t.element,[i])),t.element},option:function(t,n,i){if("undefined"==typeof i)return t.options[n];var r,a,o=t.getTime();"string"==typeof n?(r={},r[n]=i):r=n,a=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"],e.each(r,function(n){t.options[n]=r[n],t.rebuild=t.rebuild||e.inArray(n,a)>-1}),t.rebuild&&t.setTime(o)}},e.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},e.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},e.fn.timepicker=function(t){if("string"==typeof t){var n,i,r=Array.prototype.slice.call(arguments,1);return n="option"===t&&arguments.length>2?"each":-1!==e.inArray(t,e.TimePicker.methods.chainable)?"each":"map",i=this[n](function(){var n=e(this),i=n.data("TimePicker");return"object"==typeof i?i[t].apply(i,r):void 0}),"map"===n&&1===this.length?e.makeArray(i).shift():"map"===n?e.makeArray(i):i}if(1===this.length&&this.data("TimePicker"))return this.data("TimePicker");var a=e.extend({},e.TimePicker.defaults,t);return this.each(function(){e.TimePicker.instance().register(this,a)})},e.fn.timepicker.formatTime=function(e,n){var i=n.getHours(),r=i%12,a=n.getMinutes(),o=n.getSeconds(),s={hh:t((0===r?12:r).toString(),"0",2),HH:t(i.toString(),"0",2),mm:t(a.toString(),"0",2),ss:t(o.toString(),"0",2),h:0===r?12:r,H:i,m:a,s:o,p:i>11?"PM":"AM"},l=e,u="";for(u in s)s.hasOwnProperty(u)&&(l=l.replace(new RegExp(u,"g"),s[u]));return l=l.replace(new RegExp("a","g"),i>11?"pm":"am")},e.fn.timepicker.parseTime=function(){var t=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]],i=t.length;return function(r){var a=n(new Date),o=!1,s=!1,l=!1,u=!1,c=!1;if("undefined"==typeof r||!r.toLowerCase)return null;r=r.toLowerCase(),o=/a/.test(r),s=o?!1:/p/.test(r),r=r.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var h=0;i>h;h+=1)if(t[h][0].test(r)){r=r.replace(t[h][0],t[h][1]);break}return r=r.replace(/:/g,""),1===r.length?l=r:2===r.length?l=r:3===r.length||5===r.length?(l=r.substr(0,1),u=r.substr(1,2),c=r.substr(3,2)):(4===r.length||r.length>5)&&(l=r.substr(0,2),u=r.substr(2,2),c=r.substr(4,2)),r.length>0&&5>r.length&&(3>r.length&&(u=0),c=0),l===!1||u===!1||c===!1?!1:(l=parseInt(l,10),u=parseInt(u,10),c=parseInt(c,10),o&&12===l?l=0:s&&12>l&&(l+=12),l>24?e.fn.timepicker.parseTime(r.length>=6?r.substr(0,5):r+"0"+(o?"a":"")+(s?"p":"")):(a.setHours(l,u,c),a))}}()}),n("Handlebars",function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return l[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e instanceof s?e.toString():null==e?"":e?(e=""+e,c.test(e)?e.replace(u,t):e):e+""}function r(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}function a(e,t){return(e?e+".":"")+t}var o={},s=e,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;o.extend=n;var h=Object.prototype.toString;o.toString=h;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var d;o.isFunction=d;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};return o.isArray=p,o.escapeExpression=i,o.isEmpty=r,o.appendContextPath=a,o}(e),n=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),a=0;n.length>a;a++)this[n[a]]=r[n[a]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(c(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=g(n.data);o.contextPath=a.appendContextPath(n.data.contextPath,n.name),n={data:o}}return r(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new o("Must pass iterator to #each");var n,i,r=t.fn,s=t.inverse,l=0,u="";if(t.data&&t.ids&&(i=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),h(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(c(e))for(var d=e.length;d>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,i&&(n.contextPath=i+l)),u+=r(e[l],{data:n});else for(var p in e)e.hasOwnProperty(p)&&(n&&(n.key=p,n.index=l,n.first=0===l,i&&(n.contextPath=i+p)),u+=r(e[p],{data:n}),l++);return 0===l&&(u=s(this)),u}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){h(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=g(t.data);i.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var r={},a=e,o=t,s="2.0.0";r.VERSION=s;var l=6;r.COMPILER_REVISION=l;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=u;var c=a.isArray,h=a.isFunction,d=a.toString,p="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:f,log:m,registerHelper:function(e,t){if(d.call(e)===p){if(t)throw new o("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){d.call(e)===p?a.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(e>=f.level){var n=f.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};r.logger=f;var m=f.log;r.log=m;var g=function(e){var t=a.extend({},e);return t._parent=e,t};return r.createFrame=g,r}(t,n),r=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var i=p[n],r=p[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new h("No environment passed to template");if(!e||!e.main)throw new h("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,i,r,a,o,s,l,u,d){o&&(a=c.extend({},a,o));var p=t.VM.invokePartial.call(this,n,r,a,s,l,u,d);if(null==p&&t.compile){var f={helpers:s,partials:l,data:u,depths:d};l[r]=t.compile(n,{data:void 0!==u,compat:e.compat},t),p=l[r](a,f)}if(null!=p){if(i){for(var m=p.split("\n"),g=0,v=m.length;v>g&&(m[g]||g+1!==v);g++)m[g]=i+m[g];p=m.join("\n")}return p}throw new h("The partial "+r+" could not be compiled when running in runtime-only mode")},i={lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var i=this.programs[e],r=this.fn(e);return t||n?i=a(this,e,r,t,n):i||(i=this.programs[e]=a(this,e,r)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=c.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},r=function(t,n){n=n||{};var a=n.data;r._setup(n),!n.partial&&e.useData&&(a=l(t,a));var o;return e.useDepths&&(o=n.depths?[t].concat(n.depths):[t]),e.main.call(i,t,i.helpers,i.partials,a,o)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)))},r._child=function(t,n,r){if(e.useDepths&&!r)throw new h("must pass parent depths");return a(i,t,e[t],n,r)},r}function a(e,t,n,i,r){var a=function(t,a){return a=a||{},n.call(e,t,e.helpers,e.partials,a.data||i,r&&[t].concat(r))};return a.program=t,a.depth=r?r.length:0,a}function o(e,t,n,i,r,a,o){var s={partial:!0,helpers:i,partials:r,data:a,depths:o};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0}function s(){return""}function l(e,t){return t&&"root"in t||(t=t?f(t):{},t.root=e),t}var u={},c=e,h=t,d=n.COMPILER_REVISION,p=n.REVISION_CHANGES,f=n.createFrame;return u.checkRevision=i,u.template=r,u.program=a,u.invokePartial=o,u.noop=s,u}(t,n,i),a=function(e,t,n,i,r){"use strict";var a,o=e,s=t,l=n,u=i,c=r,h=function(){var e=new o.HandlebarsEnvironment;return u.extend(e,o),e.SafeString=s,e.Exception=l,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},d=h();return d.create=h,d["default"]=d,a=d}(i,e,n,t,r);return a}),n("hbs/underscore",{}),n("hbs/i18nprecompile",{}),n("hbs/json2",{}),n("hbs",function(){var e,t=[];return{get:function(){return Handlebars},write:function(e,t,n){if(t+customNameExtension in buildMap){var i=buildMap[t+customNameExtension];n.asModule(e+"!"+t,i)}},version:"2.0.0",load:function(e,t,n,i){},onLayerEnd:function(){e.removeCombined&&fs&&t.forEach(function(e){fs.existsSync(e)&&fs.unlinkSync(e)})}}}),n("hbs!template-modal",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return'<h1>Thanks for your support!</h1>\n          <p style="text-justify: justify">Your information is now stored on this device. Add a login so that you can use your secure <i>Fast</i><b>Action</b> profile on other devices, allowing you to take future actions with a single click.</p>'},3:function(e,t,n,i){return"<h1>Show your support<br>with a single click</h5>\n          <p>Autofill forms quickly and securely with <i>Fast</i><b>Action</b></p>"},5:function(e,t,n,i){return'<p class="fa-modal-notusing-wrapper">Already have a <i>Fast</i><b>Action</b> account? <a href="#fastaction-login">Log in</a></p>'},7:function(e,t,n,i){return'<p class="fa-modal-notusing-wrapper">Don\'t have a <i>Fast</i><b>Action</b> account yet? <a href="#fastaction-signup">Sign up</a></p>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<section id="fastaction-'+l((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:s,typeof a===o?a.call(e,{name:"prefix",hash:{}}):a))+'" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="fa-semantic-content fastaction-modal at">\n  <div id="fastaction-'+l((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:s,typeof a===o?a.call(e,{name:"prefix",hash:{}}):a))+'-inner" class="fa-modal-inner">\n    <div class="fa-modal-wrapper center">\n      <header>';return r=t["if"].call(e,null!=e?e.nologin:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(u+=r),u+='</header>\n      <div class="fa-modal-content center">\n        <div class="panel-buttons center">\n          <a id="'+l((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:s,typeof a===o?a.call(e,{name:"prefix",hash:{}}):a))+'-fastaction-actionid" href="'+l((a=null!=(a=t.url||(null!=e?e.url:e))?a:s,typeof a===o?a.call(e,{name:"url",hash:{}}):a))+"/auth/"+l((a=null!=(a=t.actionid||(null!=e?e.actionid:e))?a:s,typeof a===o?a.call(e,{name:"actionid",hash:{}}):a))+'" class="btn-at btn-at-primary" data-popup="true" data-width="500" data-height="535" target="_self">\n            <span class="glyphicons glyphicons-envelope"></span>\n            '+l((a=null!=(a=t.cta||(null!=e?e.cta:e))?a:s,typeof a===o?a.call(e,{name:"cta",hash:{}}):a))+" with your email address\n          </a>\n        </div>\n        <p>Or "+l((a=null!=(a=t.cta||(null!=e?e.cta:e))?a:s,typeof a===o?a.call(e,{name:"cta",hash:{}}):a))+' using <a id="'+l((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:s,typeof a===o?a.call(e,{name:"prefix",hash:{}}):a))+'-fastaction-facebook" href="'+l((a=null!=(a=t.url||(null!=e?e.url:e))?a:s,typeof a===o?a.call(e,{name:"url",hash:{}}):a))+'/auth/facebook" data-popup="true">Facebook</a> or <a id="'+l((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:s,typeof a===o?a.call(e,{name:"prefix",hash:{}}):a))+'-fastaction-twitter" href="'+l((a=null!=(a=t.url||(null!=e?e.url:e))?a:s,typeof a===o?a.call(e,{name:"url",hash:{}}):a))+'/auth/twitter" data-popup="true">Twitter</a></p>\n',r=t["if"].call(e,null!=e?e.isSignup:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i)}),null!=r&&(u+=r),u+'        <p class="fa-modal-disclaimer-wrapper" style="display: none">By clicking "'+l((a=null!=(a=t.cta||(null!=e?e.cta:e))?a:s,typeof a===o?a.call(e,{name:"cta",hash:{}}):a))+'," I confirm that I agree with the <i>Fast</i><b>Action</b> <a href="'+l((a=null!=(a=t.url||(null!=e?e.url:e))?a:s,typeof a===o?a.call(e,{name:"url",hash:{}}):a))+'/terms" target="_blank">terms of service</a> and <a href="'+l((a=null!=(a=t.url||(null!=e?e.url:e))?a:s,typeof a===o?a.call(e,{name:"url",hash:{}}):a))+'/privacy" target="_blank">privacy&nbsp;policy.</a></p>\n      </div>\n    </div>\n  </div>\n  <a href="#!" title="Close this modal" data-close="Close" data-dismiss="modal" class="fa-modal-close">&times;</a>\n</section>\n'}});return t.registerPartial("template-modal",n),n}),n("fastaction_config",["jquery.amd"],function(e){function t(){return e(".ngp-form")}function n(){var e=t().data("fastactionEndpoint")||"https://fastaction.ngpvan.com";return e.replace(o.trailingSlash,"")}function i(){return n()+"/api/v1/identity"}function r(e){return n()+"/api/v1/profile/"+e}function a(){return n()+"/api/v1/forms/"}var o={localhost:/^https?:\/\/localhost/i,notSSL:/^http:/i,trailingSlash:/\/+$/};return{urls:{base:n,identity:i,profile:r,forms:a}}}),n("fastActionUser",["fastaction_config","backbone","user.agent"],function(e,t,n){var i=t.$,r=t._;return new(t.Model.extend({__name__:"FastActionUser",initialize:function(){r.bindAll(this,"fetch","clear","onSyncError")},name:function(){var e="",t=this.get("profiles");if(t){if(t.facebook)return t.facebook.name;if(t.twitter)return t.twitter.name;t.actionid&&(e=t.actionid.displayName,(!e||/^\s*$/.test(e))&&(e=t.actionid.emails[0].value))}return e},onSyncError:function(e,t,n){this.trigger("syncError",e,t,n)},url:function(){return e.urls.profile(this.get("id"))},fetch:function(a){a=a||{},a.cache=n.ie?!1:a.cache||!1;var o=this,s=i.Deferred(),l=i.jsonp({cache:a.cache,url:e.urls.identity()});return l.then(function(e,u,c){var h=e.fastActionSessionId,d=e.dnt&&10!=n.ie;h&&o.set("fastActionSessionId",h),o.set("dnt",d),d&&i('.at input[name="updateMyProfile"]').prop("checked",!1),e.id?(o.set("id",e.id),o.set("authed",e.authed||!1),a.error=o.onSyncError,t.Model.prototype.fetch.call(o,a).then(s.resolve,s.reject)):(a.clear&&(r.invoke(window.nvtag.data,"clear"),o.logout()),s.reject(o,l,"error","Unauthorized"))},r.partial(s.reject,o)),s.promise()},clear:function(){return r.each(this.attributes,function(e,t){"fastActionSessionId"!==t&&"dnt"!==t&&this.unset(t)},this),this.trigger("clear")},logout:function(){return this.trigger("logout").clear()}}))}),n("auth_popups",["jquery.amd","underscore"],function(e,n){function i(t){var i=new e.Deferred,r=new Image,a=function(){i.resolve(t)},o=t+"?_="+n.now();return r.onload=a,r.onerror=a,n.defer(function(){r.src=o}),i.promise()}function r(t){var r=n(t);return r.isArray()&&!r.isEmpty()?e.when.apply(e,r.map(i).value()):(new e.Deferred).resolve(t).promise()}var a=/&tknfa=[^&]+/;return function(i){e("a[data-popup]").unbind().click(function(o){o.preventDefault();var s,l,u=e(this).data(),c=e(this).attr("href"),h=window.location,d={left:0,top:0,width:u.popupWidth||1025,height:u.popupHeight||640};if(/logout/.test(c))return e.jsonp({url:c,cache:!1}).then(function(e){r(e),a.test(h.search)?window.location=h.protocol+"//"+h.host+h.pathname+h.search.replace(a,""):(n.invoke(window.nvtag.data,"clear"),t("fastActionUser").clear().fetch({cache:!1}))});if("popupTop"in u&&"popupLeft"in u?(d.top=~~u.popupTop,d.left=~~u.popupLeft):screen&&screen.width&&screen.height&&(d.top=~~(screen.height/2-d.height/2),d.left=~~(screen.width/2-d.width/2)),i){var p,f,m=n.indexOf(c,"#"),g="?fastActionSessionId="+encodeURIComponent(i);m>0?(p=c.substr(0,m),f=c.substr(m),c=p+g+f):c+=g}l={url:c,name:"FastAction",options:"toolbar=0,menubar=0,location=0,status=0,scrollbars=1,resizable=0,"+e.param(d).replace(/&/g,",")},s=window.open(l.url,l.name,l.options);var v=function(e){var t=function(){s.closed?(window.location.hash&&(window.location.hash="!"),e()):setTimeout(t,1e3/60)};setTimeout(t,1e3/60)};/auth/.test(l.url)?v(function(){t("fastActionUser").fetch({cache:!1})}):/profile/.test(l.url)&&v(function(){t("fastActionUser").fetch({cache:!1,clear:!0}).then(function(){t("fast_databag").fetch({cache:!1})})})})}}),n("hbs!template-main",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='    <p style="line-height: 30px">\n      <span class="fa-cta">\n        <a href="#" class="profile-link toggle-menu"><img src="//d1aqhv4sn5kxtx.cloudfront.net/images/triangle.png" srcset="//d1aqhv4sn5kxtx.cloudfront.net/images/triangle.svg 2x"></a>\n        <span><a href="'+l((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:s,typeof a===o?a.call(e,{name:"fastaction_url",hash:{}}):a))+'##whats-this" class="circle" id="fastaction-whatsthis" data-popup="true" data-popup-width="450" data-popup-height="850" target="_blank">?</a></span>\n      </span>\n      <span class="fa-lead">';return r=t["if"].call(e,null!=e?e.authed:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(4,i)}),null!=r&&(u+=r),u+'</span>\n    </p>\n    <ul id="profile-menu">\n      <li><a href="'+l((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:s,typeof a===o?a.call(e,{name:"fastaction_url",hash:{}}):a))+'/profile" data-popup="true" target="_blank" id="fastaction-profile">Edit my <i>Fast</i><b>Action</b> Profile</a></li>\n      <li><a href="'+l((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:s,typeof a===o?a.call(e,{name:"fastaction_url",
hash:{}}):a))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" data-popup-top="0" data-popup-left="0" class="fastaction-logout">Log Out</a></li>\n    </ul>\n'},2:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return"Not <b>"+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===a?r.call(e,{name:"name",hash:{}}):r))+'?</b> <a href="'+s((r=null!=(r=t.fastaction_url||(null!=e?e.fastaction_url:e))?r:o,typeof r===a?r.call(e,{name:"fastaction_url",hash:{}}):r))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" data-popup-top="0" data-popup-left="0" class="fastaction-logout">Click here to logout</a>.'},4:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<a href="'+s((r=null!=(r=t.fastaction_url||(null!=e?e.fastaction_url:e))?r:o,typeof r===a?r.call(e,{name:"fastaction_url",hash:{}}):r))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" class="fastaction-logout">Forget this device</a>.'},6:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'    <p>\n      <span class="fa-cta">\n        <a href="#fastaction-login" class="profile-link"></a>\n        <span><a href="'+s((r=null!=(r=t.fastaction_url||(null!=e?e.fastaction_url:e))?r:o,typeof r===a?r.call(e,{name:"fastaction_url",hash:{}}):r))+'##whats-this" class="circle" id="fastaction-whatsthis" data-popup="true" data-popup-width="515" data-popup-height="540" target="_blank">?</a></span>\n      </span>\n      <span class="fa-lead">\n        Take future action with a single click.<br>\n        <a href="#fastaction-login" class="call-modal" id="fastaction-widget-login">Log&nbsp;in</a> or\n        <a href="#fastaction-signup" class="call-modal" id="fastaction-widget-signup">Sign&nbsp;up</a> for <i>Fast</i><b>Action</b>.\n      </span>\n    </p>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='\n<div class="fastAction clearfix">';return r=t["if"].call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(6,i)}),null!=r&&(a+=r),a+"</div>\n"}});return t.registerPartial("template-main",n),n}),n("FastActionView",["backbone","fastaction_config","fast_databag","auth_popups","hbs!template-main"],function(e,t,n,i,r){var a=e.$,o=e._;return e.View.extend({__name__:"FastActionView",events:{"click .toggle-menu":"toggleMenu","click #profile-menu a":"closeMenu"},initialize:function(e){return o.bindAll(this,"render"),this.asked=!1,this.options=e,this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"clear",this.render),this.listenTo(n,"sync",this.render),this.listenTo(n,"clear",this.render),this.render()},toggleMenu:function(e){e.preventDefault();var t=a(e.currentTarget);if(!/^https?/.test(t.attr("href"))){var n=t.position();return n.top+=t.height()-2,this.$("#profile-menu").toggle().css(n),t.toggleClass("menu-open"),this}},closeMenu:function(e){return e.preventDefault(),this.$("#profile-menu").hide(),this.$(".profile-link").removeClass("menu-open"),this},render:function(){var e={fastaction_url:t.urls.base()};return this.model.has("fastActionSessionId")&&(e.authed=this.model.get("authed"),e.name=n.name()||this.model.name(),e.id=this.model.get("id")),this.options.nologin||(e.authed=!0),this.$el.html(r(e)),i(),this}})}),n("FastAction",["backbone","hbs!template-modal","fastaction_config","fastActionUser","FastActionView","auth_popups","profile_databag","fast_databag"],function(e,t,n,i,r,a,o,s){function l(){return o.whitelisted===!1||!y&&!(f&&!m)}function u(e){return d(e).pluck("name").contains("PaymentInformation")}function c(e){l()||d.each(window.nvtag.tags,function(t){var n=t.formviews.current;if(n.model.get("fastAction")){var i=n.subviews.PaymentInformation;i&&(e.get("cc_4_digit")&&e.get("cc_type")?i.changeReadonly(!0,e.get("cc_4_digit"),e.get("cc_type")):i.changeReadonly(!1))}})}var h=e.$,d=e._,p=null,f=null,m=!1,g=!1,v=!1,y=!1,b=!1,_=null,w="Update my <i>Fast</i><b>Action</b> profile with this information.",x="Remember me so that I can use <i>Fast</i><b>Action</b> next time.",k='<div class="fastaction-block"></div>',C={shouldRun:!1,submit:null,token:null,qs:null};window.user=i;var E=function(){return p&&p.render()},T=d.debounce(c,50),A=function(){function e(){}var A=h.Deferred();return window.nvtag.once("sync:formdef",A.resolve),A.promise().done(function(e){e.get("fastAction")&&i.fetch()}),s.on("change:cc_type",T),s.on("change:cc_4_digit",T),i.on("syncError",function(){m=!0}),i.on("change:id",function(e,t){t?(h('.at input[name="updateMyProfile"]').prop("checked",!0),y=!0,m=!1,_=s.set("id",t).fetch({cache:!1}).then(function(){C.shouldRun&&(C.submit(),C.shouldRun=!1)},s.deferred.reject)):(y=!1,d.each(window.nvtag.tags,function(e){var t=e.formviews.current;t.clear().fill(),v?t.$(".updateMyProfileSection").show().find(".text").html(x):t.$(".updateMyProfileSection").hide(),t.multistep&&t.getStepIndex()&&t.setStep(1)}))}),e.prototype.alterFormDefinition=function(e){v=!!e.form_definition.fastActionNologin,b=!!e.query_string.kiosk,f=!b&&!!e.form_definition.fastAction;var t=!e.form_definition.hideUpdateMyFastActionProfile;if(l())return e;var n={type:"markup",markup:k,name:"FastAction"};if(e.form_definition.form_elements.unshift(n),t){var i={type:"markup",markup:'<div class="updateMyProfileSection" style="display: none"><label style="display:inline;"><input type="checkbox" name="updateMyProfile" checked="checked"><span><span class="text">'+w+"</span></span></label></div>",name:"UpdateMyProfile"},r=d(e.form_definition.form_elements).filter(function(e){return e.hasOwnProperty("children")}),a=null;a="EventForm"===e.form_definition.type?r.first():r.find({name:"PaymentInformation"})||r.first(),a&&a.children.push(i)}return e},e.prototype.alterErrors=function(e){return l()?e:(i.id&&i.get("cc_4_digit")&&d.contains(["Account","ExpirationMonth","ExpirationYear"],e.field_name)&&(e.errors=[]),e)},e.prototype.postFill=function(e){if(l())return e;var t=e.view,n=t.options.form_definition.autoFastAction,i=e.fill_source,r=t.options.query_string;return r&&r.tknfa&&t.isFirstForm()&&n&&"FastAction"===i&&(C={shouldRun:!0,submit:e.submit,token:r.tknfa,qs:r}),this.adjustCheckbox(t),e},e.prototype.adjustCheckbox=function(e){if(v){var t=e.$(".updateMyProfileSection").show().find(".text");y?t.html(w):(t.html(x),e.$('input[name="updateMyProfile"]').prop("checked",!i.get("dnt")))}else y?e.$(".updateMyProfileSection").show().find(".text").html(w):e.$(".updateMyProfileSection").hide()},e.prototype.postRender=function(e){return l()?e:(h(e.options.el).find('input[name="updateMyProfile"]').on("change",function(e){e.stopImmediatePropagation()}),e&&e.thank&&h(e.options.el).prepend(k),p||(p=new r({el:".fastaction-block",model:i,nologin:v})),d.isEmpty(i.get("profiles"))&&_&&_.always(E),i.get("cc_4_digit")&&c(i),s.promise().then(function(e){e.get("cc_4_digit")&&c(e),C.shouldRun&&(C.submit(),C.shouldRun=!1)}),e)},e.prototype.segue=function(e){var r=!b&&d.find(e.formviews,function(e){return e.model.has("fastAction")&&e.model.get("fastAction")}),o=e.formviews.current;if(r){var l=n.urls.base();e.calling_tag.$el.find(".fastaction-modal").remove(),e.calling_tag.$el.append(t({isSignup:!0,nologin:e.thank&&v&&!y&&g,url:l,cta:"Sign up",prefix:"signup",other:"login",actionid:"actionid_signup"})).append(t({url:l,cta:"Log in",prefix:"login",other:"signup",actionid:"actionid"})),e.thank&&v&&!y&&s.fetch({cache:!1})}a(i.get("fastActionSessionId"));var c=p&&p.asked,h=e.thank||!(o.isFirstForm()||u(o.model.get("form_elements")));!r||!g||y&&i.get("authed")||c||!h||(window.location.hash="fastaction-signup",p.asked=!0,v&&g&&i.fetch({cache:!1}))},e.prototype.onSubmit=function(e){return g=h(e.currentTarget).find('input[name="updateMyProfile"]:checked').length>0,e},e.prototype.alterPost=function(e){return l()||e.form_definition.hideUpdateMyFastActionProfile?e:(g?v&&!y?e.data.autoCreateAccount="true":y&&s.setWithFormState(e.data).save():e.data.ignorePaymentInfo="true",i.get("id")&&(e.data.fastActionId=i.get("id")),i.get("fastActionSessionId")&&(e.data.fastActionSessionId=i.get("fastActionSessionId")),e.data.endpoint=e.url,e.url=n.urls.forms(),C.token&&i.get("id")&&(e.data.autoProcessToken=C.token,e.data.qs=JSON.stringify(C.qs),C.token=null),e)},e.prototype.fast_action_databag=function(){return s},e.prototype.profile_databag=function(){return o},e.prototype.user=function(){return i},e}();return new A}),n("backbone.courier",["underscore","backbone"],function(e,t){var n=t.$,i=/^(\S+)\s*(.*)$/,r=e.isFunction(n)?n("body")[0]:null;return t.Courier={},t.Courier.add=function(n){function a(t){e.isFunction(t.$el.data)&&!t.$el.data("view")&&t.$el.data("view",t)}function o(t){var n=this.uiBindings||e.result(this,"ui");if(!n)return t;var r={};return e.each(t,function(t,a){var o=a.match(i),s=o[1],l=o[2];if(""!==l&&!e.isUndefined(n[l])){var u=n[l];a=s+" "+u}r[a]=t}),r}function s(t,n,r){var a=[];for(var o in t){var s=o.match(i),l=s[1],u=s[2],c=new RegExp(l.replace("*","[\\w]*"));c.test(n.name)&&(""===u||r._getChildViewNamed(u)===n.source)&&a.push({eventName:l,subviewName:u,value:t[o]})}return a.length>1&&(a=e.sortBy(a,function(e){var t=e.eventName.replace("*",""),n=""!==e.subviewName,i=(n?1e3:0)+t.length;return-i})),a.length?a[0].value:null}var l={delegateEvents:n.delegateEvents,setElement:n.setElement};n.spawn=function(t,i){if(e.isString(t))t={name:t,data:e.extend({},i)};else if(e.isUndefined(t.name))throw new Error("Undefined message name.");t.source=n,t.data=t.data||{};for(var r,a,o="!"===t.name[t.name.length-1],l=this._getParentView();l;){if(e.isObject(l.onMessages)&&(a=s(l.onMessages,t,l),null!==a)){var u=a;if(e.isFunction(u)||(u=l[a]),!u)throw new Error('Method "'+a+'" does not exist');var c=u.call(l,t);if(o)return c}r=!1;var h=e.result(l,"passMessages");if(e.isObject(h))if(a=s(h,t,l),null!==a){if("."===a);else if(e.isString(a))t.name=a;else{if(!e.isFunction(a))throw new TypeError;var d=t.data;t.data={},a.call(l,t,d)}r=!0}else o&&(r=!0);if(o&&(r=!0),!r)break;t.source=l,l=l._getParentView()}if(o)throw new Error('Round trip message "'+t.name+'" was not handled. All round trip messages must be handled.')},e.isFunction(n._getParentView)||(n._getParentView=function(){for(var e=null,n=this.$el.parent();n.length>0&&n[0]!==r;){var i=n.data("view");if(i&&i instanceof t.View){e=i;break}n=n.parent()}return e}),e.isFunction(n._getChildViewNamed)||(n._getChildViewNamed=function(t){return e.isObject(this.subviews)?this.subviews[t]:null}),n.delegateEvents=function(t){var n=this;e.isFunction(this.events)&&(this.events=this.events.call(this.events)),t=t||e.clone(this.events)||{},t=o.call(this,t);var r=e.result(this,"spawnMessages")||{};r=o.call(this,r),e.each(r,function(r,a){var o=a.match(i),s=o[1],l=function(t){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation();var i;if(e.isFunction(r))i={name:s,data:{},source:n},r.call(this,i,t);else{if(!e.isString(r))throw new TypeError;i=r}this.spawn(i)};if(t[a]){var u=t[a];if(e.isFunction(u)||(u=n[t[a]]),!u)throw new Error('Method "'+t[a]+'" does not exist');t[a]=function(){u.apply(this,arguments),l.apply(this,arguments)}}else t[a]=l}),l.delegateEvents.call(this,t)},n.setElement=function(e,t){l.setElement.call(this,e,t),a(n)},a(n),n.delegateEvents()},t}),n("backbone.subviews",["underscore","backbone.courier"],function(e,t){var n=t.$,i=!1;return t.Subviews={},t.Subviews.add=function(t){function r(){i&&(console.log(this),console.dirxml(this.el)),this.subviews||(this.subviews={}),e.each(this.subviews,function(e,t){e.$el.detach()})}function a(){var t=this;i&&console.group("Subviews"),this.$("[data-subview]").each(function(){var r,a=n(this),o=a.data("subview"),s=parseInt(a.data("subview-index")),l=a.data("subview-id"),u=o+(e.isNaN(s)?"":s)+(e.isUndefined(l)?"":l);if(e.isUndefined(t.subviews[u])){var c=t.subviewCreators[o];if(e.isUndefined(c))return;i&&console.log("Creating "+o.replace(/^NVForm_(.+)_view(\d{1,2}(c\d{1,2})?)?$/,"$1")),r=c.call(t,s,l),r.options.definition?u=r.options.definition.name||u:r.options.form_definition&&(u=r.options.form_definition.type||u),r.parent=t,t.subviews[u]=r}else r=t.subviews[u];r.$el.data({formview:r.options.formview,parent:t,view:r,definition:r.options.definition,index:s,options:e.omit(r.options,"formview","templates","parent")}),a.replaceWith(r.$el)}),e.each(this.subviews,function(e,t){i&&console.groupCollapsed("Rendering "+t.replace(/^NVForm_(.+)_view(\d{1,2}(c\d{1,2})?)?$/,"$1")),e.render(),i&&(console.dirxml(e.el),console.groupEnd())}),e.isFunction(this._onSubviewsRendered)&&this._onSubviewsRendered.call(this),i&&console.groupEnd()}var o={render:t.render,remove:t.remove};t.render=function(){r.call(this);var e=o.render.apply(this,arguments);return a.call(this),e},t.remove=function(){return this.subviews&&(e.invoke(this.subviews,"remove"),this.subviews={}),o.remove.call(this)}},t}),function(e,i){"object"==typeof exports?module.exports=i(t("jquery")):"function"==typeof n&&n.amd?n("spin",["jquery"],i):e.Spinner=i()}(this,function(e){"use strict";function t(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function n(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),a=.01+n/i*100,o=Math.max(1-(1-e)/t*(100-a),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return p[r]||(h.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+o+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",h.cssRules.length),p[r]=1),r}function r(e,t){var n,i,r=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==r[t])return t;for(i=0;d.length>i;i++)if(n=d[i]+t,void 0!==r[n])return n}function a(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e){this.opts=o(e||{},l.defaults,f)}function u(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,i){function r(){return a(e("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function o(t,o,l){n(d,n(a(r(),{rotation:360/i.lines*t+"deg",left:~~o}),n(a(e("roundrect",{arcsize:i.corners}),{width:u,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:l}),e("fill",{color:s(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}var l,u=i.scale*(i.length+i.width),c=2*i.scale*u,h=-(i.width+i.length)*i.scale*2+"px",d=a(r(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;i.lines>=l;l++)o(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;i.lines>=l;l++)o(l);return n(t,d)},l.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&r.childNodes.length>t+i&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,h,d=["webkit","Moz","ms","O"],p={},f={lines:8,length:0,width:7,radius:9,scale:1,corners:1,color:"#0d98e6",opacity:.25,rotate:0,direction:1,speed:1,trail:50,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!0,position:"absolute"};if(l.defaults={},o(l.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,r=n.el=t(null,{className:i.className});if(a(r,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!c){var o,s=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,h=u/i.speed,d=(1-i.opacity)/(h*i.trail/100),p=h/i.lines;!function f(){s++;for(var e=0;i.lines>e;e++)o=Math.max(1-(s+(i.lines-e)*p)%h*d,i.opacity),n.opacity(r,e*i.direction+l,o,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,r){function o(e,n){return a(t(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*u+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var l,u=0,h=(r.lines-1)*(1-r.direction)/2;r.lines>u;u++)l=a(t(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&i(r.opacity,r.trail,h+u*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&n(l,a(o("#000","0 0 4px #000"),{top:"2px"})),n(e,n(l,o(s(r.color,u),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){e.childNodes.length>t&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){h=function(){var e=t("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}();var m=a(t("group"),{behavior:"url(#default#VML)"});!r(m,"transform")&&m.adj?u():c=r(m,"animation")}return e.fn.spin=function(t,n){return this.each(function(){var i=e(this),r=i.data();r.spinner&&(r.spinner.stop(),delete r.spinner),r.position&&(i.css("position",r.position),delete r.position),t!==!1&&(r.position=i.css("position"),i.css("position","relative"),t=e.extend({color:n||f.color},e.fn.spin.presets[t]||t),r.spinner=new l(t).spin(this))})},e.fn.spin.presets={relative:{position:"relative"},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}},l}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Fn.apply(null,arguments)}function n(e){Fn=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;e.length>n;++n)i.push(t(e[n],n));return i}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,i){return De(e,t,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=u()),e._pf}function h(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(0>t.overflow)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=l(NaN);return null!=e?s(c(t),e):c(t).userInvalidated=!0,t}function p(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),$n.length>0)for(n in $n)i=$n[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Ln===!1&&(Ln=!0,e.updateOffset(this),Ln=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&o++;return o+a}function b(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,r,a=0;e.length>a;){for(r=_(e[a]).split("-"),t=r.length,n=_(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=x(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}a++}return null}function x(e){var n=null;if(!Vn[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=Rn._abbr,t("./locale/"+e),k(n)}catch(i){}return Vn[e]}function k(e,t){var n;return e&&(n="undefined"==typeof t?E(e):C(e,t),n&&(Rn=n)),Rn._abbr}function C(e,t){return null!==t?(t.abbr=e,Vn[e]=Vn[e]||new b,Vn[e].set(t),k(e),Vn[e]):(delete Vn[e],null)}function E(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Rn;if(!i(e)){if(t=x(e))return t;e=[e]}return w(e)}function T(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e}function A(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function S(e){var t,n,i={};for(n in e)o(e,n)&&(t=A(n),t&&(i[t]=e[n]));return i}function D(t,n){return function(i){return null!=i?(P(this,t,i),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function P(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function M(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=A(e),"function"==typeof this[e])return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Bn[e]=r),t&&(Bn[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(Bn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,i=e.match(jn);for(t=0,n=i.length;n>t;t++)i[t]=Bn[i[t]]?Bn[i[t]]:F(i[t]);return function(r){var a="";for(t=0;n>t;t++)a+=i[t]instanceof Function?i[t].call(r,e):i[t];return a}}function $(e,t){return e.isValid()?(t=L(t,e.localeData()),(qn[t]=qn[t]||R(t))(e)):e.localeData().invalidDate()}function L(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Hn.lastIndex=0;i>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,i-=1;return e}function V(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function U(e,t,n){ai[e]=V(t)?t:function(e){return e&&n?n:t}}function j(e,t){return o(ai,e)?ai[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;e.length>n;n++)oi[e[n]]=i}function B(e,t){q(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function Y(e,t,n){null!=t&&o(oi,e)&&oi[e](t,n._a,n,e)}function z(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function W(e){return this._months[e.month()]}function G(e){return this._monthsShort[e.month()]}function K(e,t,n){var i,r,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Z(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function J(t){return null!=t?(Z(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function Q(){return z(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=0>n[li]||n[li]>11?li:1>n[ui]||n[ui]>z(n[si],n[li])?ui:0>n[ci]||n[ci]>24||24===n[ci]&&(0!==n[hi]||0!==n[di]||0!==n[pi])?ci:0>n[hi]||n[hi]>59?hi:0>n[di]||n[di]>59?di:0>n[pi]||n[pi]>999?pi:-1,c(e)._overflowDayOfYear&&(si>t||t>ui)&&(t=ui),c(e).overflow=t),e}function ee(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function te(e,t){var n=!0;return s(function(){return n&&(ee(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ne(e,t){gi[e]||(ee(t),gi[e]=!0)}function ie(e){var t,n,i=e._i,r=vi.exec(i);if(r){for(c(e).iso=!0,t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(i)){e._f=yi[t][0];break}for(t=0,n=bi.length;n>t;t++)if(bi[t][1].exec(i)){e._f+=(r[6]||" ")+bi[t][0];break}i.match(ni)&&(e._f+="Z"),xe(e)}else e._isValid=!1}function re(t){var n=_i.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ie(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ae(e,t,n,i,r,a,o){var s=new Date(e,t,n,i,r,a,o);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function se(e){return le(e)?366:365}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return le(this.year())}function ce(e,t,n){var i,r=n-t,a=n-e.day();return a>r&&(a-=7),r-7>a&&(a+=7),i=Ne(e).add(a,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function he(e){return ce(e,this._week.dow,this._week.doy).week}function de(){return this._week.dow}function pe(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function me(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ge(e,t,n,i,r){var a,o=6+r-i,s=oe(e,0,1+o),l=s.getUTCDay();return r>l&&(l+=7),n=null!=n?1*n:r,a=1+o+7*(t-1)-l+n,{year:a>0?e:e-1,dayOfYear:a>0?a:se(e-1)+a}}function ve(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ye(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _e(e){var t,n,i,r,a=[];if(!e._d){for(i=be(e),e._w&&null==e._a[ui]&&null==e._a[li]&&we(e),e._dayOfYear&&(r=ye(e._a[si],i[si]),e._dayOfYear>se(r)&&(c(e)._overflowDayOfYear=!0),n=oe(r,0,e._dayOfYear),e._a[li]=n.getUTCMonth(),e._a[ui]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ci]&&0===e._a[hi]&&0===e._a[di]&&0===e._a[pi]&&(e._nextDay=!0,e._a[ci]=0),e._d=(e._useUTC?oe:ae).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ci]=24)}}function we(e){var t,n,i,r,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=ye(t.GG,e._a[si],ce(Ne(),1,4).year),i=ye(t.W,1),r=ye(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,n=ye(t.gg,e._a[si],ce(Ne(),a,o).year),i=ye(t.w,1),null!=t.d?(r=t.d,a>r&&++i):r=null!=t.e?t.e+a:a),s=ge(n,i,r,o,a),e._a[si]=s.year,e._dayOfYear=s.dayOfYear}function xe(t){if(t._f===e.ISO_8601)return void ie(t);t._a=[],c(t).empty=!0;var n,i,r,a,o,s=""+t._i,l=s.length,u=0;for(r=L(t._f,t._locale).match(jn)||[],n=0;r.length>n;n++)a=r[n],i=(s.match(j(a,t))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&c(t).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Bn[a]?(i?c(t).empty=!1:c(t).unusedTokens.push(a),Y(a,i,t)):t._strict&&!i&&c(t).unusedTokens.push(a);c(t).charsLeftOver=l-u,s.length>0&&c(t).unusedInput.push(s),c(t).bigHour===!0&&12>=t._a[ci]&&t._a[ci]>0&&(c(t).bigHour=void 0),t._a[ci]=ke(t._locale,t._a[ci],t._meridiem),_e(t),X(t)}function ke(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Ce(e){var t,n,i,r,a;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;e._f.length>r;r++)a=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],xe(t),h(t)&&(a+=c(t).charsLeftOver,a+=10*c(t).unusedTokens.length,c(t).score=a,(null==i||i>a)&&(i=a,n=t));s(e,n||t)}function Ee(e){if(!e._d){var t=S(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],_e(e)}}function Te(e){var t=new f(X(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ae(e){var t=e._i,n=e._f;return e._locale=e._locale||E(e._l),null===t||void 0===n&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new f(X(t)):(i(n)?Ce(e):n?xe(e):r(t)?e._d=t:Se(e),e))}function Se(t){var n=t._i;void 0===n?t._d=new Date:r(n)?t._d=new Date(+n):"string"==typeof n?re(t):i(n)?(t._a=a(n.slice(0),function(e){return parseInt(e,10)}),_e(t)):"object"==typeof n?Ee(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function De(e,t,n,i,r){var a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,Te(a)}function Ne(e,t,n,i){return De(e,t,n,i,!1)}function Pe(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ne();for(n=t[0],r=1;t.length>r;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Me(){var e=[].slice.call(arguments,0);return Pe("isBefore",e)}function Ie(){var e=[].slice.call(arguments,0);return Pe("isAfter",e)}function Oe(e){var t=S(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function Fe(e){return e instanceof Oe}function Re(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function $e(e){var t=(e||"").match(ni)||[],n=t[t.length-1]||[],i=(n+"").match(Ei)||["-",0,0],r=+(60*i[1])+v(i[2]);return"+"===i[0]?r:-r}function Le(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(m(t)||r(t)?+t:+Ne(t))-+i,i._d.setTime(+i._d+a),e.updateOffset(i,!1),i):Ne(t).local()}function Ve(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ue(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=$e(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ve(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?nt(this,Je(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ve(this)}function je(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function qe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ve(this),"m")),this}function Be(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset($e(this._i)),this}function Ye(e){return e=e?Ne(e).utcOffset():0,(this.utcOffset()-e)%60===0}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=Ae(e),e._a){var t=e._isUTC?l(e._a):Ne(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!this._isUTC}function Ke(){return this._isUTC}function Ze(){return this._isUTC&&0===this._offset}function Je(e,t){var n,i,r,a=e,s=null;return Fe(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=Ti.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[ui])*n,h:v(s[ci])*n,m:v(s[hi])*n,s:v(s[di])*n,ms:v(s[pi])*n}):(s=Ai.exec(e))?(n="-"===s[1]?-1:1,a={y:Qe(s[2],n),M:Qe(s[3],n),d:Qe(s[4],n),h:Qe(s[5],n),m:Qe(s[6],n),s:Qe(s[7],n),w:Qe(s[8],n)
}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=et(Ne(a.from),Ne(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Oe(a),Fe(e)&&o(e,"_locale")&&(i._locale=e._locale),i}function Qe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function et(e,t){var n;return t=Le(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function tt(e,t){return function(n,i){var r,a;return null===i||isNaN(+i)||(ne(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=i,i=a),n="string"==typeof n?+n:n,r=Je(n,i),nt(this,r,e),this}}function nt(t,n,i,r){var a=n._milliseconds,o=n._days,s=n._months;r=null==r?!0:r,a&&t._d.setTime(+t._d+a*i),o&&P(t,"Date",N(t,"Date")+o*i),s&&Z(t,N(t,"Month")+s*i),r&&e.updateOffset(t,o||s)}function it(e,t){var n=e||Ne(),i=Le(n,this).startOf("day"),r=this.diff(i,"days",!0),a=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,Ne(n)))}function rt(){return new f(this)}function at(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ne(e),+this>+e):(n=m(e)?+e:+Ne(e),n<+this.clone().startOf(t))}function ot(e,t){var n;return t=A("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ne(e),+e>+this):(n=m(e)?+e:+Ne(e),+this.clone().endOf(t)<n)}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function lt(e,t){var n;return t=A(t||"millisecond"),"millisecond"===t?(e=m(e)?e:Ne(e),+this===+e):(n=+Ne(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ut(e,t,n){var i,r,a=Le(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=A(t),"year"===t||"month"===t||"quarter"===t?(r=ct(this,a),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-a,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?r:g(r)}function ct(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return 0>t-a?(n=e.clone().add(r-1,"months"),i=(t-a)/(a-n)):(n=e.clone().add(r+1,"months"),i=(t-a)/(n-a)),-(r+i)}function ht(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pt(t){var n=$(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ft(e,t){return this.isValid()?Je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.from(Ne(),e)}function gt(e,t){return this.isValid()?Je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vt(e){return this.to(Ne(),e)}function yt(e){var t;return void 0===e?this._locale._abbr:(t=E(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function _t(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wt(e){return e=A(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function xt(){return+this._d-6e4*(this._offset||0)}function kt(){return Math.floor(+this/1e3)}function Ct(){return this._offset?new Date(+this):this._d}function Et(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function At(){return h(this)}function St(){return s({},c(this))}function Dt(){return c(this).overflow}function Nt(e,t){O(0,[e,e.length],0,t)}function Pt(e,t,n){return ce(Ne([e,11,31+t-n]),t,n).week}function Mt(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function It(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ot(){return Pt(this.year(),1,4)}function Ft(){var e=this.localeData()._week;return Pt(this.year(),e.dow,e.doy)}function Rt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function $t(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Lt(e){return this._weekdays[e.day()]}function Vt(e){return this._weekdaysShort[e.day()]}function Ut(e){return this._weekdaysMin[e.day()]}function jt(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Ne([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=$t(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Yt(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function zt(e,t){return t._meridiemParse}function Wt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Kt(e,t){t[pi]=v(1e3*("0."+e))}function Zt(){return this._isUTC?"UTC":""}function Jt(){return this._isUTC?"Coordinated Universal Time":""}function Qt(e){return Ne(1e3*e)}function Xt(){return Ne.apply(null,arguments).parseZone()}function en(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function tn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)})}function nn(){return this._invalidDate}function rn(e){return this._ordinal.replace("%d",e)}function an(e){return e}function on(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function sn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ln(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(e,t,n,i){var r=E(),a=l().set(i,t);return r[n](a,e)}function cn(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return un(e,t,n,r);var a,o=[];for(a=0;i>a;a++)o[a]=un(e,a,n,r);return o}function hn(e,t){return cn(e,t,"months",12,"month")}function dn(e,t){return cn(e,t,"monthsShort",12,"month")}function pn(e,t){return cn(e,t,"weekdays",7,"day")}function fn(e,t){return cn(e,t,"weekdaysShort",7,"day")}function mn(e,t){return cn(e,t,"weekdaysMin",7,"day")}function gn(){var e=this._data;return this._milliseconds=Zi(this._milliseconds),this._days=Zi(this._days),this._months=Zi(this._months),e.milliseconds=Zi(e.milliseconds),e.seconds=Zi(e.seconds),e.minutes=Zi(e.minutes),e.hours=Zi(e.hours),e.months=Zi(e.months),e.years=Zi(e.years),this}function vn(e,t,n,i){var r=Je(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function yn(e,t){return vn(this,e,t,1)}function bn(e,t){return vn(this,e,t,-1)}function _n(e){return 0>e?Math.floor(e):Math.ceil(e)}function wn(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||0>=a&&0>=o&&0>=s||(a+=864e5*_n(kn(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=g(a/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,o+=g(n/24),r=g(xn(o)),s+=r,o-=_n(kn(r)),i=g(s/12),s%=12,l.days=o,l.months=s,l.years=i,this}function xn(e){return 4800*e/146097}function kn(e){return 146097*e/4800}function Cn(e){var t,n,i=this._milliseconds;if(e=A(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(kn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function En(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Tn(e){return function(){return this.as(e)}}function An(e){return e=A(e),this[e+"s"]()}function Sn(e){return function(){return this._data[e]}}function Dn(){return g(this.days()/7)}function Nn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Pn(e,t,n){var i=Je(e).abs(),r=dr(i.as("s")),a=dr(i.as("m")),o=dr(i.as("h")),s=dr(i.as("d")),l=dr(i.as("M")),u=dr(i.as("y")),c=pr.s>r&&["s",r]||1===a&&["m"]||pr.m>a&&["mm",a]||1===o&&["h"]||pr.h>o&&["hh",o]||1===s&&["d"]||pr.d>s&&["dd",s]||1===l&&["M"]||pr.M>l&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Nn.apply(null,c)}function Mn(e,t){return void 0===pr[e]?!1:void 0===t?pr[e]:(pr[e]=t,!0)}function In(e){var t=this.localeData(),n=Pn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function On(){var e,t,n,i=fr(this._milliseconds)/1e3,r=fr(this._days),a=fr(this._months);e=g(i/60),t=g(e/60),i%=60,e%=60,n=g(a/12),a%=12;var o=n,s=a,l=r,u=t,c=e,h=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Fn,Rn,$n=e.momentProperties=[],Ln=!1,Vn={},Un={},jn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qn={},Bn={},Yn=/\d/,zn=/\d\d/,Wn=/\d{3}/,Gn=/\d{4}/,Kn=/[+-]?\d{6}/,Zn=/\d\d?/,Jn=/\d{1,3}/,Qn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,ei=/\d+/,ti=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ii=/[+-]?\d+(\.\d{1,3})?/,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ai={},oi={},si=0,li=1,ui=2,ci=3,hi=4,di=5,pi=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),U("M",Zn),U("MM",Zn,zn),U("MMM",ri),U("MMMM",ri),q(["M","MM"],function(e,t){t[li]=v(e)-1}),q(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[li]=r:c(n).invalidMonth=e});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gi={};e.suppressDeprecationWarnings=!1;var vi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],_i=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))},O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),T("year","y"),U("Y",ti),U("YY",Zn,zn),U("YYYY",Qn,Gn),U("YYYYY",Xn,Kn),U("YYYYYY",Xn,Kn),q(["YYYYY","YYYYYY"],si),q("YYYY",function(t,n){n[si]=2===t.length?e.parseTwoDigitYear(t):v(t)}),q("YY",function(t,n){n[si]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var wi=D("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),U("w",Zn),U("ww",Zn,zn),U("W",Zn),U("WW",Zn,zn),B(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var xi={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),U("DDD",Jn),U("DDDD",Wn),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),e.ISO_8601=function(){};var ki=te("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return this>e?this:e}),Ci=te("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return e>this?this:e});Re("Z",":"),Re("ZZ",""),U("Z",ni),U("ZZ",ni),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=$e(e)});var Ei=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ti=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ai=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Je.fn=Oe.prototype;var Si=tt(1,"add"),Di=tt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ni=te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nt("gggg","weekYear"),Nt("ggggg","weekYear"),Nt("GGGG","isoWeekYear"),Nt("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),U("G",ti),U("g",ti),U("GG",Zn,zn),U("gg",Zn,zn),U("GGGG",Qn,Gn),U("gggg",Qn,Gn),U("GGGGG",Xn,Kn),U("ggggg",Xn,Kn),B(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),B(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),O("Q",0,0,"quarter"),T("quarter","Q"),U("Q",Yn),q("Q",function(e,t){t[li]=3*(v(e)-1)}),O("D",["DD",2],"Do","date"),T("date","D"),U("D",Zn),U("DD",Zn,zn),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),q(["D","DD"],ui),q("Do",function(e,t){t[ui]=v(e.match(Zn)[0],10)});var Pi=D("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),U("d",Zn),U("e",Zn),U("E",Zn),U("dd",ri),U("ddd",ri),U("dddd",ri),B(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:c(n).invalidWeekday=e}),B(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var Mi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ii="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),Yt("a",!0),Yt("A",!1),T("hour","h"),U("a",zt),U("A",zt),U("H",Zn),U("h",Zn),U("HH",Zn,zn),U("hh",Zn,zn),q(["H","HH"],ci),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[ci]=v(e),c(n).bigHour=!0});var Fi=/[ap]\.?m?\.?/i,Ri=D("Hours",!0);O("m",["mm",2],0,"minute"),T("minute","m"),U("m",Zn),U("mm",Zn,zn),q(["m","mm"],hi);var $i=D("Minutes",!1);O("s",["ss",2],0,"second"),T("second","s"),U("s",Zn),U("ss",Zn,zn),q(["s","ss"],di);var Li=D("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),U("S",Jn,Yn),U("SS",Jn,zn),U("SSS",Jn,Wn);var Vi;for(Vi="SSSS";9>=Vi.length;Vi+="S")U(Vi,ei);for(Vi="S";9>=Vi.length;Vi+="S")q(Vi,Kt);var Ui=D("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var ji=f.prototype;ji.add=Si,ji.calendar=it,ji.clone=rt,ji.diff=ut,ji.endOf=wt,ji.format=pt,ji.from=ft,ji.fromNow=mt,ji.to=gt,ji.toNow=vt,ji.get=M,ji.invalidAt=Dt,ji.isAfter=at,ji.isBefore=ot,ji.isBetween=st,ji.isSame=lt,ji.isValid=At,ji.lang=Ni,ji.locale=yt,ji.localeData=bt,ji.max=Ci,ji.min=ki,ji.parsingFlags=St,ji.set=M,ji.startOf=_t,ji.subtract=Di,ji.toArray=Et,ji.toObject=Tt,ji.toDate=Ct,ji.toISOString=dt,ji.toJSON=dt,ji.toString=ht,ji.unix=kt,ji.valueOf=xt,ji.year=wi,ji.isLeapYear=ue,ji.weekYear=Mt,ji.isoWeekYear=It,ji.quarter=ji.quarters=Rt,ji.month=J,ji.daysInMonth=Q,ji.week=ji.weeks=fe,ji.isoWeek=ji.isoWeeks=me,ji.weeksInYear=Ft,ji.isoWeeksInYear=Ot,ji.date=Pi,ji.day=ji.days=Ht,ji.weekday=qt,ji.isoWeekday=Bt,ji.dayOfYear=ve,ji.hour=ji.hours=Ri,ji.minute=ji.minutes=$i,ji.second=ji.seconds=Li,ji.millisecond=ji.milliseconds=Ui,ji.utcOffset=Ue,ji.utc=He,ji.local=qe,ji.parseZone=Be,ji.hasAlignedHourOffset=Ye,ji.isDST=ze,ji.isDSTShifted=We,ji.isLocal=Ge,ji.isUtcOffset=Ke,ji.isUtc=Ze,ji.isUTC=Ze,ji.zoneAbbr=Zt,ji.zoneName=Jt,ji.dates=te("dates accessor is deprecated. Use date instead.",Pi),ji.months=te("months accessor is deprecated. Use month instead",J),ji.years=te("years accessor is deprecated. Use year instead",wi),ji.zone=te("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",je);var Hi=ji,qi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Bi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Yi="Invalid date",zi="%d",Wi=/\d{1,2}/,Gi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ki=b.prototype;Ki._calendar=qi,Ki.calendar=en,Ki._longDateFormat=Bi,Ki.longDateFormat=tn,Ki._invalidDate=Yi,Ki.invalidDate=nn,Ki._ordinal=zi,Ki.ordinal=rn,Ki._ordinalParse=Wi,Ki.preparse=an,Ki.postformat=an,Ki._relativeTime=Gi,Ki.relativeTime=on,Ki.pastFuture=sn,Ki.set=ln,Ki.months=W,Ki._months=fi,Ki.monthsShort=G,Ki._monthsShort=mi,Ki.monthsParse=K,Ki.week=he,Ki._week=xi,Ki.firstDayOfYear=pe,Ki.firstDayOfWeek=de,Ki.weekdays=Lt,Ki._weekdays=Mi,Ki.weekdaysMin=Ut,Ki._weekdaysMin=Oi,Ki.weekdaysShort=Vt,Ki._weekdaysShort=Ii,Ki.weekdaysParse=jt,Ki.isPM=Wt,Ki._meridiemParse=Fi,Ki.meridiem=Gt,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=te("moment.lang is deprecated. Use moment.locale instead.",k),e.langData=te("moment.langData is deprecated. Use moment.localeData instead.",E);var Zi=Math.abs,Ji=Tn("ms"),Qi=Tn("s"),Xi=Tn("m"),er=Tn("h"),tr=Tn("d"),nr=Tn("w"),ir=Tn("M"),rr=Tn("y"),ar=Sn("milliseconds"),or=Sn("seconds"),sr=Sn("minutes"),lr=Sn("hours"),ur=Sn("days"),cr=Sn("months"),hr=Sn("years"),dr=Math.round,pr={s:45,m:45,h:22,d:26,M:11},fr=Math.abs,mr=Oe.prototype;mr.abs=gn,mr.add=yn,mr.subtract=bn,mr.as=Cn,mr.asMilliseconds=Ji,mr.asSeconds=Qi,mr.asMinutes=Xi,mr.asHours=er,mr.asDays=tr,mr.asWeeks=nr,mr.asMonths=ir,mr.asYears=rr,mr.valueOf=En,mr._bubble=wn,mr.get=An,mr.milliseconds=ar,mr.seconds=or,mr.minutes=sr,mr.hours=lr,mr.days=ur,mr.weeks=Dn,mr.months=cr,mr.years=hr,mr.humanize=In,mr.toISOString=On,mr.toString=On,mr.toJSON=On,mr.locale=yt,mr.localeData=bt,mr.toIsoString=te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),mr.lang=Ni,O("X",0,0,"unix"),O("x",0,0,"valueOf"),U("x",ti),U("X",ii),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.10.6",n(Ne),e.fn=Hi,e.min=Me,e.max=Ie,e.utc=l,e.unix=Qt,e.months=hn,e.isDate=r,e.locale=k,e.invalid=d,e.duration=Je,e.isMoment=m,e.weekdays=pn,e.parseZone=Xt,e.localeData=E,e.isDuration=Fe,e.monthsShort=dn,e.weekdaysMin=mn,e.defineLocale=C,e.weekdaysShort=fn,e.normalizeUnits=A,e.relativeTimeThreshold=Mn;var gr=e;return gr}),n("doublebracket",["jquery.amd","underscore","moment"],function(e,t,n){function i(i,r,a){try{i.$("var.ngp-variable").each(function(){var i=e(this),o=i.data();if(i.data("unescaped")||(o.fallback=t.unescape(o.fallback),i.data("fallback",o.fallback).data("unescaped",!0)),r.hasOwnProperty(o.key)){var s=r[o.key];if(!s||-1===o.key.indexOf("Date")&&-1===s.indexOf("UTC")&&s.indexOf("Z")!==s.length-1)if(s.indexOf("||")>=0)if("Genders"===o.key&&a&&a.genders){var l=s.split("||"),u=t.map(l,function(e){var n=t.find(a.genders,{value:e});return n?n.display:e});i.text(u.join(", "))}else i.text(s.replace("||",", "));else{var c;"Genders"===o.key&&a&&a.genders?(c=t.find(a.genders,{value:s}),i.text(c?c.display:s)):"Race"===o.key&&a&&a.races?(c=t.find(a.races,{value:s}),i.text(c?c.display:s)):"Pronoun"===o.key&&a&&a.pronouns?(c=t.find(a.pronouns,{value:s}),i.text(c?c.display:s)):i.text(s)}else{var h=n(s);i.text(h.isValid()?h.format("LL"):s)}i.data("replaced",!0)}else o.replaced&&i.text(o.fallback).data("replaced",!1)})}catch(o){console.log(o)}}function r(e,n,i,r){var a=(i||r||"").replace(s,"'");return'<var class="ngp-variable" data-key="'+n+'" data-fallback="'+t.escape(a)+'">'+a+"</var>"}function a(e){try{return e.replace(l,",DefaultTo=").replace(o,r)}catch(t){console.warn("Merge Field",t)}}var o=/{{\s*(\w+)(?:(?:,\s*DefaultTo=(.*?)}})|(?:(?:\sor\s'(.*?)')?)\s*}})/gim,s=/\\'/g,l=/\.Value,\s*DefaultTo=/gm;return{translate:a,fill:i}}),n("FormError",[],function(){function e(e,t){"string"==typeof e?(this.text=e||"",this.field=t||null):(this.text=e.text||"",this.field=e.field||null)}return e.prototype.toString=function(){return this.text},e.prototype.valueOf=function(){return this.text},e.prototype.toJSON=function(){return{text:this.text,field:this.field.name}},e}),n("hbs!app/templates/errors",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r=this.lambda,a=this.escapeExpression;return'<div class="at-alert at-error">'+a(r(e,e))+'<a class="at-dismiss" href="#">&times;</a></div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.messages:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/errors",n),n}),n("errorviews",["backbone","FormError","hbs!app/templates/errors"],function(e,t,n){var i=e._;return{errors_view:e.View.extend({__name__:"InlineErrorView",template:n,className:"at-error-console",events:{"click a.at-dismiss":"close","click .at-error":"focusError"},renderFeedback:function(e){this.form_errors=e||this.options.formview.errors(),i.isArray(this.form_errors)||(console.warn("Errors isn't array! Errors is: "+JSON.stringify(this.form_errors)),this.form_errors=[]),this.server_errors.length&&(this.form_errors=i.uniq(this.form_errors.concat(this.server_errors)));var t=!1;return i.each(this.form_errors,function(e,n){if(i.isObject(e)&&e.field&&(this.listenToOnce(e.field,"valid",function(){var t=i.indexOf(this.form_errors,e);-1!==t&&(this.form_errors.splice(t,1),this.$(".at-error").eq(t).remove()),this.handleMultistep()}),this.listeningTo.push(e.field),!t&&this.options.formview.multistep)){if(e.field.parent.name){var r=e.field.parent.def.step;i.isUndefined(r)?this.options.formview.setStepByName(e.field.parent.name):this.options.formview.setStep(r)}e.field.focus(),t=!0}},this),this.render().focusError(),this.errors()},clearFeedback:function(){return this.clear()},focusError:function(e){e&&e.preventDefault();var t=e?this.$(e.currentTarget).index():0;return i.isObject(this.form_errors[t])&&this.form_errors[t].field&&this.form_errors[t].field.focus(),this},close:function(e){e&&e.preventDefault();var t=this.$(e.currentTarget).parent(),n=t.index(),r=this.form_errors[n];if(i.isObject(r)&&r.field){var a=i.indexOf(this.listeningTo,r.field),o=this.listeningTo[a];this.stopListening(o),this.listeningTo.splice(a,1),this.listeningTo.length&&this.listeningTo[0].focus(),o.$(":input.error").removeClass("error noValue")}return this.form_errors.splice(n,1),t.remove(),this.handleMultistep()},handleMultistep:function(){return this.options.formview.multistep&&0===this.form_errors.length&&(this.options.formview.$(".at-step.active.invalid").removeClass("invalid valid"),this.options.server_errors=[]),this},clear:function(){return this.$el.empty(),this.stopListeningToErrors(),this.form_errors=[],this.server_errors=[],this},val:function(){return{}},errors:function(){return[]},setFullWidthError:function(e){e&&e.length&&this.$el.html(this.template({messages:e}))},setServerErrors:function(e){return this.server_errors=i.reduce(e,function(e,n){var r=i(n.properties).without("customerKey","ccInfoKey");if(0===r.size())return e;var a=r.first().replace(/\.Value$/,"").replace(/DirectConnectSpecific/,"Account").replace(/Expiration(Month|Year)/,"ExpirationDate"),o="Account"===a||"ExpirationDate"===a;o&&this.options.formview.$(".change-account").trigger("click");var s=this.options.formview.getField(a)||o?this.options.formview.getField("PaymentInformation"):null,l=r.indexOf("DirectConnectSpecific");if(l>=0){var u=r.value();u[l]="Account",r=i(u)}if(r.size()&&n.text)if(n.text=r.contains("Account")?n.text.replace(/^Account/i,"Credit Card Number"):r.contains("ExpirationMonth")?n.text.replace(/month/i,"Month"):r.contains("ExpirationYear")?n.text.replace(/year/i,"Year"):n.text,s){var c=new t(n.text,s);s.renderFeedbackWithErrors([c]),e.push(c)}else e.push(n.text);return o&&s.parent&&s.parent.def&&(s.parent.def.required=s.def.required=!0),e},[],this),this},form_errors:[],server_errors:[],listeningTo:[],stopListeningToErrors:function(){function e(e){this.stopListening(e)}return i.each(this.listeningTo,e,this),this.listeningTo=[],this},render:function(){return("true"!==this.options.formview.options.parent_tag.options.inline_error_display||this.server_errors.length>0)&&this.$el.html(this.template({messages:this.form_errors})),this}})}}),n("oberon",["jquery.amd","fastaction_config"],function(e,t){function n(e,t,n){var i=new Array(n+1).join(t);return(i+e).slice(-i.length)}function i(e){return e||(e=0),n(e.toString(2),"0",64)}function r(e){var t=i(e);return parseInt(t.match(/.{1,8}/g).reverse().join(""),2)}function a(t,n,i,r,a){var o=t+n,s=!1,l=document.createElement("a");l.href=document.URL;var u=document.createElement("a");if(u.href=o,""!==u.host&&l.host!==u.host&&(s=!0),s&&!e.support.cors){var c=function(e,t){return":"===e||":"===t?!1:e===t?!1:!0};if(c(l.protocol,u.protocol)){if("http:"===l.protocol&&i.Account&&!window.confirm("You are attempting to submit this form over an insecure protocol, do you wish to continue?"))return a({responseText:'{"message":"User prevented unsecure submission"}'},null,"error");o=o.replace(new RegExp(u.protocol),l.protocol)}var h=e.param(i),d=new window.XDomainRequest;d.open("POST",o),d.onload=function(){var e=d.responseText?JSON.parse(d.responseText):{};return r(e,"success",d),"success"},d.onerror=function(){return a(d,null,"error"),"error"},d.onprogress=function(){return"progress"},d.ontimeout=function(){return"timeout"},d.timeout=1e4,setTimeout(function(){return d.send(h),"send"},250)}else e.ajax({type:"POST",url:o,data:i,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},success:r,error:a,crossDomain:!0,xhrFields:{withCredentials:!0}})}return{post_form:a,obfuscate:r,deobfuscate:r}}),n("trackTransaction",["underscore"],function(e){return function(t,n){var i=t.model.get("designation"),r=t.model.get("metadata"),a=t.model.get("formId"),o=t.model.get("type"),s=n.confirmationID,l=n.contributionAmount,u=t.val(),c=[];if(i&&i.name&&s&&l){if(i.sku=i.designationId+"_"+a,"EventForm"===o){var h=u.AdditionalContributionValue,d=e.reduce(r.tickets,function(e,t){return e[t.id]={price:t.price,title:t.title},e},{});c=e.chain(u).transform(function(e,t,n){var i=n.match(/Ticket_(\d+)/);i&&(e[i[1]]=t)}).map(function(e,t){var n=d[t];return{id:i.sku+"_"+t,price:n.price.toFixed(2),name:n.title,type:"Ticket",quantity:e}}).value(),h&&"0.00"!==h&&c.push({id:i.sku+"_A",price:h,name:"Additional",type:"Donation",quantity:1})}var p={total:parseFloat(l).toFixed(2),id:s,tenant:i,type:o,city:u.City,state:u.StateProvince,country:u.Country,items:c};if(!e.isObject(p)||!e.isObject(p.tenant))return!1;var f,m=["nv._addTrans",p.id,p.tenant.name,"0","0","0"],g=["nv._addItem",p.id,p.tenant.sku,"Contribution","","0","1"];if(!(parseFloat(p.total)>0))return!1;f=e.isString(p.total)?p.total:""+p.total,m[3]=g[5]=f,p.type&&e.isString(p.type)&&(g[4]=p.type),p.city&&e.isString(p.city)&&(m[6]=p.city,p.state&&e.isString(p.state)&&(m[7]=p.state,p.country&&e.isString(p.country)&&(m[8]=p.country)));var v={event:"transaction",ecommerce:{purchase:{actionField:{id:p.id,affiliation:"NGPVAN",revenue:f},products:[{id:p.tenant.sku,price:f,brand:p.tenant.name,category:p.type,quantity:1}]}}};return _gaq.push(m),p.items&&p.items.length?(_gaq.push.apply(_gaq,e.map(p.items,function(e){return["nv._addItem",p.id,e.id,e.name,e.type,e.price,e.quantity+""]})),v.ecommerce.purchase.products=e.map(p.items,function(e){return{id:e.id,name:e.name,price:e.price,brand:i.name,category:e.type,quantity:e.quantity}})):_gaq.push(g),_gaq.push(["nv._trackTrans"]),dataLayer.push(v),atLayer.push(v),v.ecommerce.purchase}}}),function(e,t){function i(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function r(e){return d?d(e):"[object Array]"===p.call(e)}function a(e){return e&&"[object Object]"===p.call(e)}function o(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function s(e,t,n){var i,r,a=[];if(!e)return a;if(h&&e.map===h)return e.map(t,n);for(i=0,r=e.length;r>i;i++)a[i]=t.call(n,e[i],i,e);return a}function l(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function u(e){var t=c.settings.currency.format;return"function"==typeof e&&(e=e()),i(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:i(t)?c.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var c={};c.version="0.3.2",c.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var h=Array.prototype.map,d=Array.isArray,p=Object.prototype.toString,f=c.unformat=c.parse=function(e,t){if(r(e))return s(e,function(e){return f(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||c.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(i)?0:i},m=c.toFixed=function(e,t){t=l(t,c.settings.number.precision);var n=Math.pow(10,t);return(Math.round(c.unformat(e)*n)/n).toFixed(t)},g=c.formatNumber=function(e,t,n,i){if(r(e))return s(e,function(e){return g(e,t,n,i)});e=f(e);var u=o(a(t)?t:{precision:t,thousand:n,decimal:i},c.settings.number),h=l(u.precision),d=0>e?"-":"",p=parseInt(m(Math.abs(e||0),h),10)+"",v=p.length>3?p.length%3:0;return d+(v?p.substr(0,v)+u.thousand:"")+p.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+u.thousand)+(h?u.decimal+m(Math.abs(e),h).split(".")[1]:"")},v=/\.00$/,y=c.formatMoney=function(e,t,n,i,h,d){if(r(e))return s(e,function(e){return y(e,t,n,i,h,d)});e=f(e);var p=o(a(t)?t:{symbol:t,precision:n,thousand:i,decimal:h,format:d},c.settings.currency),m=u(p.format),b=e>0?m.pos:0>e?m.neg:m.zero;return b.replace("%s",p.symbol).replace("%v",g(Math.abs(e),l(p.precision),p.thousand,p.decimal)).replace(v,"");
};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof n&&n.amd?n("accounting",[],function(){return c}):(c.noConflict=function(n){return function(){return e.accounting=n,c.noConflict=t,c}}(e.accounting),e.accounting=c)}(this),n("FieldView",["backbone","NVTagCallbacks","FormError"],function(e,t,n){var i=e._;return e.View.extend({__name__:"FieldView",initialize:function(){i.bindAll(this,"render","renderFeedback","clearFeedback"),e.Courier.add(this),this.touch_state=!1,this.error_template=this.options.templates.inline_error,this.template=this.options.templates[this.type],this.def=this.options.definition||{},this.name=i.result(this,"name")||this.def.name||this.options.name,this.title=i.result(this,"title")||this.def.title||this.options.title},touch:function(){return this.touch_state=!0,this},touched:function(){return this.touch_state},isRequired:function(){return!!this.options.definition.required},render:function(){return this.$el.html(this.template({definition:this.def})),this},focus:function(){return this.$(":tabbable:first").focus(),this},field_name:function(){return this.options.definition.name},field_title:function(){return this.options.definition.title},notEmpty:function(){return null!=this.val()},error_class:"error",toError:function(e){return new n(e,this)},errors:function(e){var n=this.require_valid()?[]:[this.field_title()+" is required."];return i.isArray(e)&&e.length&&(n=e.concat(n)),n=t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:n,def:this.def}).errors,this.def.children||(this.trigger(n.length?"invalid":"valid"),n=i.map(n,this.toError,this)),n},events:{"change *":"touch"},require_valid:function(){var e=null!==this.val()||!this.options.definition.required;return e||"SelectedFrequency"!==this.field_name()&&"SelectedDuration"!==this.field_name()||(e=!0),t("alterRequireValid",{val:this.val(),field_name:this.field_name(),require_valid:e,form_def:this.options.definition}).require_valid},val:function(){return null},setval:function(){return this.touch()},hideOrShow:function(){return this.shouldHide()?this.$el.hide():this.$el.show(),this},shouldHide:function(){var e=this.options.formview;return e&&e.options&&e.options.smart&&!e.options.clickedNotMe&&this.require_valid()},renderFeedback:function(e){e&&e.stopPropagation();var t=this.errors();return this.renderFeedbackWithErrors(t)},clearFeedback:function(){return this.$el.removeClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(":input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){var t=this.$el,n=this.options.definition.type;t.addClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&"checkbox"!==n&&(t.find("small."+this.error_class).remove(),t.append(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})))}else this.clearFeedback();return e},getFieldPrefix:function(e,t){var n=e.indexOf(t);return n?e.substring(0,n):""}})}),n("mailcheck",[],function(){var e={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["ngpvan.com","msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx","ngpvan"],defaultTopLevelDomains:["com","net","org","edu","gov","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","ch","no","cz","in","net.au","info","biz","mil","co.jp","sg","hu"],run:function(t){t.domains=t.domains||e.defaultDomains,t.secondLevelDomains=t.secondLevelDomains||e.defaultSecondLevelDomains,t.topLevelDomains=t.topLevelDomains||e.defaultTopLevelDomains,t.distanceFunction=t.distanceFunction||e.sift3Distance;return e.suggest(e.encodeEmail(t.email),t.domains,t.secondLevelDomains,t.topLevelDomains,t.distanceFunction)},suggest:function(e,t,n,i,r){e=e.toLowerCase();var a=this.splitEmail(e),o=this.findClosestDomain(a.domain,t,r,this.domainThreshold);if(o)return o==a.domain?!1:{address:a.address,domain:o,full:a.address+"@"+o};var s=this.findClosestDomain(a.secondLevelDomain,n,r,this.secondLevelThreshold),l=this.findClosestDomain(a.topLevelDomain,i,r,this.topLevelThreshold);if(a.domain){var o=a.domain,u=!1;if(s&&s!=a.secondLevelDomain&&(o=o.replace(a.secondLevelDomain,s),u=!0),l&&l!=a.topLevelDomain&&(o=o.replace(a.topLevelDomain,l),u=!0),1==u)return{address:a.address,domain:o,full:a.address+"@"+o}}return!1},findClosestDomain:function(e,t,n,i){i=i||this.topLevelThreshold;var r,a=99,o=null;if(!e||!t)return!1;n||(n=this.sift3Distance);for(var s=0;t.length>s;s++){if(e===t[s])return e;r=n(e,t[s]),a>r&&(a=r,o=t[s])}return i>=a&&null!==o?o:!1},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var n=0,i=0,r=0,a=0,o=5;e.length>n+i&&t.length>n+r;){if(e.charAt(n+i)==t.charAt(n+r))a++;else{i=0,r=0;for(var s=0;o>s;s++){if(e.length>n+s&&e.charAt(n+s)==t.charAt(n)){i=s;break}if(t.length>n+s&&e.charAt(n)==t.charAt(n+s)){r=s;break}}}n++}return(e.length+t.length)/2-a},splitEmail:function(e){var t=e.trim().split("@");if(2>t.length)return!1;for(var n=0;t.length>n;n++)if(""===t[n])return!1;var i=t.pop(),r=i.split("."),a="",o="";if(0==r.length)return!1;if(1==r.length)o=r[0];else{a=r[0];for(var n=1;r.length>n;n++)o+=r[n]+".";o=o.substring(0,o.length-1)}return{topLevelDomain:o,secondLevelDomain:a,domain:i,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};return function(t){return e.run({email:t})}}),n("autocomplete",[],function(){var e={AdditionalContributionValue:"transaction-amount",Prefix:"honorific-prefix",FirstName:"given-name",MiddleName:"additional-name",LastName:"family-name",Suffix:"honorific-suffix",AddressLine1:"address-line1",AddressLine2:"address-line2",StateProvince:"address-level1",City:"address-level2",PostalCode:"postal-code",Country:"country-name",EmailAddress:"email",HomePhone:"tel-national",Employer:"organization",Occupation:"organization-title",WorkAddressLine1:"work address-line1",WorkAddressLine2:"work address-line2",WorkStateProvince:"work address-level1",WorkCity:"work address-level2",WorkPostalCode:"work postal-code",WorkCountry:"work country-name",WorkEmail:"work email",WorkPhone:"work tel-national",MobilePhone:"mobile tel-national"},t={Prefix:"name-prefix",FirstName:"given-name",MiddleName:"middle-name",LastName:"surname",Suffix:"name-suffix",AddressLine1:"address-line1",AddressLine2:"address-line2",StateProvince:"administrative-area",City:"locality",PostalCode:"postal-code",Country:"country",EmailAddress:"email",HomePhone:"phone-national",Employer:"organization"};return function(n){var i='autocomplete="on"';return n&&e[n]&&(i='autocomplete="'+e[n]+'"',t[n]&&(i+=' x-autocompletetype="'+t[n]+'"')),i}}),n("placeholder",[],function(){var e={AdditionalContributionValue:"$0.00",EmailAddress:"email@email.com",TwitterHandle:"@twitterhandle",FacebookProfileUrl:"https://facebook.com/username"};return function(t){var n=t.replace(/(Email)$/,"$1Address").replace(/^Work/,""),i=e[n];return i&&'placeholder="'+i+'"'}}),n("accesskey",[],function(){function e(e){return e&&t[e]?'accesskey="'+t[e]+'"':null}var t={AddressLine1:"1",AddressLine2:"2",Country:"c",City:"t",EmailAddress:"e",FirstName:"f",MiddleName:"m",LastName:"l",Prefix:"x",Suffix:"u",StateProvince:"s",HomePhone:"h",WorkPhone:"k",MobilePhone:"b",WorkEmail:"r",PostalCode:"p",TwitterHandle:"w",FacebookProfileUrl:"a",Occupation:"n",Employer:"o",Account:"d",ExpirationDate:"i",SecurityCode:"y"};return e.keys=t,e.label=function(e){var n=t[e&&e.name],i=e.def&&e.def.label?e.def.label:e.title;if(n&&i){var r=new RegExp("("+n+")","i");return i.replace(r,"<u>$1</u>")}return i},e}),n("TextFieldView",["backbone","NVTagCallbacks","FieldView","accounting","mailcheck","autocomplete","placeholder","accesskey"],function(e,t,n,i,r,a,o,s){function l(e){if(e&&p[e]){var t=(""+p[e]).replace(/^\/|(\/([igm]+)?)$/g,"");return'pattern="'+t+'"'}return null}var u=e.$,c=e._,h="".trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},d=/^(text|email|tel|url)$/i,p={number:/^-?\d*(\.\d*)?$/,creditCard:/^([0-9]{4,6}\s?){3,4}([0-9]{2})?$/,twitter:/^@?[A-Za-z0-9_]{1,15}$/,postalCode:/^[a-zA-Z\d\s\-,#\.+]+$/,postalCodeUS:/^\d{5}([\-]\d{4})?$/,postOfficeBox:/^((?:p(?:[o|0]st|(?:\.*)))\s*(?:(?:[o|0](?:ffice?|(?:\.*)))|(?:b[o|0]x)))\s*(b[o|0]x)*\s#?(\d+)?/i,phone:/^(?:\+?1[-. ]?)?(?:\(?([2-9]\d{2})\)?)[-. ]?([2-9]\d{2})[-. ]?(\d{4})(?:\s{0,2}(?:ext(?:ension)?|ex|x)\.?\s?(\d{1,5}))*$/,facebook:/^https?:\/\/(?:(?:www|m)\.)?facebook\.com\/(?:(?:profile\.php\?id=([0-9]+))|((?!profile\.php)[a-zA-Z0-9.]{5,}))$/,currency:/^(\$?[+\-]?\s*[0-9]{1,3}(?:[0-9]*(?:[.,][0-9]{1,2})?|(?:,[0-9]{3})*(?:\.[0-9]{1,2})?|(?:\.[0-9]{3})*(?:,[0-9]{1,2})?))$/,email:/^([\w!#$%&'*+\-\/=?\^`{|}~]+\.)*[\w!#$%&'*+\-\/=?\^`{|}~]+@((((([a-zA-Z0-9]{1}[a-zA-Z0-9\-]{0,62}[a-zA-Z0-9]{1})|[a-zA-Z])\.)+[a-zA-Z]{2,62})|(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?)$/,integer:/^-?\d+$/,positiveInteger:/^\d+$/,negativeInteger:/^-\d+$/};return n.extend({__name__:"TextFieldView",tagName:"label",className:function(){return"at-text   "+this.options.definition.name},events:{change:"renderFeedback","input input":"hasValue",'change [name$="PostalCode"]':"zipLookup","click .didYouMean":"useSuggestion","change *":"touch"},pattern:p,attr:{pattern:l},formatOtherAmount:function(e){e.currentTarget.value=i.toFixed(e.currentTarget.value,2).replace(/\.00$/,"")},renderInfo:function(e){if(p.postOfficeBox.test(e.currentTarget.value)){var t="We recommend providing a residential address because most recipients do not accept PO Box addresses.";this.$suggestion?this.$suggestion.text(t):(this.$suggestion=u('<small class="info">'+t+"</small>"),this.$el.append(this.$suggestion))}else this.clearSuggestion()},renderSuggestion:function(e){var t=r(e.currentTarget.value);t&&-1!==t.domain.indexOf(".")?this.$suggestion?this.$suggestion.find("a").text(t.full):(this.$suggestion=u('<small class="didYouMean info">Did you mean <a href="#applySuggestion">'+t.full+"</a>?</small>"),this.$el.append(this.$suggestion)):this.clearSuggestion()},clearSuggestion:function(){this.$suggestion&&(this.$suggestion.remove(),this.$suggestion=null)},useSuggestion:function(e){e.preventDefault(),this.setval(u(e.currentTarget).find("a").text()),this.clearSuggestion(),this.clearFeedback(),this.input.focus()},zipLookup:function(e){var t=e.currentTarget.value,n=e.currentTarget.name,i=this.parent.subviews,r=this.getFieldPrefix(n,"PostalCode"),a=i[r+"City"],o=i[r+"StateProvince"],s=i[r+"Country"],l=this.options.templates.datalist,c=!s||s&&"postalCode"!==this.def.validation,h=!1,d=function(){h=!0};t&&(a||o)&&c&&!this.errors().length&&(a&&a.$("input").one("input",d),u.jsonp({url:"//d1aqhv4sn5kxtx.cloudfront.net/zip/with-callback/"+e.currentTarget.value+".json",cache:!0,callback:"zipapicallback"}).then(function(e){a&&e.locality&&(e.localities&&a.$el.find("datalist").remove().end().append(l({id:"localities",options:e.localities})).find("input").attr("list","localities"),h||(a.setval(e.locality).clearFeedback(),a.$("input").off("input",d))),o&&e.region&&e.region.abbr&&o.setval(e.region.abbr)}))},initialize:function(){n.prototype.initialize.call(this),c.bindAll(this,"renderSuggestion","clearSuggestion","clearFeedback","renderInfo"),this.$el.on("change","input",this.trim),"SuggestedAmount"===this.name&&this.$el.on("blur","input",this.formatOtherAmount);var e=this;this.once("invalid",function(){e.$el.on("input","input",c.debounce(this.renderFeedback,150))})},renderFeedbackWithErrors:function(e){return e.length&&this.clearSuggestion(),n.prototype.renderFeedbackWithErrors.call(this,e)},trim:function(e){e.currentTarget.value&&d.test(e.currentTarget.type)&&(e.currentTarget.value=h(e.currentTarget.value))},context:function(){var e={},n=this.def.validation||this.def.valueType;e={name:this.name,labelhide:this.def.labelhide||"placeholder"===this.options.labels,label:s.label(this),title:this.title,required:this.def.required&&"required",readonly:this.def.readonly&&"readonly disabled",value:this.def.default_value||"",maxlength:this.def.maxlength||"",accesskey:s(this.name),autocomplete:a(this.name),placeholder:o(this.name),type:"text",precision:this.def.precision},"postalCode"===n&&c.findIndex(this.parent.def.children,{name:this.getFieldPrefix(this.name,"PostalCode")+"Country"})<0&&(n="postalCodeUS");var i;if("decimal"===n||"positiveDecimal"===n||"negativeDecimal"===n){var r,u,h=e.precision||"";u="positiveDecimal"===n?"":"negativeDecimal"===n?"-":"-?",r=new RegExp("^"+u+"(\\d+(\\.\\d{0,"+h+"})?)|((\\.\\d{1,"+h+"}))$"),p["decimal"+h]=r,i=l("decimal"+h)}else i=l(n);i&&(e.pattern=i,e.patternKey=n),"AdditionalContributionValue"===this.name&&(this.title===this.name||""===this.title)&&(e.title="Additional Contribution");var d=this.options.parent;return"PaymentInformation"===d.name&&"required"in d.def&&!d.def.required&&(e.required=""),e.labelhide&&(e.placeholder='placeholder="'+c.escape(this.title)+(e.required?'*"':'"')),"TwitterHandle"===this.name?(e.pattern=l("twitter"),e.maxlength=16):"FacebookProfileUrl"===this.name&&(e.pattern=l("facebook")),"phone"===n?e.type="tel":"email"===n?e.type="email":"url"===n?e.type="url":"postalCodeUS"===n&&(e.type="tel",e.maxlength=10),t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){var e=this.context();return this.$el.html(this.template(e)),this.$input=this.$(":input"),this.input=this.$input.get(0),e.patternKey&&this.$input.data("pattern",e.patternKey),/Email/.test(this.name)&&this.$input.on("change",this.renderSuggestion),"residentialAddress"===this.def.validation&&this.$input.on("change",this.renderInfo),this},errors:function(){if(!this.$el.is(":visible"))return[];var e=this.require_valid()?[]:[this.title+" is required."],n=this.input.value;if(!e.length&&n){if(/^(currency|number)$/.test(this.def.validation)){var r=this.def.valueMax||1/0,a=this.def.valueMin||-(1/0),o=i.unformat(n),s=function(e){return i.toFixed(e,2).replace(/\.00$/,"")};c.isNaN(o)?e.push("Please enter a valid amount."):a>o?e.push("Amount must be at least "+s(a)+"."):o>r&&e.push("Amount must be less than "+s(r)+".")}if(!e.length){var l="Please enter a valid "+this.title+".";if(this.input.validity){var u=this.input.validity;this.input.validationMessage&&e.push(u.patternMismatch&&!u.typeMismatch?l:this.input.validationMessage)}else if(this.input.pattern){var h=this.$input.data("pattern"),d=p[h]||new RegExp(this.input.pattern);d.test(this.input.value)||e.push(l)}}}return this.trigger(e.length?"invalid":"valid"),c.map(t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},hasValue:function(e){e.currentTarget.value?this.$(e.currentTarget).removeClass("noValue"):this.$(e.currentTarget).addClass("noValue")},val:function(){var e=h(this.$input.val());return"SuggestedAmount"===this.name?e={Amount:i.toFixed(e,2)}:"TwitterHandle"===this.name?e=e.replace(/^@/,""):"StateProvince"===this.name&&(e=u('[name="StateProvince"]').val()),""!==e?e:null},setval:function(e){return"SuggestedAmount"===this.name&&c.isObject(e)&&(e=e.SuggestedAmount?e.SuggestedAmount:e.Amount?e.Amount:this.def.default_value),this.$("input").val(e),this.touch().hideOrShow()},type:"textfield"})}),n("TextAreaView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){var i=e._;return n.extend({__name__:"TextAreaView",tagName:"label",events:{change:"renderFeedback"},className:function(){return"at-area   "+this.options.definition.name},initialize:function(){n.prototype.initialize.call(this);var e=this;this.once("invalid",function(){e.$el.on("input",":input",i.debounce(this.renderFeedback,150))})},context:function(){var e={name:this.name,title:this.title,label:this.def.label||this.title,labelhide:"placeholder"===this.options.labels,default_value:this.def.default_value,required:this.def.required&&"required",readonly:this.def.readonly&&"readonly disabled",maxlength:this.def.maxlength?'maxlength="'+this.def.maxlength+'"':""};return e.labelhide&&(e.placeholder='placeholder="'+i.escape(this.title)+'"'),t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this.$textarea=this.$("textarea"),i.isPlainObject(this.def.attr)&&this.$textarea.attr(this.def.attr),this},val:function(){return this.$textarea.val()||null},setval:function(e){return i.isNull(e)?this:(this.$textarea.val(e),this.touch().hideOrShow())},type:"textarea"})}),n("MarkupView",["doublebracket","FieldView"],function(e,t){return t.extend({__name__:"MarkupView",type:"markup",tagName:"div",className:function(){var e=["at-markup",this.options.definition.name],t=["SmsLegalDisclaimer"];return-1!==t.indexOf(this.options.definition.name)&&e.push("at-legal"),e.join(" ")},render:function(){this.options.definition.markup?"TrackingPixel"===this.options.definition.name?this.$el.html(e.translate(this.options.definition.markup)).hide():this.$el.html(e.translate(this.options.definition.markup)).show():this.$el.hide()}})}),n("otherOption",["jquery.amd"],function(e){function t(e){var t=!1;switch(e.type){case"radios":t="Other"===e.val();break;case"checkbox":t=e.val();break;case"select":t=null!==e.val()&&e.val().split("||").filter(function(e){return"Other"===e}).length>0}return t}var n=function(t){var n=t.def;n.other&&_.defer(function(){var i=".at-text."+n.other.name;if(t.$other=e(i),"select"!==t.def.type){var r=t.$other.parent(),a=t.$el.parent();if("radios"===t.type){var o=e("input[value='Other'][name='"+t.name+"']");a=o.parent()}var s=t.$other.detach();a.append(s),r.remove()}t.$other.hide()})},i=function(e){_.defer(function(){e.def.other&&e.$other&&t(e)?("select"!==e.def.type&&e.$el.parent().addClass("other-option"),e.$other.show()):e.$other&&(e.$el.parent().removeClass("other-option"),e.$other.hide())})};return{showHide:i,render:n}}),n("CheckboxView",["backbone","NVTagCallbacks","FieldView","otherOption"],function(e,t,n,i){var r=e.$;return n.extend({__name__:"CheckboxView",tagName:"label",events:{"change input":"renderFeedback"},className:function(){return"at-check  "+this.options.definition.name},val:function(){var e=this.$(":input").prop("checked");return"IsRecurring"===this.options.definition.name&&(e=r('[name="IsRecurring"]').prop("checked")),e},setval:function(e){var t=this.$(":input").prop("checked");return this.$(":input").prop("checked",e),"IsRecurring"===this.options.definition.name&&r('[name="IsRecurring"]').prop("checked",e),t!==this.$(":input").prop("checked")&&this.showHideOther(),this.touch().hideOrShow()},context:function(){var e=this.options.definition,n={name:e.name,title:e.title,checked:e.default_value?"checked":"",required:e.required?"required":""};return t("alterContext",{element:this.type,context:n,def:e}).context},render:function(){this.$el.html(this.template(this.context()));var e=this;return"IsRecurring"===this.name&&this.options.formview.options.form_definition.enableRecurringButtons&&r(".at-recurring").css("display","none"),i.render(e),this},errors:function(){var e=this.require_valid()?[]:[this.field_title()+" is a required field."];return"ConfirmedEligibility"===this.options.definition.name&&this.options.formview.options.showNotMe&&(e=[]),e=t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.options.definition}).errors,this.trigger(e.length?"invalid":"valid"),_.map(e,this.toError,this)},notEmpty:function(){return!!this.val()},require_valid:function(){return this.notEmpty()||!this.options.definition.required},renderFeedback:function(){this.showHideOther(),n.prototype.renderFeedback.apply(this)},showHideOther:function(){this.def.other&&i.showHide(this)},type:"checkbox"})}),function(e){"function"==typeof n&&n.amd?n("select2",["jquery"],e):e("object"==typeof exports?t("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,i;!function(t){function r(e,t){return _.call(e,t)}function a(e,t){var n,i,r,a,o,s,l,u,c,h,d,p=t&&t.split("/"),f=y.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),o=e.length-1,y.nodeIdCompat&&x.test(e[o])&&(e[o]=e[o].replace(x,"")),e=p.slice(0,p.length-1).concat(e),c=0;e.length>c;c+=1)if(d=e[c],"."===d)e.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(i=n.slice(0,c).join("/"),p)for(h=p.length;h>0;h-=1)if(r=f[p.slice(0,h).join("/")],r&&(r=r[i])){a=r,s=c;break}if(a)break;!l&&m&&m[i]&&(l=m[i],u=c)}!a&&l&&(a=l,s=u),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(t,i.concat([e,n]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){g[e]=t}}function u(e){if(r(v,e)){var n=v[e];delete v[e],b[e]=!0,d.apply(t,n)}if(!r(g,e)&&!r(b,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function h(e){return function(){return y&&y.config&&y.config[e]||{}}}var d,p,f,m,g={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;f=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(r=a(r,t),n=u(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):a(e,t):(e=a(e,t),i=c(e),r=i[0],e=i[1],r&&(n=u(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:h(e)}}},d=function(e,n,i,a){var s,c,h,d,p,y,_=[],w=typeof i;if(a=a||e,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;n.length>p;p+=1)if(d=f(n[p],a),c=d.f,"require"===c)_[p]=m.require(e);else if("exports"===c)_[p]=m.exports(e),y=!0;else if("module"===c)s=_[p]=m.module(e);else if(r(g,c)||r(v,c)||r(b,c))_[p]=u(c);else{if(!d.p)throw new Error(e+" missing "+c);d.p.load(d.n,o(a,!0),l(c),{}),_[p]=g[c]}h=i?i.apply(g[e],_):void 0,e&&(s&&s.exports!==t&&s.exports!==g[e]?g[e]=s.exports:h===t&&y||(g[e]=h))}else e&&(g[e]=i)},e=n=p=function(e,n,i,r,a){if("string"==typeof e)return m[e]?m[e](n):u(f(e,n).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=a),r?d(t,e,n,i):setTimeout(function(){d(t,e,n,i)},4),p},p.config=function(e){return p(e)},e._defined=g,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){var r=t[i];"function"==typeof r&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,r=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var a=t(n),o=t(e);n.displayName=e.displayName,i.prototype=new r;for(var s=0;o.length>s;s++){var l=o[s];i.prototype[l]=e.prototype[l]}for(var u=(function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var r=n.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),r.apply(this,arguments)}}),c=0;a.length>c;c++){var h=a[c];i.prototype[h]=u(h)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;i>n;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;e>n;n++){var i=Math.floor(36*Math.random());t+=i.toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;n.length>r;r++){var a=n[r];a=a.substring(0,1).toLowerCase()+a.substring(1),a in i||(i[a]={}),r==n.length-1&&(i[a]=e[t]),i=i[a]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),r=n.style.overflowX,a=n.style.overflowY;return r!==a||"hidden"!==a&&"visible"!==a?"scroll"===r||"scroll"===a?!0:i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth:!1},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);i.append(n(r(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;e.results.length>n;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()}),r=t.$results.find(".select2-results__option[aria-selected]");r.each(function(){var t=e(this),n=e.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(r,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var r in i){var a=i[r];n.setAttribute(r,a)}if(t.children){var o=e(n),s=document.createElement("strong");s.className="select2-results__group";e(s);this.template(t,s);for(var l=[],u=0;t.children.length>u;u++){var c=t.children[u],h=this.option(c);l.push(h)}var d=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),o.append(s),o.append(d)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,r=t.id+"-results";this.$results.attr("id",r),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var r=n-1;0===e.length&&(r=0);var a=t.eq(r);a.trigger("mouseenter");var o=i.$results.offset().top,s=a.offset().top,l=i.$results.scrollTop()+(s-o);0===r?i.$results.scrollTop(0):0>s-o&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e),r=n+1;if(!(r>=t.length)){var a=t.eq(r);a.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),s=a.offset().top+a.outerHeight(!1),l=i.$results.scrollTop()+s-o;0===r?i.$results.scrollTop(0):s>o&&i.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&0>=t-e.deltaY,a=0>e.deltaY&&n<=i.$results.height();r?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):a&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{
originalEvent:t,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),i=this.$results.offset().top,r=e.offset().top,a=this.$results.scrollTop()+(r-i),o=r-i;a-=2*e.outerHeight(!1),2>=n?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(a)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),a=i(t,n);null==a?n.style.display="none":"string"==typeof a?n.innerHTML=r(a):e(n).append(a)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),i=n.closest(".select2"),r=e(".select2.select2-container--open");r.each(function(){var t=e(this);if(this!=i[0]){var n=t.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!r.options.get("disabled")){var n=e(this),i=n.parent(),a=i.data("data");r.trigger("unselect",{originalEvent:t,data:a})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},i.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;e.length>i;i++){var r=e[i],a=this.selectionContainer(),o=this.display(r,a);a.append(o),a.prop("title",r.title||r.text),a.data("data",r),t.push(a)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id,i=t.length>1;if(i||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),r=0;i.length>r;r++){var a={data:i[r]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var r=this;e.call(this,t,i),t.on("open",function(){r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var a=i.data("data");r.searchRemoveChoice(a),e.preventDefault()}}});var a=document.documentMode,o=a&&11>=a;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return o?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(o&&"input"===e.type)return void r.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&r.handleSearch(e)})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var r=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,a)){n=n||{};var i=e.Event("select2:"+t,{params:n});r.$element.trigger(i),-1!==e.inArray(t,o)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),r=i.item(e);t.push(r)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];e=[e],e.push.apply(e,i);for(var a=0;e.length>a;a++){var o=e[a].id;-1===n.inArray(o,r)&&r.push(o)}t.$element.val(r),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],a=0;i.length>a;a++){var o=i[a].id;o!==e.id&&-1===n.inArray(o,r)&&r.push(o)}t.$element.val(r),t.$element.trigger("change")})},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],r=this,a=this.$element.children();a.each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var a=r.item(t),o=r.matches(e,a);null!==o&&i.push(o)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),r=this._normalizeItem(e);return r.element=t,n.data(t,"data",r),i},i.prototype.item=function(e){var t={};if(t=n.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),r=[],a=0;i.length>a;a++){var o=n(i[a]),s=this.item(o);r.push(s)}t.children=r}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var r=this,a=this.$element.find("option"),o=a.map(function(){return r.item(n(this)).id}).get(),s=[],l=0;e.length>l;l++){var u=this._normalizeItem(e[l]);if(n.inArray(u.id,o)>=0){var c=a.filter(i(u)),h=this.item(c),d=n.extend(!0,{},u,h),p=this.option(d);c.replaceWith(p)}else{var f=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(f,m)}s.push(f)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var r=n.ajax(e);return r.then(t),r.fail(i),r}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=a.transport(a,function(i){var a=r.processResults(i,e);r.options.get("debug")&&window.console&&console.error&&(a&&a.results&&n.isArray(a.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(a)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var a=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof a.url&&(a.url=a.url.call(this.$element,e)),"function"==typeof a.data&&(a.data=a.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var r=i.get("tags"),a=i.get("createTag");void 0!==a&&(this.createTag=a);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,n,i),e.isArray(r))for(var s=0;r.length>s;s++){var l=r[s],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){function i(e,a){for(var o=e.results,s=0;o.length>s;s++){var l=o[s],u=null!=l.children&&!i({results:l.children},!0),c=l.text===t.term;if(c||u)return a?!1:(e.data=o,void n(e))}if(a)return!0;var h=r.createTag(t);if(null!=h){var d=r.option(h);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(o,h)}e.results=o,n(e)}var r=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,i)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){var n=this.$element.find("option[data-select2-tag]");n.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){function r(t){var n=o._normalizeItem(t),i=o.$element.find("option").filter(function(){return e(this).val()===n.id});if(!i.length){var r=o.option(n);r.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([r])}a(n)}function a(e){o.trigger("select",{data:e})}var o=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,r);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,r){for(var a=i.get("tokenSeparators")||[],o=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};o.length>s;){var u=o[s];if(-1!==e.inArray(u,a)){var c=o.substr(0,s),h=e.extend({},n,{term:c}),d=l(h);null!=d?(r(d),o=o.substr(s+1)||"",s=0):s++}else s++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.minimumInputLength>t.term.length?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(r){var a=null!=r?r.length:0;return i.maximumSelectionLength>0&&a>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var r=this;t.call(this,n,i),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=r.showSearch(e);t?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var r=this;t.call(this,n,i),n.on("query",function(e){r.lastParams=e,r.loading=!0}),n.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&t){var n=r.$results.offset().top+r.$results.outerHeight(!1),i=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);n+50>=i&&r.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");
return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,r=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,a="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(a,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(a+" "+o+" "+s,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,a="resize.select2."+i.id,o="orientationchange.select2."+i.id,s=this.$container.parents().filter(t.hasScroll);s.off(r),e(window).off(r+" "+a+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=a.top,o.bottom=a.top+o.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},u=a.top-s.height>l.top,c=l.bottom>a.bottom+s.height,h={left:a.left,top:o.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var p=d.offset();h.top-=p.top,h.left-=p.left,n||i||(r="below"),c||!u||n?!u&&c&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=o.top-p.top-s.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,i=0;t.length>i;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),0>this.minimumResultsForSearch&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return e(n.data.results)<this.minimumResultsForSearch?!1:t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(1>i.length)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,k,C,E,T,A,S){function D(){this.reset()}D.prototype.apply=function(h){if(h=e.extend(!0,{},this.defaults,h),null==h.dataAdapter){if(h.dataAdapter=null!=h.ajax?f:null!=h.data?p:d,h.minimumInputLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=u.Decorate(h.dataAdapter,m)),(null!=h.tokenSeparators||null!=h.tokenizer)&&(h.dataAdapter=u.Decorate(h.dataAdapter,g)),null!=h.query){var S=t(h.amdBase+"compat/query");h.dataAdapter=u.Decorate(h.dataAdapter,S)}if(null!=h.initSelection){var D=t(h.amdBase+"compat/initSelection");h.dataAdapter=u.Decorate(h.dataAdapter,D)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,k)),null!=h.placeholder&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,x)),h.selectOnClose&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,T))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=_;else{var N=u.Decorate(_,w);h.dropdownAdapter=N}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=u.Decorate(h.dropdownAdapter,E)),h.closeOnSelect&&(h.dropdownAdapter=u.Decorate(h.dropdownAdapter,A)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var P=t(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=u.Decorate(h.dropdownAdapter,P)}h.dropdownAdapter=u.Decorate(h.dropdownAdapter,C)}if(null==h.selectionAdapter){if(h.selectionAdapter=h.multiple?r:i,null!=h.placeholder&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,a)),h.allowClear&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,o)),h.multiple&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,s)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var M=t(h.amdBase+"compat/containerCss");h.selectionAdapter=u.Decorate(h.selectionAdapter,M)}h.selectionAdapter=u.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var I=h.language.split("-"),O=I[0];h.language=[h.language,O]}else h.language=[h.language];if(e.isArray(h.language)){var F=new c;h.language.push("en");for(var R=h.language,$=0;R.length>$;$++){var L=R[$],V={};try{V=c.loadPath(L)}catch(U){try{L=this.defaults.amdLanguageBase+L,V=c.loadPath(L)}catch(j){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+L+'" could not be automatically loaded. A fallback will be used instead.');continue}}F.extend(V)}h.translations=F}else{var H=c.loadPath(this.defaults.amdLanguageBase+"en"),q=new c(h.language);q.extend(H),h.translations=q}return h},D.prototype.reset=function(){function t(e){function t(e){return h[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,r){if(""===e.trim(i.term))return r;if(r.children&&r.children.length>0){for(var a=e.extend(!0,{},r),o=r.children.length-1;o>=0;o--){var s=r.children[o],l=n(i,s);null==l&&a.children.splice(o,1)}return a.children.length>0?a:n(i,a)}var u=t(r.text).toUpperCase(),c=t(i.term).toUpperCase();return u.indexOf(c)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:S,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},D.prototype.set=function(t,n){var i=e.camelCase(t),r={};r[i]=n;var a=u._convertData(r);e.extend(this.defaults,a)};var N=new D;return N}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var a=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,a)}}return r.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var r={};r=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var a=t.extend(!0,{},r);a=i._convertData(a);for(var o in a)t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],a[o]):this.options[o]=a[o]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var r=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==t){var a=e.attr("style");if("string"!=typeof a)return null;for(var o=a.split(";"),s=0,l=o.length;l>s;s+=1){var u=o[s].replace(/\s/g,""),c=u.match(n);if(null!==c&&c.length>=1)return c[1]}return null}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,r){-1===e.inArray(i,n)&&t.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;t.addedNodes.length>r;r++){var a=t.addedNodes[r];a.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var a=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,a,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},r}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,i){var r,a,o=[];r=e.trim(t.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),r=e.trim(n.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(a=i(this),null!=a&&o.push(a))})),t.attr("class",o.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),a=this.options.get("containerCssClass")||"";e.isFunction(a)&&(a=a(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||n,-1!==a.indexOf(":all:")){a=a.replace(":all:","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(a),r},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),a=this.options.get("dropdownCssClass")||"";e.isFunction(a)&&(a=a(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||n,-1!==a.indexOf(":all:")){a=a.replace(":all:","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(a),r},i}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function i(t,n){var r=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,i(t.children,n)),r}for(var r=[],a=0;this._currentData.length>a;a++){var o=this._currentData[a];r.push.apply(r,i(o,this.$element.val().split(this._valueSeparator)))}n(r)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var i=[],r=0;e.length>r;r++){var a=e[r];t.id!=a.id&&i.push(a.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],r=0;this._currentData.length>r;r++){var a=this._currentData[r],o=this.matches(t,a);null!==o&&i.push(o)}n({results:i})},t.prototype.addOptions=function(t,n){var i=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,i){var r=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return r;if(i.children){for(var a=i.children.length-1;a>=0;a--){var o=i.children[a],s=t(n.term,o.text,o);s||r.children.splice(a,1)}if(r.children.length>0)return r}return t(n.term,i.text,i)?r:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var i=this.options.get("query");i.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var i=n.find(".dropdown-wrapper");i.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(e){e.stopPropagation()})},e}),function(n){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(e)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),u=0,h=0,d=0,p=0,f=0,m=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*d,d=0),u=0===d?h:d,"deltaY"in o&&(d=-1*o.deltaY,u=d),"deltaX"in o&&(h=o.deltaX,0===d&&(u=-1*h)),0!==d||0!==h){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,d*=g,h*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!a||a>p)&&(a=p,i(o,p)&&(a/=40)),i(o,p)&&(u/=40,h/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d=Math[d>=1?"floor":"ceil"](d/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=a,t.offsetX=f,t.offsetY=m,t.deltaMode=0,s.unshift(t,u,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=n[t].apply(n,a)}),e.inArray(t,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),n("SelectView",["backbone","NVTagCallbacks","FieldView","TextFieldView","autocomplete","accesskey","select2","otherOption"],function(e,t,n,i,r,a,o,s){var l=e.$,u=e._,c=function(e){return!(!e&&0!==e)},h=n.extend({__name__:"SelectView",tagName:"label",events:{"change select":"renderFeedback"},className:function(){var e=this.options.definition,t="at-select "+e.name;return e.options&&2>=e.options.length&&(t=t.replace("form-item ","")+" select-collapse"),t},initialize:function(){n.prototype.initialize.call(this),u.bindAll(this,"changeCityIfNotUSA","showHideOther"),/Country/.test(this.name)&&this.$el.on("change","select",this.changeCityIfNotUSA),this.def.other&&this.$el.on("change","select",this.showHideOther)},isValueUSA:function(e){return"United States"===e||"US"===e},changeCityIfNotUSA:function(e){if(/Country/.test(this.name)){var t=this,n=e||"";u.isObject(e)&&e.currentTarget&&(n=e.currentTarget.value);var r=this.getFieldPrefix(this.name,"Country"),a=u.findIndex(this.parent.def.children,{name:r+"StateProvince"}),o=this.parent.subviews[r+"StateProvince"],s=u.findIndex(this.parent.def.children,{name:r+"PostalCode"}),l=this.parent.subviews[r+"PostalCode"];if(o&&(this.isValueUSA(n)||"select"!==o.type?this.isValueUSA(n)&&"textfield"===o.type&&u.defer(function(){t.parent.def.children[a].type="select";var e=new h(t.parent.subviewOptions(a)),n=o.val();e.render().setval(u.isString(n)?n.toUpperCase():n).$el.insertBefore(o.$el),o.el.style.width&&(e.el.style.width=o.el.style.width),o.remove(),t.parent.subviews[r+"StateProvince"]=e}):u.defer(function(){t.parent.def.children[a].type="textfield";var e=new i(t.parent.subviewOptions(a));e.render().setval(o.val()).$el.insertBefore(o.$el),o.el.style.width&&(e.el.style.width=o.el.style.width),o.remove(),t.parent.subviews[r+"StateProvince"]=e})),l||s>=0){var c,d=l?l.def:t.parent.def.children[s];this.isValueUSA(n)||"postalCodeUS"!==d.validation?this.isValueUSA(n)&&"postalCode"===d.validation&&(c="postalCodeUS"):c="postalCode",c&&u.defer(function(){if(t.parent.def.children[s].validation=c,l){var e=l.val();l.def.validation=c,l.render().setval(e)}})}}return this},render:function(){this.el.className=this.className(),this.collapsedTemplate=this.options.templates.span;var e=this,n=u.clone(this.def),i={};"placeholder"===this.options.labels&&(n.labelhide=!0),n.allowMultipleValues&&(this.el.className+=" multi-select");var o={
name:this.name,name_lower:this.name.toLowerCase(),classes:this.className(),label:a.label(this),title:this.title,accesskey:a(this.name),required:n.required?"required":"",labelhide:"placeholder"===this.options.labels,autocomplete:r(this.name),options:n.options,multiple:n.allowMultipleValues?"multiple":""},l=this.options.parent;return"PaymentInformation"===l.name&&"required"in l.options.definition&&!l.options.definition.required&&(o.required=""),/^Selected(Frequency|Duration)$/.test(this.name)&&(o.labelhide=!0),o.options&&2>=o.options.length&&"HostCommittee"!==o.name&&("required"===o.required||"SelectedFrequency"===o.name||"SelectedDuration"===o.name)?(o.value=o.options[1].value,o.display=o.options[1].display,this.options.collapseValue=o.value,o=t("alterContext",{element:this.type,context:o,def:n}).context,this.$el.html(this.collapsedTemplate(o))):(o.labelhide&&(i=u.where(o.options,{value:""}),i.length>0&&(i[0].display="- "+o.title+(o.required?"* -":" -"))),n.required&&(o.options[0].disabled="disabled"),n.default_value=c(n.default_value)?n.default_value:null,"EventType"===o.name&&"0"===n.default_value&&(n.default_value=null),"EventTimeZone"===o.name&&window.Intl&&(n.default_value||(n.default_value=window.Intl.DateTimeFormat().resolvedOptions().timeZone)),o=t("alterContext",{element:this.type,context:o,def:n}).context,this.$el.html(this.template(o)),this.setval(n.default_value)),this.shouldHide()&&this.$el.hide(),s.render(this),o.multiple&&e.$("select").select2({placeholder:"- Select -"}),/Country/.test(this.name)&&n.default_value&&u.defer(function(){e.$("select").trigger("change")}),this},showHideOther:function(){this.def.other&&s.showHide(this)},val:function(){var e=this.$("select").val();return/^Selected(Frequency|Duration)$/.test(this.name)&&(e=l('select[name^="'+this.name+'"]').val(),e=isNaN(e)?e:+e),e=this.options.collapseValue?this.options.collapseValue:e,u.isArray(e)&&e.length>0?e.join("||"):e||0===e?e:null},renderFeedback:function(){return this.renderFeedbackWithErrors(this.errors())},errors:function(){var e=this.require_valid()?[]:[this.title+" is required."];return e=u.map(t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},setval:function(e){var t=isNaN(e)?e:+e,n=this.val();if(n=isNaN(n)?n:+n,n!==t){var i=this.$("select");if(i.length)if(this.def.allowMultipleValues){var r=e?t.toString().split(/\|\||,/):[];l('[name="'+this.name+'"]').select2({placeholder:"- Select -"}).val(r).trigger("change")}else null===e||""===e?i.val(i.find("option:first").val()):i.find('option[value="'+e+'"]').length&&i.val(e).trigger("change")}return this.touch().hideOrShow()},type:"select"});return h}),n("RadiosView",["backbone","NVTagCallbacks","FieldView","otherOption"],function(e,t,n,i){var r=e.$,a=e._;return n.extend({__name__:"RadiosView",tagName:"div",events:{change:"changeHandler"},changeHandler:function(){this.clearFeedback(),this.showHideOther()},initialize:function(){n.prototype.initialize.apply(this)},className:function(){return"form-unit form-unit-radio form-item-"+this.options.definition.name.toLowerCase()},context:function(){var e={name:this.name,name_lower:this.name.toLowerCase(),title:this.title,required:this.def.required?"required":"",options:[]},n=this.def.ordered;if(a.each(this.def.options,function(t){var i=n?t.display:a.values(t)[0],r=n?t.value:a.keys(t)[0],o=r.replace(".","").replace("$","");e.options.push({value:r,display:i,id:o})}),this.def.default_value){var i=a.where(e.options,{value:this.def.default_value});i.length>0&&(i[0].checked="checked")}return t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){this.$el.html(this.template(this.context()));var e=this;return i.render(e),this},val:function(){return this.$("input:radio:checked").val()||null},setval:function(e){this.clearFeedback();var t=this.val(),n=r("input:radio[name='"+this.name+"'][value='"+e+"']");return n.length&&n.prop("checked",!0),t!==this.val()&&this.showHideOther(),this.touch()},clearFeedback:function(){return this.$el.removeClass(this.error_class),this.$(".radios").children().removeClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(":input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){this.$el.addClass(this.error_class);var t=this.$(".radios"),n=this.options.definition.type;t.find("label").addClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&"checkbox"!==n&&(this.$("small."+this.error_class).remove(),t.before(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})))}else this.clearFeedback();return e},showHideOther:function(){this.def.other&&i.showHide(this)},type:"radios"})}),n("currency",[],function(){function e(e){return r.currency=e||"USD",t()}function t(){return a[r.currency]}function n(e,t){if("other"===e)return t;var n=parseFloat(e)||0;r.minimumFractionDigits=n%1===0?0:2;var a=n.toLocaleString(i,r);return t?t+" ("+a+")":a}var i=window&&window.navigator&&window.navigator.languages&&window.navigator.languages[0]||"en-US",r={style:"currency",currency:"USD",currencyDisplay:"symbol",maximumFractionDigits:2},a={USD:{name:"US Dollar",code:"USD",symbol:"$"},CAD:{name:"Canadian Dollar",code:"CAD",symbol:"$"},EUR:{name:"Euro",code:"EUR",symbol:"€"},GBP:{name:"British Pound",code:"GBP",symbol:"£"},AUD:{name:"Australian Dollar",code:"AUD",symbol:"$"},HKD:{name:"Hong Kong Dollar",code:"HKD",symbol:"$"},CHF:{name:"Swiss Franc",code:"CHF",symbol:"CHF"},DKK:{name:"Danish Krone",code:"DKK",symbol:"DKK"}};return{init:e,format:n,get:t}}),n("AmountView",["backbone","NVTagCallbacks","RadiosView","accounting","currency"],function(e,t,n,i,r){var a=e._;return n.extend({__name__:"AmountView",tagName:"div",className:"form-item form-type-radios form-item-selectamount",events:{"change   *":"touch","click    [name^=OtherAmount]":"onBogusOtherAmount","focus    [name^=OtherAmount]":"onFocusOtherAmount","blur     [name^=OtherAmount]":"onBlurOtherAmount","keyup    [name^=OtherAmount]":"onTypeOtherAmount","keypress [name^=OtherAmount]":"ensureAmountBeforeSubmit","click    a":"onButtonPress","change   :radio":"onSelectAmount"},initialize:function(){n.prototype.initialize.call(this),window.nvtag.on("giftChanged",this.onGiftChanged,this)},context:function(){var e=this.options.formview.model.get("metadata").clientAmountFormatting;this.otherAmount=this.otherAmount||"";var n=r.get();a.each(this.def.options,function(t){"Other:"!==t.display&&(t.isLong="",t.display=e||!t.display?r.format(t.val,t.display):t.display.replace(/\.00(\))?$/,"$1").replace("$",n.symbol),t.display.length>=7&&(t.isLong="long",t.display.length>=10&&(t.isLong="veryLong",t.display.length>10&&(t.isLong="incrediblyLong",t.display.length>20&&(t.isLong="tooLong")))))});var i=[];if(this.def.enableRecurringButtons){var o={12:"12.00",20:"20.00",30:"30.00",50:"50.00",other:"other"};a.each(o,function(e){var t=e.replace(".","");i.push({val:e,display:"$"+e,id:t,other:"other"===e})}),a.each(i,function(e){"Other:"!==e.display&&(e.isLong="",e.display=e.display.replace(/\.00(\))?$/,"$1").replace("$",n.symbol),e.display.length>=7&&(e.isLong="long",e.display.length>=10&&(e.isLong="veryLong",e.display.length>10&&(e.isLong="incrediblyLong",e.display.length>20&&(e.isLong="tooLong")))))})}var s={name_lower:this.name.toLowerCase(),amount_options:this.def.options,recurringAmountOptions:i,currency:n,showOther:a.reduce(this.def.options,function(e,t,n){return"other"===e.val||n}),isUSD:"USD"===n.code};return t("alterContext",{element:this.type,context:s,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this.$other=this.$('input[name^="OtherAmount"]'),this.lastActive=null,this},onButtonPress:function(e){this.$(e.currentTarget).parent().trigger("click")},onSelectAmount:function(e){"other"!==e.currentTarget.value?this.$other.prop("required",!1).val(""):(this.def.recurringAmount?this.$other.first().prop("required",!0):this.def.enableRecurringButtons?this.$other[1].required=!0:this.$other.prop("required",!0),e.hasOwnProperty("originalEvent")&&(this.def.recurringAmount?this.$other.first().focus():this.$other.focus()));var t=e.currentTarget.value;return"other"===t&&(t=this.$other.val()),window.nvtag.trigger("contributionAmtChanged",t),this},onBogusOtherAmount:function(e){e&&(e.preventDefault(),e.stopPropagation())},onTypeOtherAmount:function(e){return this.otherAmount=e.currentTarget.value,setTimeout(function(){window.nvtag.trigger("contributionAmtChanged",e.currentTarget.value)},500),this},onFocusOtherAmount:function(e){this.lastActive=e.currentTarget,e&&(e.preventDefault(),e.stopPropagation()),this.$other.on("mousewheel.disableScroll",function(e){e.preventDefault()});var t=this.$(':radio[value="other"]');t.prop("checked",!0),this.def.enableRecurringButtons?(this.clearFeedback(),e.currentTarget.className.indexOf("otherRecurring")>=0?(this.$other[1]&&(this.$other[1].value="",this.$other[1].required=!1),this.$other[0].required=!0):(this.$other[0].value="",this.$other[0].required=!1,this.$other[1]&&(this.$other[1].required=!0))):this.$other.attr("required","required")},onBlurOtherAmount:function(e){""!==e.currentTarget.value&&(e.currentTarget.value=i.toFixed(e.currentTarget.value,2).replace(/\.00$/,"")),this.$other.off("mousewheel.disableScroll");var t=this;return this.options.formview.$el.one("focus","*",function(){a.defer(t.renderFeedback)}),this},ensureAmountBeforeSubmit:function(e){return 13!==e.which?e.metaKey||e.which>=37&&40>=e.which||8===e.which||/[0-9.]/.test(String.fromCharCode(e.which)):this.onBlurOtherAmount(e)},errors:function(){var e=[],n=this.val(),i=parseFloat(n.Amount);if(n.other&&0===this.$('input[name="OtherAmount"]:focus').length){var o=this.def.valueMax,s=this.def.valueMin||.01,l="Invalid amount. ",u=this.options.formview.subviews.Premiums;if(a.isNaN(i))e.push(l+"Please enter a valid amount.");else if(a.isFinite(i)){if(s>i)e.push(l+"Contributions must be at least "+r.format(s)+".");else if(i>o)e.push(l+"Contributions must be less than "+r.format(o)+".");else if(u){var c=u.subviews.PremiumGift;if(c){var h=c.getCheapestGift();h>i&&e.push("Invalid amount. Contributions must be at least "+r.format(h)+".")}}}else e.push(l+"Please enter a finite amount.")}else this.touched()&&0===i&&e.push("Please select a contribution amount.");return e=t("alterErrors",{val:n.Amount,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),a.map(e,this.toError,this)},getAmountComposite:function(){var e,t=this.$(":radio:checked")[0],n=t?t.className.indexOf("isRecurring")>=0:!1,r=this.$(":radio:checked").val();if("other"===r)if(this.def.enableRecurringButtons){var o=i.unformat(this.$other[1]?this.$other[1].value:0),s=i.unformat(this.$other[0].value);e=o?a.isFinite(o)&&o>=0?o:0:a.isFinite(s)&&s>=0?s:0,n=!o}else{var l=i.unformat(this.$other.val());e=a.isFinite(l)&&l>=0?l:0}else e=i.unformat(r)||0;return{selectElement:t,isRecurringAmount:n,select:r,amount:e}},val:function(){var e=this.getAmountComposite();return this.spawn("amountChange",{Amount:e.amount}),{Amount:i.toFixed(e.amount,2),other:"other"===e.select,IsRecurringAmount:e.isRecurringAmount}},setval:function(e){var t,n=this.$(this.def.recurringAmount?'input[name="OtherAmountRecurring"]':'input[name="OtherAmount"]');a.isUndefined(e)||(t=e.SelectAmount||e.Amount?e.SelectAmount||e.Amount:e);var r=parseFloat(i.toFixed(this.def.valueMin,2)),o=parseFloat(i.toFixed(this.def.valueMax,2)),s=parseFloat(i.toFixed(t,2));if(a.isUndefined(t)?t=this.def.default_value:(r>s||s>o)&&(t=this.def.default_value),a.isUndefined(t)&&this.$(':radio[value="other"]').length)this.$(':radio[value="other"]').prop("checked",!0);else{"other"!==t&&(t=i.toFixed(t,2),t=parseFloat(t)<=0?this.def.options[0].val:t);var l=this.$(this.def.recurringAmount?'.RecurringButtons :radio[value="'+t+'"]':'.NonRecurringButtons :radio[value="'+t+'"]');l.length?(l.prop("checked",!0),this.$other.prop("required",!1).val("")):(n.val(i.toFixed(t,2).replace(/\.00$/,"")),this.def.recurringAmount?this.$(':radio[value="other"]').first().prop("checked",!0).trigger("change"):this.$(':radio[value="other"]').prop("checked",!0).trigger("change"))}return this.touch()},clearFeedback:function(){return"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(".label-otheramount").removeClass("error"),this.$(".label-otheramount input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){var t=this.$(".label-otheramount");return t.length&&(this.def.enableRecurringButtons?this.$other[1]&&this.$other[1].required?t[1].classList.add("error"):t[0].classList.add("error"):t.addClass("error"),"true"===this.options.formview.parent.options.inline_error_display&&(this.$("small."+this.error_class).remove(),t.append(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})))),this.parent.parent.subviews.error_console.setFullWidthError(e),e}return this.clearFeedback(),e},onGiftChanged:function(e){var t=this.getAmountComposite().amount,n=parseFloat(i.toFixed(t,2));e.newAmount>n&&this.setval(e.newAmount)},type:"amount"})}),n("states",[],function(){return["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY","AS","FM","GU","MH","MP","PW","PR","VI","AA","AE","AP"]}),n("countries",[],function(){return{AF:"Afghanistan",AX:"Åland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Côte D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",ME:"Montenegro",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthélemy",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Việt Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"}}),n("country.keys",[],function(){return["US","CA","DK","FR","GB","AU","IT","JP","MX","ES","SE","AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BV","BR","IO","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CU","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","XK","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","AN","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","PM","VC","WS","SM","ST","SA","RS","SN","SC","SL","SG","SK","SI","SB","SO","ZA","GS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM","ZW"]}),n("FormDefUtils",["underscore","NVTagCallbacks","states","countries","country.keys","accounting","moment"],function(e,t,n,i,r,a,o){function s(t){return e.compact(e.reduce(t,function(t,n){return e.isObject(n)?t.concat(n.children?s(n):n):t},[]))}function l(t,n){return e.reduce(s(t),function(e,t){return t[n]&&(e[t[n]]=t.name),e},{})}function u(t,n,i){return e(i?t:s(t)).find({name:n})}function c(t,n,i){return e.filter(i?t:s(t),{type:n})}function h(t,n,i){return e.filter(i?t:s(t),{options:n})}function d(e,t,n){return e.substr(!n||0>n?0:+n,t.length)===t}function p(l,p,f){l=t("preAlterFormDefinition",{form_definition:l,query_string:p}).form_definition;var m=s(l.form_elements),g=e.where(m,{valueType:"date"});e.each(g,function(e){e.type="date"}),e.each(c(m,"radios",!0),function(t){return e.isArray(t.options)&&t.options[0]&&t.options[0].display&&t.options[0].value?void(t.ordered=!0):void(t.options=e.map(t.options,function(e,t){var n={};return n[t]=e,n}))});var v=u(m,"SelectAmount",!0);if(v&&(v.options=e.map(v.options,function(t){var n={val:e.keys(t)[0],display:e.values(t)[0]};return"other"===n.val&&(n.other=!0),n}),p&&p.amtopts)){var y=p.amtopts.split(",");y=e.uniq(y);var b=parseFloat(a.toFixed(v.valueMin,2)),_=parseFloat(a.toFixed(v.valueMax,2)),w=e.reduce(y,function(e,t){var n=a.toFixed(t,2),i=parseFloat(n);return i>=b&&_>=i&&e.push({val:n,display:null}),e},[]);if(w.length){var x=e.find(v.options,{other:!0});if(x){var k=e.clone(x);w.push(k)}v.options=w}}return e.each(h(m,"states",!0),function(t){t.options=e.map(n,function(e){return{value:e,display:e}}),t.options.unshift({value:"",display:"- State -"})}),e.each(h(m,"countries",!0),function(t){t.options=e.map(r,function(e){return{value:i[e],display:i[e]}}),t.options.unshift({value:"",display:"- Country -"})}),e.each(h(m,"months",!0),function(t){t.options=e.map(e.range(1,13),function(e){return{value:("0"+e).slice(-2),display:("0"+e).slice(-2)}}),t.options.unshift({value:"",display:"- Select -"})}),e.each(h(m,"years",!0),function(t){var n=parseInt(o().format("YY"),10);t.options=e.map(e.range(n,n+15),function(e){return{value:e,display:e+2e3}}),t.options.unshift({value:"",display:"- Select -"})}),e.each(c(m,"textfield",!0),function(t){if(d(t.name,"CustomFormFieldQuestion")||d(t.name,"QuestionOtherResponse")){var n=new RegExp("((CustomFormFieldQuestion|QuestionOtherResponse)_.*)_(QuestionOtherTextResponse_.*)$"),i=n.exec(t.name);if(i){var r=e.findIndex(m,function(e){return e.name.indexOf(i[1])>0}),a=r>0?m[r]:u(m,i[1]);a&&(a.other={name:t.name},("radios"===a.type||"checkbox"===a.type)&&(t.labelhide=!0))}}}),e.each(c(m,"select",!0),function(t){t.options&&(t.options.length>0&&t.options[0]&&2!==e.keys(t.options[0]).length&&(t.options=e.map(t.options,function(e,t){return{value:t,display:e}})),(0===t.options.length||""!==t.options[0].value)&&t.options.unshift({value:"",display:"- Select -"}))}),f&&(l.fastActionNologin=!0),t("alterFormDefinition",{form_definition:l,query_string:p}).form_definition}return{fields:s,find_field:u,fields_of_type:c,options_of_type:h,clone:e.clone,querystring_dict:l,fix:p}}),n("DateView",["backbone","moment","FormDefUtils","NVTagCallbacks","FieldView","FormError","user.agent"],function(e,t,n,i,r,a,o){var s=e.$,l={value:"YYYY-MM-DD",display:"MM/DD/YYYY",valueOf:function(){return o.mobile?l.value:l.display}};return r.extend({__name__:"DateView",tagName:"label",className:function(){return"at-date   "+this.options.definition.name.toLowerCase()},initialize:function(){r.prototype.initialize.call(this),s(".ui-datepicker").remove()},context:function(){var e={name:this.name,title:this.title,placeholder:l.display,type:o.mobile?"date":"text",labelhide:"placeholder"===this.options.labels,required:this.def.required?"required":"",value:this.def.default_value?t(new Date(this.def.default_value)).utc().format(l+""):""};return e.labelhide&&(e.placeholder=e.title||l.display),"EndDate"===this.name&&(e.labelhide=!0,e.value=e.value||t().utc().add("months",1).format(l+"")),i("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){if(this.$el.html(this.template(this.context())),this.$date=this.$("input"),!o.mobile){var e;"DateOfBirth"===this.name?e=0:"NotificationSendDate"===this.name&&(e="+1y");var t;("EndDate"===this.name||"NotificationSendDate"===this.name)&&(t=0),this.$date.datepicker("destroy"),this.$date.datepicker({maxDate:e,minDate:t,yearRange:"1900:2050",changeMonth:!0,changeYear:!0,showButtonPanel:!1,showAnim:""})}return this},errors:function(){var e=[],t=this.val();return"invalid"===t&&e.push(new a("Please enter a valid date.",this)),r.prototype.errors.call(this,e)},val:function(){var e=this.$date&&this.$date.val();if(e){var n=t(e,l+"").utc();return n.isValid()&&10===e.length?n.format(l.value):"invalid"}return null},setval:function(e){var n=e||this.def.default_value,i=n?t(new Date(n)).utc().format(l.display):"";return i||"EndDate"!==this.name||(i=t().utc().format(l.display)),this.$date.val(i),this.touch()},type:"date"})}),n("NotMeView",["backbone","doublebracket","FormDefUtils","NVTagCallbacks","MarkupView"],function(e,t,n,i,r){var a=e._;return r.extend({__name__:"NotMeView",events:{'click [href="?nf=1"]':"notMe"},isRequired:function(){return this.options.formview.options.form_definition.metadata.hideCompletedFormSections&&!this.options.formview.isFirstForm()},initialize:function(){r.prototype.initialize.call(this),this.touch_state=!1,this.template=this.options.templates[this.type],this.def=this.options.definition,this.name=a.result(this,"name")||this.def.name||this.options.name,this.title=a.result(this,"title")||this.def.title||this.options.title},render:function(){return this.$el.html(t.translate(this.options.definition.markup)),this.isRequired()&&!this.options.formview.options.clickedNotMe?this.$el.show():1===this.parent.context().children.length?this.parent.remove():this.$el.hide(),this},notMe:function(e){e.preventDefault();var t=this.options.formview;t.options.smart=!1,t.options.showNotMe=!1,t.options.clickedNotMe=!0,t.render().clear().options.parent_tag.bringIntoView()}})}),n("TrackingPixelView",["backbone","FieldView","parseUrl"],function(e,t,n){var i=e._,r=e.$;return t.extend({__name__:"TrackingPixelView",className:"ngp-tracking-pixel",track:i.once(function(){var e=this.options.definition,t=i.last(e.markup.match(/src=['"]?([^'" ]+)['"]?/)),a=this.options.query_string,o=a.ms||a.track;if(t){var s=n(t);if(o&&("/"!==i.last(s.pathname)&&(s.pathname+="/"),s.pathname+=o.substring(0,149),t=s.toString()),0===r('img[src="'+t+'"]').length){var l=new Image;l.src=t}}return this}),render:function(){return this.track()}})}),n("TicketHolderView",["backbone","FieldView"],function(e,t){return t.extend({__name__:"TicketHolderView",tagName:"tr",type:"ticket_holder",events:{"keyup input":"changeName"},initialize:function(){t.prototype.initialize.call(this),this.name=this.options.definition.name="TicketHolder"+this.cid},changeName:function(e){e&&e.stopPropagation();var t=e.currentTarget.value,n=e.currentTarget.id,i=/first/i.test(n);return this.model.set(i?"first":"last",t),i?this.renderFirstNameFeedback(this.firstNameError()):this.renderLastNameFeedback(this.lastNameError()),this},isRequired:function(){return this.model.attributes.required},render:function(){var e=this.model.toJSON();return e.level=e.level.toJSON(),this.$el.html(this.template(e)),this},field_name:function(){return"TicketHolder"},firstNameError:function(){var e=[];if(this.isRequired()){var t=this.val();t&&t.TicketId&&!t.FirstName&&e.push(this.toError("First Name Required"))}return e},lastNameError:function(){var e=[];if(this.isRequired()){var t=this.val();t&&t.TicketId&&!t.LastName&&e.push(this.toError("Last Name Required"))}return e},errors:function(){var e=[],t=this.firstNameError(),n=this.lastNameError();return e=e.concat(t),e=e.concat(n),this.renderFirstNameFeedback(t),this.renderLastNameFeedback(n),e},renderFirstNameFeedback:function(e){var t=this.val(),n=this.$("label.ticket-guest-first-label small.error");n&&n.remove();var i=this.$("label.ticket-guest-first-label");!t.FirstName&&e.length?(i.addClass("error"),i.append('<small class="error">First Name is required.</small>')):i.removeClass("error")},renderLastNameFeedback:function(e){var t=this.val(),n=this.$("label.ticket-guest-last-label small.error");n&&n.remove();var i=this.$("label.ticket-guest-last-label");!t.LastName&&e.length?(i.addClass("error"),i.append('<small class="error">Last Name is required.</small>')):i.removeClass("error")},getTicketId:function(){return this.model&&this.model.attributes&&this.model.attributes.level?this.model.attributes.level.id:null},val:function(){return{FirstName:this.$("input.ticket-guest-first").val(),LastName:this.$("input.ticket-guest-last").val(),TicketId:this.getTicketId()}},setval:function(e){return this}})}),n("TicketingLevelView",["backbone","accounting","FieldView"],function(e,t,n){var i=e._;return n.extend({__name__:"TicketingLevelView",id:function(){return"ticket-level-"+this.model.get("id")},tagName:"tr",className:function(){return"ticket-level-info ticket-level"},stripingClass:function(){return this.$el.data("index")%2?"even":"odd"},isRequired:function(){return!1},events:{"change select":"changeQuantity"},initialize:function(){n.prototype.initialize.call(this),this.name=this.options.definition.name="TicketLevel"+this.cid,this.options.requireTicketHolders=this.options.parent.options.requireTicketHolders},render:function(){this.def.required=!1,this.$el.addClass(this.stripingClass()).html(this.template(this.model.toJSON()));var e=this.options.ticket_holders.holders_by_level(this.model.get("id")).length;return 0===e?this.$("select").selectedIndex=0:this.$("select").val(e),this},changeQuantity:function(e){var t=this.$("select").val(),n=t?parseInt(t,10):0,r=this.options.ticket_holders,a=r.holders_by_level(this.model.get("id")),o=n-a.length;if(o>0)i.times(o,function(){r.add({required:this.options.requireTicketHolders,level:this.model.clone()})},this);else if(0>o){o=Math.abs(o);var s=i.filter(a,function(e){return!(e.get("first")&&e.get("last"))}),l=[];s.length>=o?l=s.slice(0,o):(l=s,alert("You've attempted to remove tickets for which names have been specified. Please delete the names you'd like to remove.")),i.each(l,function(e){r.remove(e)})}return this.spawn("changeQuantityOrAdditional",{ticket_total:this.options.parent.stats.total}),this},field_name:function(){return"TicketLevel"},type:"ticketing_level"})}),n("payment",["jquery.amd"],function(e){var t,n,i=[].slice,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],e.payment.fn[n].apply(this,t)},n=/(\d{1,4})/g,e.payment.cards=t=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:n,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:n,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:n,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:n,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:n,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:n,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:n,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:n,length:[16],cvcLength:[3],luhn:!0}],cardFromNumber=function(e){var n,i,r,a,o,s,l,u;for(e=(e+"").replace(/\D/g,""),a=0,s=t.length;s>a;a++)for(n=t[a],u=n.patterns,o=0,l=u.length;l>o;o++)if(r=u[o],i=r+"",e.substr(0,i.length)===i)return n},cardFromType=function(e){var n,i,r;for(i=0,r=t.length;r>i;i++)if(n=t[i],n.type===e)return n},luhnCheck=function(e){var t,n,i,r,a,o;for(i=!0,r=0,n=(e+"").split("").reverse(),a=0,o=n.length;o>a;a++)t=n[a],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10===0},hasTextSelected=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},safeVal=function(e,t){var n,i,r,a,o,s;try{i=t.prop("selectionStart")}catch(l){a=l,i=null}return o=t.val(),t.val(e),null!==i&&t.is(":focus")?(i===o.length&&(i=e.length),o!==e&&(s=o.slice(i-1,+i+1||9e9),n=e.slice(i-1,+i+1||9e9),r=e[i],/\d/.test(r)&&s===""+r+" "&&n===" "+r&&(i+=1)),t.prop("selectionStart",i),t.prop("selectionEnd",i)):void 0},replaceFullWidthChars=function(e){var t,n,i,r,a,o,s,l;
for(null==e&&(e=""),i="０１２３４５６７８９",r="0123456789",o="",t=e.split(""),s=0,l=t.length;l>s;s++)n=t[s],a=i.indexOf(n),a>-1&&(n=r[a]),o+=n;return o},reFormatNumeric=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var e;return e=n.val(),e=replaceFullWidthChars(e),e=e.replace(/\D/g,""),safeVal(e,n)})},reFormatCardNumber=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var t;return t=n.val(),t=replaceFullWidthChars(t),t=e.payment.formatCardNumber(t),safeVal(t,n)})},formatCardNumber=function(t){var n,i,r,a,o,s,l;return r=String.fromCharCode(t.which),!/^\d+$/.test(r)||(n=e(t.currentTarget),l=n.val(),i=cardFromNumber(l+r),a=(l.replace(/\D/g,"")+r).length,s=16,i&&(s=i.length[i.length.length-1]),a>=s||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==l.length)?void 0:(o=i&&"amex"===i.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,o.test(l)?(t.preventDefault(),setTimeout(function(){return n.val(l+" "+r)})):o.test(l+r)?(t.preventDefault(),setTimeout(function(){return n.val(l+r+" ")})):void 0)},formatBackCardNumber=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d\s$/,""))})):/\s\d?$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d$/,""))})):void 0},reFormatExpiry=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var t;return t=n.val(),t=replaceFullWidthChars(t),t=e.payment.formatExpiry(t),safeVal(t,n)})},formatExpiry=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),setTimeout(function(){return n.val("0"+r+" / ")})):/^\d\d$/.test(r)?(t.preventDefault(),setTimeout(function(){var e,t;return e=parseInt(r[0],10),t=parseInt(r[1],10),n.val(t>2&&0!==e?"0"+e+" / "+t:""+r+" / ")})):void 0):void 0},formatForwardExpiry=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},formatForwardSlashAndSpace=function(t){var n,i,r;return r=String.fromCharCode(t.which),"/"===r||" "===r?(n=e(t.currentTarget),i=n.val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0):void 0},formatBackExpiry=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s\/\s$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d\s\/\s$/,""))})):void 0},reFormatCVC=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var e;return e=n.val(),e=replaceFullWidthChars(e),e=e.replace(/\D/g,"").slice(0,4),safeVal(e,n)})},restrictNumeric=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:33>e.which?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},restrictCardNumber=function(t){var n,i,r,a;return n=e(t.currentTarget),r=String.fromCharCode(t.which),/^\d+$/.test(r)&&!hasTextSelected(n)?(a=(n.val()+r).replace(/\D/g,""),i=cardFromNumber(a),i?i.length[i.length.length-1]>=a.length:16>=a.length):void 0},restrictExpiry=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!hasTextSelected(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},restrictCVC=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!hasTextSelected(n)?(r=n.val()+i,4>=r.length):void 0},setCardType=function(n){var i,r,a,o,s;return i=e(n.currentTarget),s=i.val(),o=e.payment.cardType(s)||"unknown",i.hasClass(o)?void 0:(r=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)a=t[e],i.push(a.type);return i}(),i.removeClass("unknown"),i.removeClass(r.join(" ")),i.addClass(o),i.toggleClass("identified","unknown"!==o),i.trigger("payment.cardType",o))},e.payment.fn.formatCardCVC=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictCVC),this.on("paste",reFormatCVC),this.on("change",reFormatCVC),this.on("input",reFormatCVC),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictExpiry),this.on("keypress",formatExpiry),this.on("keypress",formatForwardSlashAndSpace),this.on("keypress",formatForwardExpiry),this.on("keydown",formatBackExpiry),this.on("change",reFormatExpiry),this.on("input",reFormatExpiry),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictCardNumber),this.on("keypress",formatCardNumber),this.on("keydown",formatBackCardNumber),this.on("keyup",setCardType),this.on("paste",reFormatCardNumber),this.on("change",reFormatCardNumber),this.on("input",reFormatCardNumber),this.on("input",setCardType),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",restrictNumeric),this.on("paste",reFormatNumeric),this.on("change",reFormatNumeric),this.on("input",reFormatNumeric),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i,r;return r=e.split(/[\s\/]+/,2),t=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var t,n;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(t=cardFromNumber(e),t?(n=e.length,r.call(t.length,n)>=0&&(t.luhn===!1||luhnCheck(e))):!1):!1},e.payment.validateCardExpiry=function(t,n){var i,r,a;return"object"==typeof t&&"month"in t&&(a=t,t=a.month,n=a.year),t&&n?(t=e.trim(t),n=e.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&t>=1&&12>=t?(2===n.length&&(n=70>n?"20"+n:"19"+n),4!==n.length?!1:(r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i)):!1):!1},e.payment.validateCardCVC=function(t,n){var i,a;return t=e.trim(t),/^\d+$/.test(t)?(i=cardFromType(n),null!=i?(a=t.length,r.call(i.cvcLength,a)>=0):t.length>=3&&4>=t.length):!1},e.payment.cardType=function(e){var t;return e?(null!=(t=cardFromNumber(e))?t.type:void 0)||null:null},e.payment.formatCardNumber=function(t){var n,i,r,a;return t=t.replace(/\D/g,""),(n=cardFromNumber(t))?(r=n.length[n.length.length-1],t=t.slice(0,r),n.format.global?null!=(a=t.match(n.format))?a.join(" "):void 0:(i=n.format.exec(t),null!=i?(i.shift(),i=e.grep(i,function(e){return e}),i.join(" ")):void 0)):t},e.payment.formatExpiry=function(e){var t,n,i,r;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",i=n[2]||"",r=n[3]||"",r.length>0?i=" / ":" /"===i?(t=t.substring(0,1),i=""):2===t.length||i.length>0?i=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,i=" / "),t+i+r):""}}),n("CreditCardView",["backbone","NVTagCallbacks","TextFieldView","accesskey","payment"],function(e,t,n,i){var r=e.$,a=e._;return n.extend({__name__:"CreditCardView",tagName:"label",className:"at-text at-cc-number",context:function(){var e=this.def.validation||this.def.valueType,n={name:this.name,labelhide:"placeholder"===this.options.labels,label:i.label(this),title:this.title,value:this.def.default_value||"",maxlength:this.def.maxlength||19,minlength:this.def.minlength||12,accesskey:i(this.name),placeholder:"•••• •••• •••• ••••",pattern:e?this.attr.pattern(e):null,required:this.def.required?"required":""};return n.labelhide&&(n.placeholder=n.title),"PaymentInformation"===this.parent.name&&"required"in this.parent.def&&!this.parent.def.required&&(n.required=""),t("alterContext",{element:this.type,context:n,def:this.def}).context},render:function(){this.$el.html(this.template(this.context())),this.$account=this.$('input[name="Account"]').payment("formatCardNumber");var e=this;return this.$('input[name="Account"]').on("keyup",function(){r.payment.validateCardNumber(this.value)&&this.value.length>=17&&e.parent.subviews.ExpirationDate.focus()}),this},val:function(){var e=this.$account.val().replace(/\s/g,"");return""!==e?e:null},setval:function(e){return this.$account.val(e?r.payment.formatCardNumber(e):e).trigger("keyup"),this.hideOrShow()},errors:function(){var e=this.$account.val(),n=r.payment.cardType(e),i=[];if(this.def.required&&""===e)i.push("Credit Card Number is required.");else if(e&&!r.payment.validateCardNumber(e))i.push("Invalid Card Number.");else if(n&&!a.contains(this.parent.cards,n)){var o=this.parent.accepted[n];i.push(o?o.name+" is not an accepted credit card type.":e+" does not belong to an accepted credit card provider.")}return i=t("alterErrors",{val:e,field_name:this.field_name(),errors:i,def:this.def}).errors,this.trigger(i.length?"invalid":"valid"),a.map(i,this.toError,this)},type:"credit_card"})}),n("HiddenView",["backbone"],function(e){var t=e._;return e.View.extend({__name__:"HiddenView",type:"hidden",tagName:"input",initialize:function(){this.def=this.options.definition,this.name=this.def.name},attributes:function(){var e=this.options.definition;return{id:e.name+"_Value",type:e.type,name:e.name+".Value",value:e.value}},render:function(){return this},isRequired:function(){return!1},field_name:function(){return this.options.definition.name},errors:function(){return[]},renderFeedback:function(){return this.errors()},require_valid:function(){return!0},field_title:function(){return""},clearFeedback:function(){return this},val:function(){var e=""!==this.el.value?this.el.value:null;return t.isString(e)&&/^(true|false)$/i.test(e)?/^true$/i.test(e):e},setval:function(e){return t.isNull(e)||(this.el.value=e),this}})}),n("CVV2View",["backbone","NVTagCallbacks","TextFieldView","accesskey","payment"],function(e,t,n,i){var r=e.$,a=e._;return n.extend({__name__:"CVV2View",className:"at-text at-cc-csc",context:function(){var e={name:this.name,title:this.title,label:i.label(this),accesskey:i(this.name),labelhide:"placeholder"===this.options.labels,required:this.def.required?"required":"",value:this.def.default_value||""};return e.placeholder='placeholder="'+(e.labelhide?"Card CVV":"•••")+'"',t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this.input=this.$("input").payment("formatCardCVC").get(0),this},val:function(){return this.input.value||null},errors:function(){var e=[],n=this.input.value;if(n){var i=this.parent.cc_type;if(!i){var o=this.parent.$('input[name="Account"]').val();i=o?r.payment.cardType(o):null}if(!r.payment.validateCardCVC(n,i)){var s=this.parent.accepted[i];s=s?" for "+s.name:"",e.push("Invalid Securtiy Code"+s)}}else e.push("Security Code is required.");return e=t("alterErrors",{val:n,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),a.map(e,this.toError,this)},type:"cvv2"})}),n("CCExpirationView",["backbone","moment","NVTagCallbacks","TextFieldView","user.agent","accesskey","payment"],function(e,t,n,i,r,a){var o=e.$,s=e._;return i.extend({__name__:"CCExpirationView",type:"cc_expiration",className:"at-text at-cc-expiration",initialize:function(){s.bindAll(this,"render","renderFeedback"),this.options.definition.name="ExpirationDate",this.options.definition.title="Expiration Date",this.touch_state=!1,this.error_template=this.options.templates.inline_error,this.template=this.options.templates[this.type],this.min=t(),this.options.name&&(this.name=this.options.name)},context:function(){var e=this.options.definition,t={name:e.name,title:e.title,label:a.label(e),accesskey:a(e.name),labelhide:"placeholder"===this.options.labels,required:e.required?"required":"",value:e.default_value||"",type:"tel"};if(t.pattern='pattern="(\\d{2}\\s?/\\s?\\d{2,4})"',t.placeholder='placeholder="MM / YY"',t.labelhide){var i="Card Expiration";r.mobile||(i+=" ("+i+")"),t.placeholder='placeholder="'+i+'"'}var o=this.options.parent;return"PaymentInformation"===o.field_name()&&"required"in o.options.definition&&!o.options.definition.required&&(t.required=""),n("alterContext",{element:this.type,context:t,def:e}).context},render:function(){this.$el.html(this.template(this.context()));var e="",t=this.$("input"),n=this;return t.payment("formatCardExpiry"),this.parent.subviews.SecurityCode&&t.on("input",function(i){i.currentTarget.value.length>e.length&&o.payment.validateCardExpiry(t.payment("cardExpiryVal"))&&n.parent.subviews.SecurityCode.focus(),e=i.currentTarget.value}),this},val:function(){var e;return e=s.mapValues(this.$("input").payment("cardExpiryVal"),function(e,t){return e?"month"===t&&10>e?"0"+e:"year"===t?""+(e-2e3):""+e:""}),{ExpirationMonth:e.month,ExpirationYear:e.year}},setval:function(e){if(s.isObject(e)){var t=""+(e.ExpirationMonth||""),n=""+(e.ExpirationYear||"");2===t.length&&n.length>=2&&this.$("input").val(t+" / "+n)}},errors:function(){var e=[],i=this.val(),r="Invalid expiration date.",a=i.ExpirationMonth,l=i.ExpirationYear;if(a&&l){l="20"+l;var u=t([~~l,~~a-1]);u.isValid()?u.add(1,"months").isBefore(this.min)?e.push("This card has expired."):o.payment.validateCardExpiry(a,l)||e.push(r):e.push(r)}else e.push(r);return e=n("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.options.definition}).errors,this.trigger(e.length?"invalid":"valid"),s.map(e,this.toError,this)}})}),n("TargetsView",["backbone","FieldView"],function(e,t){var n=e._,i=e.$;return t.extend({__name__:"TargetsView",className:"at-targets clearfix",type:"targets",events:{"click a.at-show-targets":"showAll","click a.at-hide-targets":"hideRest"},context:function(){this.withImages=[];var e=n.reduce(this.def.targets,function(e,t,n){return t.idx=n,t.img&&3>e.head.length?e.head.push(t):(t.img&&this.withImages.push(t),e.rest.push(t)),e},{head:[],rest:[]},this);if(e.hasImages=!!e.head.length,!e.hasImages)for(var t=Math.min(e.rest.length,3);t--;)e.head.push(e.rest.shift());return e},render:function(){var e=this,t=this.context();return this.$el.html(this.template(t)).find("img").one("error",function(){if(e.withImages.length){var t=i(this).data("idx");e.def.targets[t].img=null,e.render()}}),this},showAll:function(e){e.preventDefault(),this.$(e.currentTarget).hide().parent().find(".at-targets-rest").show().find("a.at-hide-targets").focus()},hideRest:function(e){e.preventDefault(),this.$(e.currentTarget).parent().hide().parent().find("a.at-show-targets").show().focus()}})}),n("TargetSelectView",["backbone","NVTagCallbacks","SelectView","FieldView","autocomplete"],function(e,t,n,i,r){return n.extend({__name__:"TargetSelectView",initialize:function(){i.prototype.initialize.call(this),this.template=this.options.templates.target_select},render:function(){this.el.className=this.className();var e=this.def,n=t("alterContext",{element:this.type,def:e,context:{name:this.name,title:this.title,target:e.target,autocomplete:r("Prefix"),options:e.options}}).context;return this.$el.html(this.template(n)),this.setval(e.default_value),this},type:"target_select"})}),n("AdvocacyTweetView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){function i(e){var t=void 0!==window.screenLeft?window.screenLeft:screen.left,n=void 0!==window.screenTop?window.screenTop:screen.top,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=500,o=500,s=i/2-a/2+t,l=r/2-o/2+n,u=window.open(e,"ModalPopUp","toolbar=no,scrollbars=no,location=no,statusbar=no,menubar=no,resizable=0,width="+a+", height="+o+", left="+s+", top="+l);return u}return n.extend({__name__:"AdvocacyTweetView",type:"advocacy_tweet",className:"at-advocacy-tweet clearfix",events:{"click button.at-tweet-button":"showPopup","click a.at-show-tweet":"showTweet"},initialize:function(){n.prototype.initialize.call(this),this.template=this.options.templates.advocacy_tweet},context:function(){var e=this.def,n={img:e.img,name:e.name,meta:e.meta,title:"Tweet "+e.name,default_value:e.message,maxlength:280,required:"required",hasTwitter:e.hasTwitter,readonly:(e.readonly||"")&&"readonly disabled"};return t("alterContext",{element:this.type,context:n,def:this.def}).context},render:function(){var e=this.context();return this.$el.html(this.template(e)),this.$textarea=this.$(".at-tweet-message"),this.$label=this.$(".at-tweet-label"),this.$button=this.$(".at-tweet-button"),this.$textarea.bind("input propertychange",_.debounce(this.renderFeedback,150)),this},val:function(){return this.$textarea.val()||null},showPopup:function(e){e.preventDefault();var t=this.$textarea.val(),n="https://twitter.com/intent/tweet?text="+encodeURIComponent(t),r=i(n),a=this,o=window.setInterval(function(){r.closed!==!1&&(window.clearInterval(o),a.popupClosed())},200),s={msg:this.$textarea.val(),bioId:this.def.bioId};this.trigger("tweetOpened",s)},popupClosed:function(){var e=this.$(".at-tweet-closed-msg"),t=this.$(".at-tweet-area");t.hide(),e.show()},showTweet:function(e){e.preventDefault();var t=this.$(".at-tweet-closed-msg"),n=this.$(".at-tweet-area");n.show(),t.hide()},renderFeedback:function(){this.$textarea.val()?this.clearFeedback():this.renderFeedbackWithErrors("Tweet is required.")},error_class:"error",clearFeedback:function(){return this.$("small."+this.error_class).remove(),this.$textarea.removeClass("noValue"),this.$label.removeClass(this.error_class),this.$button.prop("disabled",!1),this},renderFeedbackWithErrors:function(e){return this.$label.addClass(this.error_class),this.$textarea.addClass("noValue"),this.$label.find("small."+this.error_class).remove(),this.$label.append(this.error_template({error_text:e,behavior_classes:this.error_class})),this.$button.prop("disabled",!0),e}})}),n("ReCaptchaView",["backbone","FieldView","NVTagCallbacks"],function(e,t,n){function i(t){if(t.simpleCaptcha)return t;var n=e.$("body"),i=Math.min(350,n.width()-75),r=Math.min(400,n.height()-25),a=_.clone(t),o=t.gridHeight,s=t.gridWidth,l=t.pixelHeight,u=t.pixelWidth,c=l/u,h=o/s,d=c*h;u>i&&(u=i,l=c*u),l>r&&(l=r,u/=c);var p=l/o,f=p,m=p*d;a.cellHeight=f+"px",a.cellWidth=m+"px",a.height=l+"px",a.width=u+"px",a.gridRow=[];for(var g=0,v=0;o>v;v++){for(var y=[],b=0;s>b;b++)y.push({idx:++g,bkgPos:"-"+m*b+"px -"+f*v+"px",bkgSize:u+"px "+l+"px"});a.gridRow.push(y)}return a}return t.extend({__name__:"ReCaptchaView",type:"recaptcha_grid",initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.recaptcha_grid},context:function(){var e=i(this.def.captcha);return n("alterContext",{context:e}).context},render:function(){return this.$el.html(this.template(this.context())),this}})}),n("CheckboxListManagerView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){var i=e.$,r=e._;return n.extend({__name__:"CheckboxListManagerView",type:"checkbox-list-manager",initialize:function(){n.prototype.initialize.call(this),this.title=this.def.title,this.template=this.options.templates.checkbox_list_manager,this.childrenSelector='[name^="'+this.name+'_"]',this.listenTo(this.options.formview,"fill",this.postFill)},context:function(){var e=this.def,n={name:e.name,title:e.title,required:e.required};return t("alterContext",{element:this.type,context:n,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),i("body").on("click",this.childrenSelector,this.renderFeedback),this},renderFeedback:function(){return this.isCheckboxUncheckedAndRequired()?this.renderFeedbackWithErrors("error"):this.clearFeedback()},clearFeedback:function(){return i('[name="'+this.name+'"]').removeClass("at-red"),i('[name="'+this.name+'-small"]').removeClass("at-red"),i('[name="'+this.name+'-small"]').hide(),this},renderFeedbackWithErrors:function(e){return i('[name="'+this.name+'"]').addClass("at-red"),i('[name="'+this.name+'-small"]').addClass("at-red"),i('[name="'+this.name+'-small"]').show(),e},focus:function(){this.getChildByIndex(0).focus()},errors:function(){var e=this.isCheckboxUncheckedAndRequired()?[this.title+" is required."]:[];return e=r.map(t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},val:function(){},postFill:function(){this.values&&this.values.length&&this.updateChildrenValues(this.values)},setval:function(e){if(e&&(e=e.toString())){var t=e.split("||");this.values=t}else this.values=null;return this.touch()},updateChildrenValues:function(e){for(var t=0;e.length>t;t++){var n=e[t],i=this.getChildByValue(n);i&&i.length&&i.prop("checked",!0)}},getChildByIndex:function(e){var t='[name^="'+this.name+'_"]';return i(i(t)[e])},getChildByValue:function(e){var t='[name^="'+this.name+'_"][name$="_'+e+'"]';return i(t)},isCheckboxUncheckedAndRequired:function(){var e=this.context(),t=i(this.childrenSelector),n=t.filter(function(){return this.checked}).length>0;return e.required&&!n}})}),n("ActivistCodeQuestionView",["CheckboxListManagerView"],function(e){return e.extend({__name__:"ActivistCodeQuestionView",type:"activistCodeQuestion",initialize:function(){e.prototype.initialize.call(this),this.template=this.options.templates.question}})}),n("hbs!template-generic-modal",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<section id="'+s((r=null!=(r=t.prefix||(null!=e?e.prefix:e))?r:o,typeof r===a?r.call(e,{name:"prefix",hash:{}}):r))+'-modal" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="at-modal">\n    <div class="at-modal-inner">\n        <header>\n            <div>\n                '+s((r=null!=(r=t.headerText||(null!=e?e.headerText:e))?r:o,typeof r===a?r.call(e,{name:"headerText",hash:{}}):r))+'\n            </div>\n        </header>\n        <div class="at-modal-content" id="'+s((r=null!=(r=t.prefix||(null!=e?e.prefix:e))?r:o,typeof r===a?r.call(e,{name:"prefix",hash:{}}):r))+'-modal-content"></div>\n        <footer>\n            <a href="#!" class="close-button" title="Close" data-dismiss="modal">Close</a>\n        </footer>\n    </div>\n    <a href="#!" title="Close" data-close="Close" data-dismiss="modal" class="at-modal-close">&times;</a>\n</section>\n\n\n'}});return t.registerPartial("template-generic-modal",n),n}),n("EcardsView",["backbone","FieldView","NVTagCallbacks","hbs!template-generic-modal"],function(e,t,n,i){var r=e.$;return t.extend({__name__:"EcardsView",type:"ecard",events:{"change  input[name=ecard]":"onEcardRadioSelect","click div.at-ecard":"onEcardSelect"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.ecards},context:function(){var e={ecards:[],title:this.def.title||""};if(e.ecards=this.def.imgs,this.def.default_value){var t=_.where(e.ecards,{url:this.def.default_value});t?t.checked="checked":e.ecards[0].checked="checked"}else e.ecards[0].checked="checked";return n("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){var e=this.context();if(this.$el.html(this.template(e)),this.def.preview_markup){this.$el.append(i({prefix:"preview",headerText:"Preview"}));var t=this.parent.parent.$(".at-form-submit"),n=r(t).find(".step-prevNext");n.length?n.append('<button type="button" class="at-preview btn-at">Preview Ecard</button>'):t.append('<button type="button" class="at-preview btn-at">Preview Ecard</button>');var a=this.parent.parent.$(".at-preview");a.bind("click",this,this.showPreview)}var o=r("input[name=ecard]:checked").parent();return o&&o.addClass("selected"),this},showPreviewBtn:function(e,t){if(this.def.preview_markup){var n=t||this;e?n.parent.$(".at-preview").show():n.parent.$(".at-preview").hide()}},selectEcard:function(e){r("input[name=ecard]").each(function(){r(this).parent().removeClass("selected")}),e.addClass("selected")},onEcardSelect:function(e){var t=r(e.currentTarget);this.selectEcard(t),t.find("input[name=ecard]").prop("checked",!0)},onEcardRadioSelect:function(e){this.selectEcard(r(e.currentTarget).parent())},showPreview:function(e){var t=e.data;window.location.hash="preview-modal",t.onPreviewShow()},val:function(){var e=r("input[name=ecard]:checked");if(e&&e[0]){var t=e[0].value;return t}return null},onPreviewShow:function(){var e=r(document).find(".at-ecards"),t=r(e).find("input[name=ecard]:checked");if(t&&t[0]){var n=t[0].value,i=r("#preview-modal"),a=i.find("#preview-modal-content");a.empty();var o='<div class="at-preview-wrapper"><img src="'+n+'"/><div class="at-preview-markup">'+this.def.preview_markup+"</div></div>";a.html(o)}}})}),n("PremiumGiftsView",["backbone","FieldView","NVTagCallbacks","accounting"],function(e,t,n,i){var r=e.$,a=e._;return t.extend({__name__:"PremiumGiftsView",type:"gifts",events:{"change   :radio":"onGiftSelected"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.premium_gifts,this.currentAmount=0,this.defaultGiftIndex=0;var e=this.options.formview.subviews.ContributionInformation;if(e){var n=e.subviews.SelectAmount;if(n){var i=n.def.default_value;a.isUndefined(i)||(this.currentAmount=this.toFloat(i,2))}}this.listenTo(this.options.formview,"fill",this.postFill),window.nvtag.on("contributionAmtChanged",this.onContributionAmtChanged,this)},context:function(){var e=this,t=e.def,o={gifts:[]},s=-1;o.gifts=a.map(t.gifts,function(t,n){var r=a.extend({},t);return t.no_gift?s=n:(t.threshold&&(r.threshold=i.formatMoney(t.threshold),r.floatThreshold=e.toFloat(r.threshold,2)),r.floatThreshold>e.currentAmount&&(r.willIncrease=!0)),r});var l,u=-1;if(r("input[name=gift]").each(function(t){var n=o.gifts[t].floatThreshold;return this.checked&&(l=n,!n||e.currentAmount>=n)?(o.gifts[t].checked="checked",u=t,!1):void 0}),-1===u)if(l&&l>this.currentAmount&&s>-1){var c=o.gifts[s];c.checked="checked",window.nvtag.trigger("giftChanged",{newGift:c,newAmount:0})}else if(this.defaultGiftIndex>=0){var h=o.gifts[this.defaultGiftIndex];h.checked="checked",this.defaultGiftIndex=-1,!a.isUndefined(h.floatThreshold)&&h.floatThreshold>this.currentAmount&&(this.currentAmount=h.floatThreshold||0,window.nvtag.trigger("giftChanged",{newGift:h,newAmount:this.currentAmount}))}return n("alterContext",{element:this.type,context:o,def:t}).context},render:function(){var e=this;return e.$el.html(e.template(e.context())),r(".gift-img-container").each(function(e,t){var n=r(t).find(".gift-img"),i=r(n).find("img");r(i).one("load",function(){r(t).css("background-image","none")})}),e},val:function(){var e=r("input[name=gift]:checked");if(e&&e[0]){var t=e[0].value;return t}return null},onGiftSelected:function(e){var t=this,n=e.currentTarget.attributes["data-threshold"].value;n&&(n=t.toFloat(n,2),n>t.currentAmount&&(t.options.formview.setPageInfoAlert(["Your selected gift requires a contribution increase. Your contribution amount has been updated."]),t.currentAmount=n),t.render());var i=t.getGiftFromVal(e.currentTarget.value);window.nvtag.trigger("giftChanged",{newGift:i,newAmount:i.threshold}),t.renderFeedback()},onContributionAmtChanged:function(e){if(this.clearFeedback(),"other"!==e){this.currentAmount=this.toFloat(e,2);var t=this.getSelectedGift();t&&this.currentAmount<this.toFloat(t.threshold,2)&&this.options.formview.setPageInfoAlert(["Your contribution amount is too small for the gift selected. Please select another gift."]),this.render()}},postFill:function(e){if(e&&e.SelectAmount){var t=e.SelectAmount,n=this.def;t<this.toFloat(n.gifts[0].threshold,2)&&(r("input[name=gift]").each(function(){this.checked=!1}),this.defaultGiftIndex=0,this.render())}},clearFeedback:function(){return r(".Premiums").removeClass("error"),r(".Premiums > small.error").remove(),this},renderFeedbackWithErrors:function(e){if(e.length){var t=r(".Premiums");t.addClass("error"),t.append(this.error_template({error_text:e,behavior_classes:"error"}))}else this.clearFeedback();return e},errors:function(){var e=[],t=this.val();return(a.isNull(t)||a.isUndefined(t))&&(this.clearFeedback(),e.push("Please select a Gift.")),e=n("alterErrors",{val:t,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),a.map(e,this.toError,this)},toFloat:function(e,t){return parseFloat(i.toFixed(e,t))},getCheapestGift:function(){var e=r("input[name=gift]");if(e.length){for(var t=this.toFloat(e[0].attributes["data-threshold"].value,2),n=1;e.length>n;n++)t>e[n].attributes["data-threshold"].value&&(t=e[n].attributes["data-threshold"].value);return t}return 0},getGiftFromVal:function(e){return a.find(this.def.gifts,{val:parseInt(e)})},getSelectedGift:function(){var e=this.val();if(!a.isNull(e)&&!a.isUndefined(e))return this.getGiftFromVal(e)}})}),n("TimeView",["NVTagCallbacks","FieldView","moment"],function(e,t,n){return t.extend({__name__:"TimeView",tagName:"label",type:"time",events:{'change [name$="StartTime"]':"updateTime",change:"renderFeedback"},className:function(){return"at-text "+this.options.definition.name},initialize:function(){t.prototype.initialize.call(this)},context:function(){var t={name:this.name,title:this.title,required:this.def.required&&"required",value:this.def.default_value||"",type:"text",placeholder:"hh:mm AM/PM"};return e("alterContext",{element:this.type,context:t,def:this.def}).context},render:function(){var e=this;return this.$el.html(this.template(this.context())),this.$timePicker=this.$("input.timepicker"),this.$timePicker&&this.$timePicker.timepicker({timeFormat:"hh:mm p",interval:30,minTime:"12:00am",maxTime:"11:30pm",dynamic:!1,dropdown:!0,scrollbar:!0,change:function(t){e.updateEndTime(t),e.renderFeedback()}}),this},setval:function(e){this.clearFeedback();var t=e||this.def.default_value,n=this.$timePicker.timepicker(),i=n.parse(t);if(i){var r=n.format(i);return n.setTime(i),this.$timePicker.val(r),this.touch()}return this},val:function(){var e=this.$timePicker&&this.$timePicker.val();return e||null},renderFeedbackWithErrors:function(e){return e.length&&this.clearFeedback(),t.prototype.renderFeedbackWithErrors.call(this,e)},errors:function(){if(!this.$el.is(":visible"))return[];var n=t.prototype.errors.call(this);if(!n.length){var i=new RegExp(/^(?:(?:0?\d|1[0-2]):[0-5]\d) (AM|PM)$/i);i.test(this.$timePicker.val())||n.push("Please enter a valid time (ex: 9:00 PM)")}return _.map(e("alterErrors",{val:this.val(),field_name:this.field_name(),errors:n,def:this.def}).errors,this.toError,this)},updateTime:function(e){this.updateEndTime(e.currentTarget.value)},updateEndTime:function(e){var t=this.parent.subviews,i=this.getFieldPrefix(this.def.name,"StartTime"),r=t[i+"EndTime"];if(r&&e&&!(this.def.name.indexOf("EndTime")>=0)){var a=n(e);n(a).isValid()&&!r.val()&&r.setval(a.add(1,"hour").format("hh:mm A"))}}})}),n("occupations",[],function(){return["Accountant","Administrator","Analyst","Architect","Artist","Attorney","Banker","Consultant","Dentist","Designer","Director","Doctor","Editor","Engineer","Executive","Farmer","Homemaker","Investor","Librarian","Manager","Musician","Nurse","Owner","Partner","Pharmacist","Photographer","Physician","President","Professor","Psychologist","Realtor","Scientist","Social Worker","Software Engineer","Teacher","Writer"]}),n("form.rows",[],function(){return window["@rows"]||{ContactInformation:[["GotYourMessage"],["Prefix","FirstName","MiddleName","LastName","Suffix"],["DateOfBirth","PreferredLanguage","Pronoun"],["Genders","SexualOrientation","Race","Ethnicity"],["AddressLine1","AddressLine2"],["Country","PostalCode","City","StateProvince"],["EmailAddress","HomePhone","MobilePhone"],["WorkEmail","WorkPhone"],["TwitterHandle","FacebookProfileUrl"],["SmsSubscribeMobilePhone"],["SmsLegalDisclaimer"],["YesSignMeUpForUpdatesForBinder"],["UpdateMyProfile"]],EmployerInformation:[["LegalHeaderHtml"],["Occupation","Employer","SpouseName"],["WorkAddressLine1","WorkAddressLine2"],["WorkCountry","WorkPostalCode","WorkCity","WorkStateProvince"],["WorkEmail","WorkPhone"]],PaymentInformation:[["Account","ExpirationDate","SecurityCode"]],RecipientInformation:[["RecipientInfoHeaderHtml"],["RecipientFirstName","RecipientLastName"],["RecipientStreetAddress","RecipientAddressLine1","RecipientAddressLine2"],["RecipientCountry","RecipientPostalCode","RecipientCity","RecipientStateProvince"],["RecipientEmailAddress","RecipientHomePhone"],["NotifyRecipient"],["NotificationHeaderHtml"],["Ecard"],["NotificationSendDate"],["NotificationSendCopy"],["NotificationMessage"]],
ShippingInformation:[["ShippingPrefix","ShippingFirstName","ShippingMiddleName","ShippingLastName","ShippingSuffix"],["ShippingAddressLine1","ShippingAddressLine2"],["ShippingCountry","ShippingPostalCode","ShippingCity","ShippingStateProvince"]],EventInformation:[["EventName","EventType"],["EventDate","EventStartTime","EventEndTime","EventTimeZone"],["EventDescription"],["EventIsPrivate"],["EventIsPrivateReason"]],EventLocation:[["EventLocationName"],["EventAddressLine1","EventAddressLine2"],["EventPostalCode","EventCity","EventStateProvince"]]}}),n("prefixes",[],function(){return["Mr.","Ms.","Mrs.","Miss","Dr.","Hon."]}),n("formatRows",["underscore","form.rows"],function(e,t){function n(n,i,r){var a=r||t[n],o=e.indexBy(i,"name"),s=e.reduce(a,function(t,n){var i=e.reduce(n,function(e,t){return o[t]&&(e.push(o[t]),o[t].inRow=!0,e.classes?e.classes.push(t):e.classes=[t],"SmsLegalDisclaimer"===t&&o.SmsSubscribeMobilePhone&&"hidden"!==o.SmsSubscribeMobilePhone.type&&e.classes.push("at-indented")),e},[]);return i.length&&(1===i.length&&(/^(markup|checkbox)/.test(i[0].type)&&i.classes.unshift("at-row-full"),i.classes.unshift("at-row-solo")),i.classes=i.classes.join(" "),t.push(i)),t},[]);return s}return{format:n}}),n("FieldsetView",["backbone","NVTagCallbacks","FieldView","TextFieldView","TextAreaView","MarkupView","CheckboxView","SelectView","RadiosView","AmountView","DateView","NotMeView","TrackingPixelView","TicketHolderView","TicketingLevelView","CreditCardView","HiddenView","CVV2View","CCExpirationView","TargetsView","TargetSelectView","AdvocacyTweetView","ReCaptchaView","ActivistCodeQuestionView","CheckboxListManagerView","EcardsView","PremiumGiftsView","TimeView","occupations","form.rows","prefixes","formatRows"],function(e,t,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,k,C,E,T,A,S,D,N,P){var M=e._,I=e.$,O=n.extend({__name__:"FieldsetView",tagName:"fieldset",type:"fieldset",events:{},className:function(){return"at-fieldset "+this.options.definition.name},initialize:function(){n.prototype.initialize.call(this),e.Subviews.add(this),M.bindAll(this,"subviewOptions")},_onSubviewsRendered:function(){if(("EmployerInformation"===this.name||"ContactInformation"===this.name&&this.options.formview.multistep)&&(this.subviews.Employer||this.subviews.Occupation)){var e=["Retired","Unemployed","Student","Not Employed","Self Employed"];if(document.getElementById("at-occupations")||this.$el.append(this.options.templates.datalist({id:"at-occupations",options:S.concat(e)})).append(this.options.templates.datalist({id:"at-employers",options:e})),this.subviews.Occupation){var t=this;this.subviews.Occupation.$("input").attr("list","at-occupations"),t.subviews.Employer&&this.subviews.Occupation.$("input").on("change",function(n){M.contains(e,n.currentTarget.value)&&t.subviews.Employer.setval(n.currentTarget.value).clearFeedback()})}this.subviews.Employer&&this.subviews.Employer.$("input").attr("list","at-employers")}"ExtraInformation"===this.name&&I("html,body").scrollTop(this.parent.$("form").offset().top),this.subviews.Prefix&&(document.getElementById("at-prefixes")||this.$el.append(this.options.templates.datalist({id:"at-prefixes",options:N})),this.subviews.Prefix&&this.subviews.Prefix.$("input").attr("list","at-prefixes"))},context:function(){D=window["@rows"]||D;var e=this.options.formview,n={id:this.name.toLowerCase(),title:this.title,subTitle:this.options.definition.subTitle||"",children:[]};if(M.each(this.def.children,function(t,i){"SelectAmount"===t.name?n.children.push({type:"amount",index:i,name:t.name}):"ConfirmIdentityHtml"===t.name?n.children.push({type:"notme",index:i,name:t.name}):("EligibilityConfirmationHtml"===t.name||"ConfirmedEligibility"===t.name)&&e.options.form_definition.metadata.hideCompletedFormSections?e.options.form_definition.metadata.displayConfirmationMessage&&n.children.push({type:t.type,index:i,name:t.name}):n.children.push({type:t.type,index:i,name:t.name})},this),D[this.name]){var i=D[this.name];"ContactInformation"===this.name&&e.multistep&&(i=i.concat(D.EmployerInformation));var r=M.indexBy(n.children,"name");n.rows=P.format(this.name,n.children,i);var a=M.reject(r,{inRow:!0});if(a.length)for(var o=0;a.length>o;o++)n.rows.push([a[o]])}return t("alterContext",{element:"fieldset",context:n,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this},renderFeedback:function(e){return e&&e.stopPropagation(),M(this.subviews).invoke("renderFeedback").flatten().compact().value()},clearFeedback:function(){return M.invoke(this.subviews,"clearFeedback"),this},createSubviewDefaults:function(){return this.subviewDefaults={parent:this,definition:this.options.definition,templates:this.options.templates,labels:this.options.labels,formview:this.options.formview}},subviewOptions:function(e){var t=this.subviewDefaults||this.createSubviewDefaults();return e=M.isNumber(e)?{index:e}:e||{},e=M.extend(e,t),M.isNumber(e.index)&&(e.definition=e.definition.children[e.index],e.definition.name&&(e.name=e.definition.name),delete e.index),e},subviewCreators:{fieldset_view:function(e){return new O(this.subviewOptions(e))},textfield_view:function(e){return new i(this.subviewOptions(e))},textarea_view:function(e){return new r(this.subviewOptions(e))},markup_view:function(e){return new a(this.subviewOptions(e))},checkbox_view:function(e){return new o(this.subviewOptions(e))},select_view:function(e){var t=this.options.definition.children[e],n=t.target?_:s;return new n(this.subviewOptions(e))},"checkbox-list-manager_view":function(e){return new C(this.subviewOptions(e))},activistCodeQuestion_view:function(e){return new k(this.subviewOptions(e))},radios_view:function(e){return new l(this.subviewOptions(e))},hidden_view:function(e){return new g(this.subviewOptions(e))},email_view:function(e){return new i(this.subviewOptions({index:e,type:"email"}))},phone_view:function(e){return new i(this.subviewOptions({index:e,type:"tel"}))},gifts_view:function(e){return new T(this.subviewOptions(e))},ecard_view:function(e){return new E(this.subviewOptions(e))},recaptcha_grid_view:function(e){return new x(this.subviewOptions(e))},advocacy_tweet_view:function(e){return new w(this.subviewOptions(e))},targets_view:function(e){return new b(this.subviewOptions(e))},amount_view:function(e){return new u(this.subviewOptions(e))},credit_card_view:function(e){return new m(this.subviewOptions(e))},cc_expiration_view:function(e){return new y(this.subviewOptions(e))},cvv2_view:function(e){return new v(this.subviewOptions(e))},date_view:function(e){return new c(this.subviewOptions(e))},notme_view:function(e){return new h(this.subviewOptions(e))},trackingpixel_view:function(e){return new d(this.subviewOptions(e))},ticket_holder_view:function(e,t){return new p(this.subviewOptions({model:this.ticket_holders.get(t)}))},ticketing_level_view:function(e,t){return new f(this.subviewOptions({ticket_holders:this.ticket_holders,model:this.ticket_levels.get(t)}))},time_view:function(e){return new A(this.subviewOptions(e))}},errors:function(){var e=M(this.subviews).chain().invoke("errors").flatten().compact().value();return t("alterError",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},getTouched:function(){return M.transform(this.subviews,function(e,t,n){M.isFunction(t.touched)&&t.touched()&&(e[n]=t)})},val:function(){var e={};return M.each(this.subviews,function(t){var n=t.val();M.isObject(n)?("other"in n&&delete n.other,M.extend(e,n)):null!==n&&(e[t.name]=n)}),e},setval:function(e){return M.each(this.subviews,function(t){M.isObject(t.val())?M.isFunction(t.setval)&&t.setval(e):M.each(e,function(e,n){t.field_name()===n&&t.setval(e)})}),this.hideOrShow()},hideOrShow:function(){var e=!0;return M.each(this.subviews,function(t){t.isRequired()&&null===t.val()&&(e=!1)}),this.hide||this.shouldHide()&&e?this.$el.hide():this.$el.show(),this},shouldHide:function(){var e=this.name,t=this.options.formview;return t.options.smart&&!t.options.clickedNotMe&&"ContributionInformation"!==e&&"TicketInformation"!==e}});return O}),n("hbs!template-bitpay",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<section id="bitpay-invoice" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="fa-semantic-content fastaction-modal fade">\n  <div class="fa-modal-inner" style="max-width: 516px;">\n    <div class="fa-modal-wrapper" style="max-width: 516px; overflow: hidden">\n      <header>\n        <p style="padding-top: 5px; margin: 0; text-align: left">To complete this transaction, scan the QR code with your mobile Bitcoin wallet app or click "Pay with Bitcoin" to use your desktop wallet.</p>\n      </header>\n      <div class="fa-modal-content" id="bitpay-invoice-content" style="width: 500px; height: 160px; padding: 0; border: none; overflow: hidden"></div>\n    </div>\n  </div>  \n  <a href="#!" title="Cancel BitPay transaction" data-close="Close" data-dismiss="modal" class="fa-modal-close fa-model-noclose"></a>\n</section>\n'}});return t.registerPartial("template-bitpay",n),n}),function(){function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function t(e,t,n,i,r){this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=r}function n(e){var t,n,i="";for(t=0;e.length>=t+3;t+=3)n=parseInt(e.substring(t,t+3),16),i+=te.charAt(n>>6)+te.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=te.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=te.charAt(n>>2)+te.charAt((3&n)<<4));(3&i.length)>0;)i+=ne;return i}function i(e){var t,n,i,r="",a=0;for(t=0;e.length>t&&e.charAt(t)!=ne;++t)i=te.indexOf(e.charAt(t)),0>i||(0==a?(r+=c(i>>2),n=3&i,a=1):1==a?(r+=c(n<<2|i>>4),n=15&i,a=2):2==a?(r+=c(n),r+=c(i>>2),n=3&i,a=3):(r+=c(n<<2|i>>4),r+=c(15&i),a=0));return 1==a&&(r+=c(n<<2)),r}function r(e){var t,n=i(e),r=new Array;for(t=0;n.length>2*t;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function a(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new a(null)}function s(e,t,n,i,r,a){for(;--a>=0;){var o=t*this[e++]+n[i]+r;r=Math.floor(o/67108864),n[i++]=67108863&o}return r}function l(e,t,n,i,r,a){for(var o=32767&t,s=t>>15;--a>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*o;l=o*l+((32767&c)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(c>>>15)+s*u+(r>>>30),n[i++]=1073741823&l}return r}function u(e,t,n,i,r,a){for(var o=16383&t,s=t>>14;--a>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*o;l=o*l+((16383&c)<<14)+n[i]+r,r=(l>>28)+(c>>14)+s*u,n[i++]=268435455&l}return r}function c(e){return le.charAt(e)}function h(e,t){var n=ue[e.charCodeAt(t)];return null==n?-1:n}function d(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function f(e){var t=o();return t.fromInt(e),t}function m(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,o=0;--i>=0;){var s=8==n?255&e[i]:h(e,i);0>s?"-"==e.charAt(i)&&(r=!0):(r=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&a.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function v(e){if(0>this.s)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(this.DB>s&&(n=this[o]>>s)>0&&(r=!0,a=c(n));o>=0;)t>s?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&i,0>=s&&(s+=this.DB,--o)),n>0&&(r=!0),r&&(a+=c(n));return r?a:"0"}function y(){var e=o();return a.ZERO.subTo(this,e),e}function b(){return 0>this.s?this.negate():this}function _(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return 0>this.s?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function x(){return 0>=this.t?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)}function k(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function C(e,t){for(var n=e;this.t>n;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function E(e,t){var n,i=e%this.DB,r=this.DB-i,a=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>r|s,s=(this[n]&a)<<i;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function T(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var i=e%this.DB,r=this.DB-i,a=(1<<i)-1;t[0]=this[n]>>i;for(var o=n+1;this.t>o;++o)t[o-n-1]|=(this[o]&a)<<r,t[o-n]=this[o]>>i;i>0&&(t[this.t-n-1]|=(this.s&a)<<r),t.t=this.t-n,t.clamp()}function A(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);r>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(this.t>e.t){for(i-=e.s;this.t>n;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;e.t>n;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function S(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;i.t>r;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)}function D(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;t.t-1>n;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function N(e,t,n){var i=e.abs();if(!(0>=i.t)){var r=this.abs();if(i.t>r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var s=o(),l=this.s,u=e.s,c=this.DB-w(i[i.t-1]);c>0?(i.lShiftTo(c,s),r.lShiftTo(c,n)):(i.copyTo(s),r.copyTo(n));var h=s.t,d=s[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-h,b=null==t?o():t;for(s.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),a.ONE.dlShiftTo(h,b),b.subTo(s,s);h>s.t;)s[s.t++]=0;for(;--y>=0;){var _=n[--v]==d?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=s.am(0,_,n,y,0,h))<_)for(s.dlShiftTo(y,b),n.subTo(b,n);n[v]<--_;)n.subTo(b,n)}null!=t&&(n.drShiftTo(h,t),l!=u&&a.ZERO.subTo(t,t)),n.t=h,n.clamp(),c>0&&n.rShiftTo(c,n),0>l&&a.ZERO.subTo(n,n)}}}function P(e){var t=o();return this.abs().divRemTo(e,null,t),0>this.s&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t}function M(e){this.m=e}function I(e){return 0>e.s||e.compareTo(this.m)>=0?e.mod(this.m):e}function O(e){return e}function F(e){e.divRemTo(this.m,null,e)}function R(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function $(e,t){e.squareTo(t),this.reduce(t)}function L(){if(1>this.t)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function V(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function U(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),0>e.s&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t}function j(e){var t=o();return e.copyTo(t),this.reduce(t),t}function H(e){for(;this.mt2>=e.t;)e[e.t++]=0;for(var t=0;this.m.t>t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function q(e,t){e.squareTo(t),this.reduce(t)}function B(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Y(){return 0==(this.t>0?1&this[0]:this.s)}function z(e,t){if(e>4294967295||1>e)return a.ONE;var n=o(),i=o(),r=t.convert(this),s=w(e)-1;for(r.copyTo(n);--s>=0;)if(t.sqrTo(n,i),(e&1<<s)>0)t.mulTo(i,r,n);else{var l=n;n=i,i=l}return t.revert(n)}function W(e,t){var n;return n=256>e||t.isEven()?new M(t):new V(t),this.exp(e,n)}function G(e,t){return new a(e,t)}function K(e,t){if(e.length+11>t)throw new Error("Message too long for RSA");for(var n=new Array,i=e.length-1;i>=0&&t>0;){var r=e.charCodeAt(i--);128>r?n[--t]=r:r>127&&2048>r?(n[--t]=63&r|128,n[--t]=r>>6|192):(n[--t]=63&r|128,n[--t]=r>>6&63|128,n[--t]=r>>12|224)}n[--t]=0;for(var o=0,s=0,l=0;t>2;)0==l&&(s=ce.random.randomWords(1,0)[0]),o=s>>l&255,l=(l+8)%32,0!=o&&(n[--t]=o);return n[--t]=2,n[--t]=0,new a(n)}function Z(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function J(e,t){if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw new Error("Invalid RSA public key");this.n=G(e,16),this.e=parseInt(t,16)}function Q(e){return e.modPowInt(this.e,this.n)}function X(e){var t=K(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}e.prototype.get=function(e){if(void 0==e&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t){for(var n="",i=e;t>i;++i)switch(n+=this.hexByte(this.get(i)),15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.parseStringISO=function(e,t){for(var n="",i=e;t>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",i=0,r=e;t>r;){var i=this.get(r++);n+=128>i?String.fromCharCode(i):i>191&&224>i?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(e,t){var n=this.parseStringISO(e,t),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(e,t){var n=t-e;if(n>4){n<<=3;var i=this.get(e);if(0==i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,a=e;t>a;++a)r=r<<8|this.get(a);return r},e.prototype.parseBitString=function(e,t){var n=this.get(e),i=(t-e-1<<3)-n,r="("+i+" bit)";if(20>=i){var a=n;r+=" ";for(var o=t-1;o>e;--o){for(var s=this.get(o),l=a;8>l;++l)r+=s>>l&1?"1":"0";a=0}}return r},e.prototype.parseOctetString=function(e,t){var n=t-e,i="("+n+" byte) ";n>20&&(t=e+20);for(var r=e;t>r;++r)i+=this.hexByte(this.get(r));return n>20&&(i+=String.fromCharCode(8230)),i},e.prototype.parseOID=function(e,t){for(var n,i=0,r=0,a=e;t>a;++a){var o=this.get(a);i=i<<7|127&o,r+=7,128&o||(void 0==n?n=parseInt(i/40)+"."+i%40:n+="."+(r>=31?"bigint":i),i=r=0),n+=String.fromCharCode()}return n},t.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var e=this.tag>>6,t=31&this.tag;switch(e){case 0:switch(t){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+t.toString(16)}case 1:return"Application_"+t.toString(16);case 2:return"["+t+"]";case 3:return"Private_"+t.toString(16)}},t.prototype.content=function(){if(void 0==this.tag)return null;var e=this.tag>>6;if(0!=e)return null==this.sub?null:"("+this.sub.length+")";var t=31&this.tag,n=this.posContent(),i=Math.abs(this.length);switch(t){case 1:return 0==this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+i);case 6:return this.stream.parseOID(n,n+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+i);case 23:case 24:return this.stream.parseTime(n,n+i)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},t.prototype.print=function(e){if(void 0==e&&(e=""),document.writeln(e+this),null!=this.sub){e+="  ";for(var t=0,n=this.sub.length;n>t;++t)this.sub[t].print(e)}},t.prototype.toPrettyString=function(e){void 0==e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,32&this.tag?t+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(t+=" (encapsulates)"),t+="\n",null!=this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)t+=this.sub[n].toPrettyString(e)}return t},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0==n)return-1;t=0;for(var i=0;n>i;++i)t=t<<8|e.get();return t},t.hasContent=function(n,i,r){if(32&n)return!0;if(3>n||n>4)return!1;var a=new e(r);3==n&&a.get();var o=a.get();if(o>>6&1)return!1;try{var s=t.decodeLength(a);return a.pos-r.pos+s==i}catch(l){return!1}},t.decode=function(n){n instanceof e||(n=new e(n,0));var i=new e(n),r=n.get(),a=t.decodeLength(n),o=n.pos-i.pos,s=null;if(t.hasContent(r,a,n)){var l=n.pos;if(3==r&&n.get(),s=[],a>=0){for(var u=l+a;u>n.pos;)s[s.length]=t.decode(n);if(n.pos!=u)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var c=t.decode(n);if(0==c.tag)break;s[s.length]=c}a=l-n.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else n.pos+=a;return new t(i,o,a,r,s)};var ee,te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne="=",ie=0xdeadbeefcafe,re=15715070==(16777215&ie);re&&"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=l,ee=30):re&&"Netscape"!=navigator.appName?(a.prototype.am=s,ee=26):(a.prototype.am=u,ee=28),a.prototype.DB=ee,a.prototype.DM=(1<<ee)-1,a.prototype.DV=1<<ee;var ae=52;a.prototype.FV=Math.pow(2,ae),a.prototype.F1=ae-ee,a.prototype.F2=2*ee-ae;var oe,se,le="0123456789abcdefghijklmnopqrstuvwxyz",ue=new Array;for(oe="0".charCodeAt(0),se=0;9>=se;++se)ue[oe++]=se;for(oe="a".charCodeAt(0),se=10;36>se;++se)ue[oe++]=se;for(oe="A".charCodeAt(0),se=10;36>se;++se)ue[oe++]=se;M.prototype.convert=I,M.prototype.revert=O,M.prototype.reduce=F,M.prototype.mulTo=R,M.prototype.sqrTo=$,V.prototype.convert=U,V.prototype.revert=j,V.prototype.reduce=H,V.prototype.mulTo=B,V.prototype.sqrTo=q,a.prototype.copyTo=d,a.prototype.fromInt=p,a.prototype.fromString=m,a.prototype.clamp=g,a.prototype.dlShiftTo=k,a.prototype.drShiftTo=C,a.prototype.lShiftTo=E,a.prototype.rShiftTo=T,a.prototype.subTo=A,a.prototype.multiplyTo=S,a.prototype.squareTo=D,a.prototype.divRemTo=N,a.prototype.invDigit=L,a.prototype.isEven=Y,a.prototype.exp=z,a.prototype.toString=v,a.prototype.negate=y,a.prototype.abs=b,a.prototype.compareTo=_,a.prototype.bitLength=x,a.prototype.mod=P,a.prototype.modPowInt=W,a.ZERO=f(0),a.ONE=f(1),Z.prototype.doPublic=Q,Z.prototype.setPublic=J,Z.prototype.encrypt=X;var ce={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=ce),ce.cipher.aes=function(e){this._tables[0][0][0]||this._precompute();var t,n,i,r,a,o=this._tables[0][4],s=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new ce.exception.invalid("invalid aes key size");for(this._key=[r=e.slice(0),a=[]],t=l;4*l+28>t;t++)i=r[t-1],(t%l===0||8===l&&t%l===4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%l===0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],a[n]=4>=t||4>n?i:s[0][o[i>>>24]]^s[1][o[i>>16&255]]^s[2][o[i>>8&255]]^s[3][o[255&i]]},ce.cipher.aes.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,n,i,r,a,o,s,l,u=this._tables[0],c=this._tables[1],h=u[4],d=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!h[t];t^=i||1,n=f[n]||1)for(o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^255&o^99,h[t]=o,d[o]=t,a=p[r=p[i=p[t]]],l=16843009*a^65537*r^257*i^16843008*t,s=257*p[o]^16843008*o,e=0;4>e;e++)u[e][t]=s=s<<24^s>>>8,c[e][o]=l=l<<24^l>>>8;for(e=0;5>e;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)},_crypt:function(e,t){if(4!==e.length)throw new ce.exception.invalid("invalid aes block size");var n,i,r,a,o=this._key[t],s=e[0]^o[0],l=e[t?3:1]^o[1],u=e[2]^o[2],c=e[t?1:3]^o[3],h=o.length/4-2,d=4,p=[0,0,0,0],f=this._tables[t],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(a=0;h>a;a++)n=m[s>>>24]^g[l>>16&255]^v[u>>8&255]^y[255&c]^o[d],i=m[l>>>24]^g[u>>16&255]^v[c>>8&255]^y[255&s]^o[d+1],r=m[u>>>24]^g[c>>16&255]^v[s>>8&255]^y[255&l]^o[d+2],c=m[c>>>24]^g[s>>16&255]^v[l>>8&255]^y[255&u]^o[d+3],d+=4,s=n,l=i,u=r;for(a=0;4>a;a++)p[t?3&-a:a]=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^o[d++],n=s,s=l,l=u,u=c,c=n;return p}},ce.bitArray={bitSlice:function(e,t,n){return e=ce.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:ce.bitArray.clamp(e,n-t)},extract:function(e,t,n){var i,r=Math.floor(-t-n&31);return i=-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r,i&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],i=ce.bitArray.getPartial(n);return 32===i?e.concat(t):ce.bitArray._shiftRight(t,i,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t,n=e.length;return 0===n?0:(t=e[n-1],32*(n-1)+ce.bitArray.getPartial(t))},clamp:function(e,t){if(t>32*e.length)return e;e=e.slice(0,Math.ceil(t/32));var n=e.length;return t=31&t,n>0&&t&&(e[n-1]=ce.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(ce.bitArray.bitLength(e)!==ce.bitArray.bitLength(t))return!1;var n,i=0;for(n=0;e.length>n;n++)i|=e[n]^t[n];return 0===i},_shiftRight:function(e,t,n,i){var r,a,o=0;for(void 0===i&&(i=[]);t>=32;t-=32)i.push(n),n=0;if(0===t)return i.concat(e);for(r=0;e.length>r;r++)i.push(n|e[r]>>>t),n=e[r]<<32-t;return o=e.length?e[e.length-1]:0,a=ce.bitArray.getPartial(o),i.push(ce.bitArray.partial(t+a&31,t+a>32?n:i.pop(),1)),i},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},ce.codec.hex={fromBits:function(e){var t,n="";for(t=0;e.length>t;t++)n+=((0|e[t])+0xf00000000000).toString(16).substr(4);return n.substr(0,ce.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,i=[];for(e=e.replace(/\s|0x/g,""),n=e.length,e+="00000000",t=0;e.length>t;t+=8)i.push(0^parseInt(e.substr(t,8),16));return ce.bitArray.clamp(i,4*n)}},ce.codec.utf8String={fromBits:function(e){var t,n,i="",r=ce.bitArray.bitLength(e);for(t=0;r/8>t;t++)0===(3&t)&&(n=e[t/4]),i+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],i=0;for(t=0;e.length>t;t++)i=i<<8|e.charCodeAt(t),3===(3&t)&&(n.push(i),i=0);return 3&t&&n.push(ce.bitArray.partial(8*(3&t),i)),n}},ce.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var i,r="",a=0,o=ce.codec.base64._chars,s=0,l=ce.bitArray.bitLength(e);for(n&&(o=o.substr(0,62)+"-_"),i=0;l>6*r.length;)r+=o.charAt((s^e[i]>>>a)>>>26),6>a?(s=e[i]<<6-a,a+=26,i++):(s<<=6,a-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,i,r=[],a=0,o=ce.codec.base64._chars,s=0;for(t&&(o=o.substr(0,62)+"-_"),n=0;e.length>n;n++){if(i=o.indexOf(e.charAt(n)),0>i)throw new ce.exception.invalid("this isn't base64!");a>26?(a-=26,r.push(s^i>>>a),s=i<<32-a):(a+=6,s^=i<<32-a)}return 56&a&&r.push(ce.bitArray.partial(56&a,s,1)),r}},ce.codec.base64url={fromBits:function(e){return ce.codec.base64.fromBits(e,1,1)},toBits:function(e){return ce.codec.base64.toBits(e,1)}},void 0===ce.beware&&(ce.beware={}),ce.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){ce.mode.cbc={name:"cbc",encrypt:function(e,t,n,i){if(i&&i.length)throw new ce.exception.invalid("cbc can't authenticate data");if(128!==ce.bitArray.bitLength(n))throw new ce.exception.invalid("cbc iv must be 128 bits");var r,a=ce.bitArray,o=a._xor4,s=a.bitLength(t),l=0,u=[];if(7&s)throw new ce.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;s>=l+128;r+=4,l+=128)n=e.encrypt(o(n,t.slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]);return s=16843009*(16-(s>>3&15)),n=e.encrypt(o(n,a.concat(t,[s,s,s,s]).slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]),u},decrypt:function(e,t,n,i){if(i&&i.length)throw new ce.exception.invalid("cbc can't authenticate data");if(128!==ce.bitArray.bitLength(n))throw new ce.exception.invalid("cbc iv must be 128 bits");if(127&ce.bitArray.bitLength(t)||!t.length)throw new ce.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,a,o,s=ce.bitArray,l=s._xor4,u=[];for(i=i||[],r=0;t.length>r;r+=4)a=t.slice(r,r+4),o=l(n,e.decrypt(a)),u.splice(r,0,o[0],o[1],o[2],o[3]),n=a;if(a=255&u[r-1],0==a||a>16)throw new ce.exception.corrupt("pkcs#5 padding corrupt");if(o=16843009*a,!s.equal(s.bitSlice([o,o,o,o],0,8*a),s.bitSlice(u,32*u.length-8*a,32*u.length)))throw new ce.exception.corrupt("pkcs#5 padding corrupt");return s.bitSlice(u,0,32*u.length-8*a)}}},ce.misc.hmac=function(e,t){this._hash=t=t||ce.hash.sha256;var n,i=[[],[]],r=t.prototype.blockSize/32;for(this._baseHash=[new t,new t],e.length>r&&(e=t.hash(e)),n=0;r>n;n++)i[0][n]=909522486^e[n],i[1][n]=1549556828^e[n];this._baseHash[0].update(i[0]),this._baseHash[1].update(i[1])},ce.misc.hmac.prototype.encrypt=ce.misc.hmac.prototype.mac=function(e,t){var n=new this._hash(this._baseHash[0]).update(e,t).finalize();return new this._hash(this._baseHash[1]).update(n).finalize()},ce.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},ce.hash.sha256.hash=function(e){return(new ce.hash.sha256).update(e).finalize()},ce.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],
this._length=0,this},update:function(e){"string"==typeof e&&(e=ce.codec.utf8String.toBits(e));var t,n=this._buffer=ce.bitArray.concat(this._buffer,e),i=this._length,r=this._length=i+ce.bitArray.bitLength(e);for(t=512+i&-512;r>=t;t+=512)this._block(n.splice(0,16));return this},finalize:function(){var e,t=this._buffer,n=this._h;for(t=ce.bitArray.concat(t,[ce.bitArray.partial(1,1)]),e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,n=0,i=2;e:for(;64>n;i++){for(t=2;i>=t*t;t++)if(i%t===0)continue e;8>n&&(this._init[n]=e(Math.pow(i,.5))),this._key[n]=e(Math.pow(i,1/3)),n++}},_block:function(e){var t,n,i,r,a=e.slice(0),o=this._h,s=this._key,l=o[0],u=o[1],c=o[2],h=o[3],d=o[4],p=o[5],f=o[6],m=o[7];for(t=0;64>t;t++)16>t?n=a[t]:(i=a[t+1&15],r=a[t+14&15],n=a[15&t]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+a[15&t]+a[t+9&15]|0),n=n+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+s[t],m=f,f=p,p=d,d=h+n|0,h=c,c=u,u=l,l=n+(u&c^h&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;o[0]=o[0]+l|0,o[1]=o[1]+u|0,o[2]=o[2]+c|0,o[3]=o[3]+h|0,o[4]=o[4]+d|0,o[5]=o[5]+p|0,o[6]=o[6]+f|0,o[7]=o[7]+m|0}},ce.random={randomWords:function(e,t){var n,i,r=[],a=this.isReady(t);if(a===this._NOT_READY)throw new ce.exception.notReady("generator isn't seeded");for(a&this._REQUIRES_RESEED&&this._reseedFromPools(!(a&this._READY)),n=0;e>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,e)},setDefaultParanoia:function(e){this._defaultParanoia=e},addEntropy:function(e,t,n){n=n||"user";var i,r,a,o=(new Date).valueOf(),s=this._robins[n],l=this.isReady(),u=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===s&&(s=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof e){case"number":void 0===t&&(t=1),this._pools[s].update([i,this._eventId++,1,t,o,1,0|e]);break;case"object":var c=Object.prototype.toString.call(e);if("[object Uint32Array]"===c){for(a=[],r=0;e.length>r;r++)a.push(e[r]);e=a}else for("[object Array]"!==c&&(u=1),r=0;e.length>r&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(void 0===t)for(t=0,r=0;e.length>r;r++)for(a=e[r];a>0;)t++,a>>>=1;this._pools[s].update([i,this._eventId++,2,t,o,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this._pools[s].update([i,this._eventId++,3,t,o,e.length]),this._pools[s].update(e);break;default:u=1}if(u)throw new ce.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[s]+=t,this._poolStrength+=t,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(e){var t=this._PARANOIA_LEVELS[void 0!==e?e:this._defaultParanoia];return this._strength&&this._strength>=t?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=t?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(e){var t=this._PARANOIA_LEVELS[e?e:this._defaultParanoia];return this._strength>=t?1:this._poolStrength>t?1:this._poolStrength/t},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new ce.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(e,t){this._callbacks[e][this._callbackI++]=t},removeEventListener:function(e,t){var n,i,r=this._callbacks[e],a=[];for(i in r)r.hasOwnProperty(i)&&r[i]===t&&a.push(i);for(n=0;a.length>n;n++)i=a[n],delete r[i]},_pools:[new ce.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var e=0;4>e&&!(this._counter[e]=this._counter[e]+1|0);e++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new ce.cipher.aes(this._key)},_reseed:function(e){this._key=ce.hash.sha256.hash(this._key.concat(e)),this._cipher=new ce.cipher.aes(this._key);for(var t=0;4>t&&!(this._counter[t]=this._counter[t]+1|0);t++);},_reseedFromPools:function(e){var t,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,t=0;16>t;t++)n.push(4294967296*Math.random()|0);for(t=0;this._pools.length>t&&(n=n.concat(this._pools[t].finalize()),i+=this._poolEntropy[t],this._poolEntropy[t]=0,e||!(this._reseedCount&1<<t));t++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new ce.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(e){var t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0;ce.random.addEntropy([t,n],2,"mouse")},_loadTimeCollector:function(e){ce.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(e,t){var n,i=ce.random._callbacks[e],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;r.length>n;n++)r[n](t)}},function(){try{var e=new Uint32Array(32);crypto.getRandomValues(e),ce.random.addEntropy(e,1024,"crypto.getRandomValues")}catch(t){}}(),function(){for(var e in ce.beware)ce.beware.hasOwnProperty(e)&&ce.beware[e]()}();var he={sjcl:ce,version:"1.3.10"};he.generateAesKey=function(){return{key:ce.random.randomWords(8,0),encrypt:function(e){return this.encryptWithIv(e,ce.random.randomWords(4,0))},encryptWithIv:function(e,t){var n=new ce.cipher.aes(this.key),i=ce.codec.utf8String.toBits(e),r=ce.mode.cbc.encrypt(n,i,t),a=ce.bitArray.concat(t,r);return ce.codec.base64.fromBits(a)}}},he.create=function(e){return new he.EncryptionClient(e)},he.EncryptionClient=function(e){var i=this,a=[];i.publicKey=e,i.version=he.version;var o=function(e,t){var n,i,r;n=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&(r=t[i],n.setAttribute(i,r));return n},s=function(e){return window.jQuery&&e instanceof jQuery?e[0]:e.nodeType&&1===e.nodeType?e:document.getElementById(e)},l=function(e){var t,n,i,r,a=[];if("INTEGER"===e.typeName()&&(t=e.posContent(),n=e.posEnd(),i=e.stream.hexDump(t,n).replace(/[ \n]/g,""),a.push(i)),null!==e.sub)for(r=0;e.sub.length>r;r++)a=a.concat(l(e.sub[r]));return a},u=function(e){var t,n,i=[],r=e.children;for(n=0;r.length>n;n++)t=r[n],1===t.nodeType&&t.attributes["data-encrypted-name"]?i.push(t):t.children&&t.children.length>0&&(i=i.concat(u(t)));return i},c=function(){var n,i,a,o,s,u;try{s=r(e),n=t.decode(s)}catch(c){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(a=l(n),2!==a.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return o=a[0],i=a[1],u=new Z,u.setPublic(o,i),u},h=function(){return{key:ce.random.randomWords(8,0),sign:function(e){var t=new ce.misc.hmac(this.key,ce.hash.sha256),n=t.encrypt(e);return ce.codec.base64.fromBits(n)}}};i.encrypt=function(e){var t=c(),r=he.generateAesKey(),a=h(),o=r.encrypt(e),s=a.sign(ce.codec.base64.toBits(o)),l=ce.bitArray.concat(r.key,a.key),u=ce.codec.base64.fromBits(l),d=t.encrypt(u),p="$bt4|javascript_"+i.version.replace(/\./g,"_")+"$",f=null;return d&&(f=n(d)),p+f+"$"+o+"$"+s},i.encryptForm=function(e){var t,n,r,l,c,h;for(e=s(e),h=u(e);a.length>0;){try{e.removeChild(a[0])}catch(d){}a.splice(0,1)}for(c=0;h.length>c;c++)t=h[c],r=t.getAttribute("data-encrypted-name"),n=i.encrypt(t.value),t.removeAttribute("name"),l=o("input",{value:n,type:"hidden",name:r}),a.push(l),e.appendChild(l)},i.onSubmitEncryptForm=function(e,t){var n;e=s(e),n=function(n){return i.encryptForm(e),t?t(n):n},window.jQuery?window.jQuery(e).submit(n):e.addEventListener?e.addEventListener("submit",n,!1):e.attachEvent&&e.attachEvent("onsubmit",n)},i.formEncrypter={encryptForm:i.encryptForm,extractForm:s,onSubmitEncryptForm:i.onSubmitEncryptForm},ce.random.startCollectors()},window.Braintree=he}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof n&&n.amd)n("braintree",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.braintree=e()}}(function(){var e;return function n(e,i,r){function a(s,l){if(!i[s]){if(!e[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return a(n?n:t)},h,h.exports,n,e,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;r.length>s;s++)a(r[s]);return a}({1:[function(e,t,n){(function(n){"use strict";function i(e){var t=e.analyticsConfiguration||{},i=n.braintree?n.braintree.VERSION:null,r=i?"braintree/web/"+i:"";return{sdkVersion:t.sdkVersion||r,merchantAppId:t.merchantAppId||n.location.host}}function r(e){var t=i(e);this.options=e,this.driver=e.driver||m({enableCORS:g(e)}),this.customerId=e.customerId,this.integration=e.integrationType||e.integration||"",this.sdkVersion=t.sdkVersion,this.merchantAppId=t.merchantAppId,this.sessionId=e.channel||b(),this.authorization=e.authorization||e.clientToken,l.isTokenizationKey(this.authorization)?(this.authorizationType=y.authorizationTypes.TOKENIZATION_KEY,this.gatewayConfiguration=e.gatewayConfiguration):(this.gatewayConfiguration=e.gatewayConfiguration||s(this.authorization),this.authorizationFingerprint=s(this.authorization).authorizationFingerprint,this.authorizationType=y.authorizationTypes.CLIENT_TOKEN),this.requestTimeout=e.hasOwnProperty("timeout")?e.timeout:6e4}var a=e(87),o=e(26),s=e(8),l=e(13),u=e(11),c=e(5),h=e(4),d=e(2),p=e(9),f=e(7).normalizeCreditCardFields,m=e(40).chooseDriver,g=e(12),v=e(6),y=e(3),b=e(49).uuid;r.prototype._getGatewayConfiguration=function(e){var t=this;return this.gatewayConfiguration?void e(null,this.gatewayConfiguration):void v({authorization:this.authorization,enableCORS:g(this.options)},function(n,i){return n?void e(n,null):(t.gatewayConfiguration=i,void e(null,i))})},r.prototype._getAttrs=function(e){var t={};return this.options.hasOwnProperty("sharedCustomerIdentifier")&&(t.sharedCustomerIdentifier=this.options.sharedCustomerIdentifier),t.sharedCustomerIdentifierType=this.options.sharedCustomerIdentifierType,t.braintreeLibraryVersion=this.sdkVersion,e.merchantAccountId&&(t.merchantAccountId=e.merchantAccountId),this.authorizationType===y.authorizationTypes.TOKENIZATION_KEY?t.clientKey=this.options.authorization:t.authorizationFingerprint=this.authorizationFingerprint,t._meta={sessionId:this.sessionId},t},r.prototype.getCreditCards=function(e,t){"function"==typeof e&&(t=e,e={}),this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(r=this._getAttrs(i),e.defaultFirst===!0&&(r.defaultFirst=1),void this.driver.get(l.joinUrlFragments([i.clientApiUrl,"v1","payment_methods"]),r,function(e){var t=0,n=e.paymentMethods.length,i=[];for(t;n>t;t++)i.push(new h(e.paymentMethods[t]));return i},t,this.requestTimeout))},this))},r.prototype.tokenizeCoinbase=function(e,t){e.options={validate:!1},this.addCoinbase(e,function(e,n){e?t(e,null):n&&n.nonce?t(e,n):t("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizePayPalAccount=function(e,t){e.options={validate:!1},this.addPayPalAccount(e,function(e,n){e?t(e,null):n&&n.nonce?t(null,n):t("Unable to tokenize paypal account.",null)})},r.prototype.tokenizeCard=function(e,t){e.options={validate:!1},this.addCreditCard(e,function(e,n){n&&n.nonce?t(e,n.nonce,{type:n.type,details:n.details}):t("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r,a;return n?t(n):(r=l.joinUrlFragments([i.clientApiUrl,"v1/payment_methods",e.nonce,"three_d_secure/lookup"]),a=l.mergeOptions(this._getAttrs(i),{amount:e.amount}),void this.driver.post(r,a,function(e){return e},t,this.requestTimeout))},this))},r.prototype.createSEPAMandate=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),{sepaMandate:e}),void this.driver.post(l.joinUrlFragments([i.clientApiUrl,"v1","sepa_mandates.json"]),r,function(e){return{sepaMandate:new u(e.europeBankAccounts[0].sepaMandates[0]),sepaBankAccount:new c(e.europeBankAccounts[0])}},t,this.requestTimeout))},this))},r.prototype.getSEPAMandate=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),e),void this.driver.get(l.joinUrlFragments([i.clientApiUrl,"v1","sepa_mandates.json"]),r,function(e){return{sepaMandate:new u(e.sepaMandates[0])}},t,this.requestTimeout))},this))},r.prototype.addCoinbase=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(delete e.share,r=l.mergeOptions(this._getAttrs(i),{coinbaseAccount:e,_meta:{integration:this.integration||"custom",source:"coinbase",sessionId:this.sessionId}}),void this.driver.post(l.joinUrlFragments([i.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),r,function(e){return new d(e.coinbaseAccounts[0])},t,this.requestTimeout))},this))},r.prototype.addPayPalAccount=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(delete e.share,r=l.mergeOptions(this._getAttrs(i),{paypalAccount:e,_meta:{integration:this.integration||"paypal",source:"paypal",sessionId:this.sessionId}}),void this.driver.post(l.joinUrlFragments([i.clientApiUrl,"v1","payment_methods","paypal_accounts"]),r,function(e){return new p(e.paypalAccounts[0])},t,this.requestTimeout))},this))},r.prototype.addCreditCard=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r,a,o;return n?t(n):(o=e.share,delete e.share,a=f(e),r=l.mergeOptions(this._getAttrs(i),{share:o,creditCard:a,_meta:{integration:this.integration||"custom",source:"form",sessionId:this.sessionId}}),void this.driver.post(l.joinUrlFragments([i.clientApiUrl,"v1","payment_methods/credit_cards"]),r,function(e){return new h(e.creditCards[0])},t,this.requestTimeout))},this))},r.prototype.sendAnalyticsEvents=function(e,t){this._getGatewayConfiguration(a(function(i,r){var a,o,s,u;if(i)return void t(i);if(s=r.analytics.url,u=[],e=l.isArray(e)?e:[e],!s)return void(t&&t(null,{}));for(o in e)e.hasOwnProperty(o)&&u.push({kind:e[o]});a=l.mergeOptions(this._getAttrs(r),{analytics:u,_meta:{merchantAppId:this.merchantAppId,platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration,sdkVersion:this.sdkVersion,sessionId:this.sessionId}}),this.driver.post(s,a,function(e){return e},t,y.ANALYTICS_TIMEOUT_MS)},this))},r.prototype.decryptBrowserswitchPayload=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r,a;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),{asymmetricEncryptedPayload:e}),a=l.joinUrlFragments([i.clientApiUrl,"/v1/paypal_browser_switch/decrypt"]),void this.driver.post(a,r,function(e){return e},t,this.requestTimeout))},this))},r.prototype.encryptBrowserswitchReturnPayload=function(e,t,n){this._getGatewayConfiguration(a(function(i,r){var a,o;return i?n(i):(a=l.mergeOptions(this._getAttrs(r),{payload:e,aesKey:t}),o=l.joinUrlFragments([r.clientApiUrl,"/v1/paypal_browser_switch/encrypt"]),void this.driver.post(o,a,function(e){return e},n,this.requestTimeout))},this))},r.prototype.exchangePaypalTokenForConsentCode=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r,a;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),e),i.merchantAccountId&&(r.merchantAccountId=i.merchantAccountId),a=l.joinUrlFragments([i.clientApiUrl,"/v1/paypal_account_service/merchant_consent"]),void this.driver.post(a,r,function(e){return e},t,this.requestTimeout))},this))},r.prototype.getAmexRewardsBalance=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),e),r.nonce&&(r.paymentMethodNonce=r.nonce,delete r.nonce),void this.driver.get(l.joinUrlFragments([i.clientApiUrl,"v1/payment_methods/amex_rewards_balance"]),r,function(e){return e},t,this.requestTimeout))},this))},r.prototype.getAmexExpressCheckoutNonceProfile=function(e,t){this._getGatewayConfiguration(a(function(n,i){var r;return n?t(n):(r=l.mergeOptions(this._getAttrs(i),e),r.nonce&&(r.paymentMethodNonce=r.nonce,delete r.nonce),void this.driver.get(l.joinUrlFragments([i.clientApiUrl,"v1/payment_methods/amex_express_checkout_cards",r.paymentMethodNonce]),r,function(e){return e},t,this.requestTimeout))},this))},r.prototype.verify3DS=function(){var e=arguments;return this._secure3d?this._secure3d.verify.apply(this._secure3d,e):void this._getGatewayConfiguration(a(function(t,n){var i;return t?(i=e[e.length-1])(t):(this._secure3d=o.create(this,{container:this.options.container,clientToken:n}),this._secure3d.verify.apply(this._secure3d,e))},this))},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,12:12,13:13,2:2,26:26,3:3,4:4,40:40,49:49,5:5,6:6,7:7,8:8,87:87,9:9}],2:[function(e,t,n){"use strict";function i(e){var t,n;for(t=0;r.length>t;t++)n=r[t],this[n]=e[n]}var r=["nonce","type","description","details"];t.exports=i},{}],3:[function(e,t,n){"use strict";var i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports={apiUrls:i,errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"},ANALYTICS_TIMEOUT_MS:4e3,authorizationTypes:{CLIENT_TOKEN:"CLIENT_TOKEN",TOKENIZATION_KEY:"TOKENIZATION_KEY"}}},{}],4:[function(e,t,n){"use strict";function i(e){var t,n;for(t=0;r.length>t;t++)n=r[t],this[n]=e[n]}var r=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];t.exports=i},{}],5:[function(e,t,n){"use strict";function i(e){var t,n=["bic","maskedIBAN","nonce","accountHolderName"],i=0;for(i=0;n.length>i;i++)t=n[i],this[t]=e[t]}t.exports=i},{}],6:[function(e,t,n){"use strict";function i(e){var t=e.split("_"),n=t[0],i=t.slice(2).join("_");return{merchantId:i,environment:n}}function r(e,t){var n,r,c,h=s({enableCORS:l(e)}),d={};o.isTokenizationKey(e.authorization)?(d.clientKey=e.authorization,r=i(e.authorization),n=u.apiUrls[r.environment]+"/merchants/"+r.merchantId+"/client_api/v1/configuration"):(c=a(e.authorization),d.authorizationFingerprint=c.authorizationFingerprint,n=c.configUrl),e.sessionId&&(d._meta={sessionId:e.sessionId}),h.get(n,d,function(e){return e},t,e.timeout)}var a=e(8),o=e(13),s=e(40).chooseDriver,l=e(12),u=e(3);t.exports=r},{12:12,13:13,3:3,40:40,8:8}],7:[function(e,t,n){"use strict";function i(e){var t,n={billingAddress:e.billingAddress||{}};for(t in e)if(e.hasOwnProperty(t))switch(t.replace(/_/g,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":n.billingAddress[t]=e[t];break;default:n[t]=e[t]}return n}t.exports={normalizeCreditCardFields:i}},{}],8:[function(e,t,n){"use strict";function i(e){var t;if(!e)throw new Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof e&&null!==e)t=e;else{try{e=window.atob(e)}catch(n){}try{t=JSON.parse(e)}catch(i){throw new Error("Braintree API Client Misconfigured: clientToken is not valid JSON.")}}if(!t.hasOwnProperty("clientApiUrl")||!r.isWhitelistedDomain(t.clientApiUrl))throw new Error("Braintree API Client Misconfigured: the clientApiUrl provided in the clientToken is invalid.");return t}var r=e(49);e(10),t.exports=i},{10:10,49:49}],9:[function(e,t,n){"use strict";function i(e){var t,n;for(t=0;r.length>t;t++)n=r[t],this[n]=e[n]}var r=["nonce","type","description","details"];t.exports=i},{}],10:[function(e,t,n){(function(e){"use strict";var n=function(e){var t=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!t.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");var r=0;do{var a=n.indexOf(e.charAt(r++)),o=n.indexOf(e.charAt(r++)),s=n.indexOf(e.charAt(r++)),l=n.indexOf(e.charAt(r++)),u=(63&a)<<2|o>>4&3,c=(15&o)<<4|s>>2&15,h=(3&s)<<6|63&l;i+=String.fromCharCode(u)+(c?String.fromCharCode(c):"")+(h?String.fromCharCode(h):"")}while(e.length>r);return i};e.atob=e.atob||n,t.exports={atobPolyfill:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){"use strict";function i(e){var t,n=0,i=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];for(n=0;i.length>n;n++)t=i[n],this[t]=e[t]}t.exports=i},{}],12:[function(e,t,n){"use strict";t.exports=function(e){return null!=e.enableCORS?e.enableCORS:e.merchantConfiguration?e.merchantConfiguration.enableCORS:!1}},{}],13:[function(e,t,n){"use strict";function i(e){var t,n,i=[];for(n=0;e.length>n;n++)t=e[n],"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),"/"===t.charAt(0)&&(t=t.substring(1)),i.push(t);return i.join("/")}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function a(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}function o(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}t.exports={joinUrlFragments:i,isArray:r,mergeOptions:a,isTokenizationKey:o}},{}],14:[function(e,t,n){"use strict";function i(e){return new r(e)}var r=e(1),a=e(13),o=e(8),s=e(6);t.exports={Client:r,configure:i,util:a,parseClientToken:o,_getConfiguration:s}},{1:1,13:13,6:6,8:8}],15:[function(e,t,n){"use strict";var i,r=Array.prototype.indexOf;i=r?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},t.exports={indexOf:i}},{}],16:[function(e,t,n){"use strict";function i(e){var t,n,i="";for(t=0;e.length>t;t++)i+="%",n=e[t].charCodeAt(0).toString(16).toUpperCase(),2>n.length&&(i+="0"),i+=n;return i}function r(e){return decodeURIComponent(i(atob(e)))}t.exports={decodeUtf8:r}},{}],17:[function(e,t,n){"use strict";function i(e,t){if(t=t||"["+e+"] is not a valid DOM Element",e&&e.nodeType&&1===e.nodeType)return e;if(e&&window.jQuery&&(e instanceof jQuery||"jquery"in Object(e))&&0!==e.length)return e[0];if("string"==typeof e&&document.getElementById(e))return document.getElementById(e);throw new Error(t)}t.exports={normalizeElement:i}},{}],18:[function(e,t,n){"use strict";function i(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function a(e){e.preventDefault?e.preventDefault():e.returnValue=!1}t.exports={addEventListener:i,removeEventListener:r,preventDefault:a}},{}],19:[function(e,t,n){"use strict";function i(e){return"[object Function]"===a.call(e)}function r(e,t){return function(){return e.apply(t,arguments)}}var a=Object.prototype.toString;t.exports={bind:r,isFunction:i}},{}],20:[function(e,t,n){"use strict";function i(e){var t,n,i,r,a=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(r=a.length,e=e||window.innerWidth,n=0;r>n;n++)i=a[n],e>=i.min&&i.max>=e&&(t=i.chars);return t||60}function r(e,t){var n,i;return-1===e.indexOf("@")?e:(e=e.split("@"),n=e[0],i=e[1],n.length>t&&(n=n.slice(0,t)+"..."),i.length>t&&(i="..."+i.slice(-t)),n+"@"+i)}t.exports={truncateEmail:r,getMaxCharLength:i}},{}],21:[function(e,t,n){"use strict";function i(){return"https:"===window.location.protocol}function r(e){switch(e){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(e)}}function a(e,t){var n,i,o=[];for(i in e)if(e.hasOwnProperty(i)){var s=e[i];n=t?t+"["+i+"]":i,"object"==typeof s?o.push(a(s,n)):void 0!==s&&null!==s&&o.push(r(n)+"="+r(s))}return o.join("&")}function o(e){for(var t={},n=e.split("&"),i=0;n.length>i;i++){var r=n[i].split("="),a=r[0],o=decodeURIComponent(r[1]);t[a]=o}return t}function s(e){var t=e.split("?");return 2!==t.length?{}:o(t[1])}function l(e){if(e=e.toLowerCase(),!/^http/.test(e))return!1;c.href=e;var t=c.hostname.split("."),n=t.slice(-2).join(".");return-1===u.indexOf(h,n)?!1:!0}var u=e(15),c=document.createElement("a"),h=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];t.exports={isBrowserHttps:i,makeQueryString:a,decodeQueryString:o,getParams:s,isWhitelistedDomain:l}},{15:15}],22:[function(e,t,n){"use strict";function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}t.exports=i},{}],23:[function(e,t,n){var i=e(17),r=e(21),a=e(19),o=e(18),s=e(20),l=e(15),u=e(16),c=e(22);t.exports={string:s,array:l,normalizeElement:i.normalizeElement,isBrowserHttps:r.isBrowserHttps,makeQueryString:r.makeQueryString,decodeQueryString:r.decodeQueryString,getParams:r.getParams,isWhitelistedDomain:r.isWhitelistedDomain,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,preventDefault:o.preventDefault,bind:a.bind,isFunction:a.isFunction,base64ToUtf8:u.decodeUtf8,uuid:c}},{15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22}],24:[function(e,t,n){"use strict";function i(e,t){var n=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return n[t]}function r(){return{html:{height:o.style.height||"",overflow:i(o,"overflow"),position:i(o,"position")},body:{height:s.style.height||"",overflow:i(s,"overflow")}}}function a(e,t){this.assetsUrl=e,this.container=t||document.body,this.iframe=null,o=document.documentElement,s=document.body,this.merchantPageDefaultStyles=r()}var o,s,l=e(23),u=e(146),c=e(31),h="1.3.3";a.prototype.get=function(e,t){var n=this,i=this.constructAuthorizationURL(e);this.container&&u(this.container)?this.container(i+"&no_style=1"):this.insertIframe(i),new c(function(e){u(n.container)||n.removeIframe(),t(e)})},a.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},a.prototype.insertIframe=function(e){var t=document.createElement("iframe");if(t.src=e,this.applyStyles(t),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(t);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(t);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(t)}this.iframe=t},a.prototype.applyStyles=function(e){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.setAttribute("frameborder","0"),e.setAttribute("allowTransparency","true"),e.style.border="0",e.style.zIndex="99999"},a.prototype.lockMerchantWindowSize=function(){o.style.overflow="hidden",s.style.overflow="hidden",s.style.height="100%"},a.prototype.unlockMerchantWindowSize=function(){var e=this.merchantPageDefaultStyles;s.style.height=e.body.height,s.style.overflow=e.body.overflow,o.style.overflow=e.html.overflow},a.prototype.constructAuthorizationURL=function(e){var t,n=window.location.href;return n.indexOf("#")>-1&&(n=n.split("#")[0]),t=l.makeQueryString({acsUrl:e.acsUrl,pareq:e.pareq,termUrl:e.termUrl+"&three_d_secure_version="+h,md:e.md,parentUrl:n}),this.assetsUrl+"/3ds/"+h+"/html/style_frame?"+t},t.exports=a},{146:146,23:23,31:31}],25:[function(e,t,n){"use strict";function i(){}function r(e,t){t=t||{},this.clientToken=t.clientToken,this.container=t.container,this.api=e,this.nonce=null,this._loader=null,this._boundHandleUserClose=o(this._handleUserClose,this)}var a=e(23),o=e(87),s=e(146),l=e(24),u=e(27);r.prototype.verify=function(e,t){if(!s(t))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");s(e.onUserClose)&&(this._onUserClose=e.onUserClose),s(e.onLookupComplete)&&(this._onLookupComplete=e.onLookupComplete),(void 0===e.useDefaultLoader||e.useDefaultLoader===!0)&&this._createDefaultLoader();var n={nonce:"",amount:e.amount},i=e.creditCard;if("string"==typeof i)n.nonce=i,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(n,t);else{var r=this,a=function(e,i){return e?(r._removeDefaultLoader(),t(e)):(n.nonce=i,void r.startVerification(n,t))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(i,a)}},r.prototype.startVerification=function(e,t){this.api.lookup3DS(e,o(this.handleLookupResponse(t),this))},r.prototype.handleLookupResponse=function(e){var t=this;return function(n,i){var r;this._onLookupComplete(),n?e(n.error):i.lookup&&i.lookup.acsUrl&&i.lookup.acsUrl.length>0?(t.nonce=i.paymentMethod.nonce,r=new l(this.clientToken.assetsUrl,this.container),r.get(i.lookup,o(this.handleAuthenticationResponse(e),this)),this._detachListeners(),this._attachListeners()):(t.nonce=i.paymentMethod.nonce,e(null,{nonce:t.nonce,verificationDetails:i.threeDSecureInfo}))}},r.prototype.handleAuthenticationResponse=function(e){return function(t){var n,i=a.decodeQueryString(t);i.user_closed||(n=JSON.parse(i.auth_response),n.success?e(null,{nonce:n.paymentMethod.nonce,verificationDetails:n.threeDSecureInfo}):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?e(null,{nonce:this.nonce,verificationDetails:n.threeDSecureInfo}):e(n.error))}},r.prototype._attachListeners=function(){a.addEventListener(window,"message",this._boundHandleUserClose)},r.prototype._detachListeners=function(){a.removeEventListener(window,"message",this._boundHandleUserClose)},r.prototype._createDefaultLoader=function(){this._loader=new u,document.body.appendChild(this._loader.getElement())},r.prototype._removeDefaultLoader=function(){if(this._loader){var e=this._loader.getElement(),t=e.parentNode;t&&t.removeChild(e),this._loader.dispose(),this._loader=null}},r.prototype._handleUserClose=function(e){"user_closed=true"===e.data&&this._onUserClose()},r.prototype._onUserClose=i,r.prototype._onLookupComplete=function(){this._removeDefaultLoader()},t.exports=r},{146:146,23:23,24:24,27:27,87:87}],26:[function(e,t,n){"use strict";var i=e(25);t.exports={create:function(e,t){
var n=new i(e,t);return n}}},{25:25}],27:[function(e,t,n){"use strict";function i(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._display=null,this._initialize()}var r=e(28),a=e(29),o=e(30);i.prototype._cssDeclarations=["filter:progid:DXImageTransform.Microsoft.Gradient(StartColorStr=#7F000000, EndColorStr=#7F000000)","background-color: rgba(0, 0, 0, 0.5)","display: table","height: 100%","left: 0","position: fixed","right: 0","top: 0","width: 100%","z-index: 99999"].join(";"),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._display.dispose(),this._display=null,this._element=null},i.prototype._initialize=function(){var e=new o,t=window.SVGElement&&window.SVGAnimateElement&&window.SVGAnimateTransformElement;t||(e=new a("Loading...")),this._display=new r(e),this.getElement().appendChild(this._display.getElement())},t.exports=i},{28:28,29:29,30:30}],28:[function(e,t,n){"use strict";function i(e){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._displayObject=e,this._initialize()}i.prototype._cssDeclarations=["display: table-cell","vertical-align: middle"].join(";"),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._displayObject.dispose(),this._displayObject=null,this._element=null},i.prototype._initialize=function(){this.getElement().appendChild(this._displayObject.getElement())},t.exports=i},{}],29:[function(e,t,n){"use strict";function i(e){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=e}i.prototype._cssDeclarations=["color: #fff","font-family: Helvetica, sans-serif","font-size: 12px","text-align: center"].join(";"),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._element=null},t.exports=i},{}],30:[function(e,t,n){"use strict";function i(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=this._markup}i.prototype._cssDeclarations=["height: 36px","margin-left: auto","margin-right: auto","width: 36px"].join(";"),i.prototype._markup=['<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"','width="100%" height="100%" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">','  <path fill="#FFF" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">','    <animateTransform attributeType="xml"','    attributeName="transform"','    type="rotate"','    from="0 25 25"','    to="360 25 25"','    dur="780ms"','    repeatCount="indefinite"','    calcMode="spline"','    keySplines="0.44, 0.22, 0, 1"','    keyTimes="0;1"/>',"  </path>","</svg>"].join(""),i.prototype.getElement=function(){return this._element},i.prototype.dispose=function(){this._element=null},t.exports=i},{}],31:[function(e,t,n){"use strict";function i(e){this.postMessageReceiver(e),this.hashChangeReceiver(e)}var r=e(23);i.prototype.postMessageReceiver=function(e){var t=this;this.wrappedCallback=function(n){var i=n.data;(/^(auth_response=)/.test(i)||"user_closed=true"===i)&&(e(i),t.stopListening())},r.addEventListener(window,"message",this.wrappedCallback)},i.prototype.hashChangeReceiver=function(e){var t,n=window.location.hash,i=this;this.poll=setInterval(function(){t=window.location.hash,t.length>0&&t!==n&&(i.stopListening(),t=t.substring(1,t.length),e(t),n.length>0?window.location.hash=n:window.location.hash="")},10)},i.prototype.stopListening=function(){clearTimeout(this.poll),r.removeEventListener(window,"message",this.wrappedCallback)},t.exports=i},{23:23}],32:[function(e,t,n){(function(n){"use strict";function i(){return h?new XMLHttpRequest:new XDomainRequest}function r(e,t,n,i,r){var a=s.createURLParams(e,t);o("GET",a,null,n,i,r)}function a(e,t,n,i,r){o("POST",e,t,n,i,r)}function o(e,t,n,r,a,o){var s,d,p=i();a=a||function(){},h?p.onreadystatechange=function(){4===p.readyState&&(s=p.status,d=u(p.responseText),s>=400||0===s?a.call(null,d||{errors:c.errors.UNKNOWN_ERROR},null):s>0&&a.call(null,null,r(d)))}:(p.onload=function(){a.call(null,null,r(u(p.responseText)))},p.onerror=function(){a.call(null,p.responseText,null)},p.onprogress=function(){},p.ontimeout=function(){a.call(null,{errors:c.errors.UNKNOWN_ERROR},null)}),p.open(e,t,!0),p.timeout=null==o?6e4:o,h&&"POST"===e&&p.setRequestHeader("Content-Type","application/json"),setTimeout(function(){p.send(l(e,n))},0)}var s=e(39),l=e(38),u=e(37),c=e(34),h=n.XMLHttpRequest&&"withCredentials"in new n.XMLHttpRequest;t.exports={get:r,post:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{34:34,37:37,38:38,39:39}],33:[function(e,t,n){"use strict";function i(e){var t=o.getUserAgent(),n=!(o.isHTTP()&&/(MSIE\s(8|9))|(Phantom)/.test(t));return e=e||{},e.enableCORS&&n?a:r}var r=e(35),a=e(32),o=e(39);t.exports=i},{32:32,35:35,39:39}],34:[function(e,t,n){t.exports={errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"}}},{}],35:[function(e,t,n){"use strict";function i(e,t){return e.status>=400?[e,null]:[null,t(e)]}function r(){}function a(e,t,n,a,o,s){var l;o=o||r,null==s&&(s=6e4),l=a(e,t,function(e,t,r){c[r]&&(clearTimeout(c[r]),e?o.call(null,e):o.apply(null,i(t,function(e){return n(e)})))}),"number"==typeof s?c[l]=setTimeout(function(){c[l]=null,o.apply(null,[{errors:u.errors.UNKNOWN_ERROR},null])},s):o.apply(null,[{errors:u.errors.INVALID_TIMEOUT},null])}function o(e,t,n,i,r){t._method="POST",a(e,t,n,l.get,i,r)}function s(e,t,n,i,r){a(e,t,n,l.get,i,r)}var l=e(36),u=e(34),c=[];t.exports={get:s,post:o}},{34:34,36:36}],36:[function(e,t,n){(function(n){"use strict";function i(e,t){var n=document.createElement("script"),i=!1;n.src=e,n.async=!0;var r=t||u.error;"function"==typeof r&&(n.onerror=function(t){r({url:e,event:t})}),n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},o||(o=document.getElementsByTagName("head")[0]),o.appendChild(n)}function r(e,t,n,r){var a,o;return r=r||u.callbackName||"callback",o=r+"_json"+s.generateUUID(),t[r]=o,a=s.createURLParams(e,t),l[o]=function(e){n(null,e,o);try{delete l[o]}catch(t){}l[o]=null},i(a,function(e){n(e,null,o)}),o}function a(e){u=e}var o,s=e(39),l=n,u={};t.exports={get:r,init:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{39:39}],37:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(t){}return e}},{}],38:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],39:[function(e,t,n){(function(e){"use strict";function n(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(e,t){var n,a,o,s=[];for(o in e)e.hasOwnProperty(o)&&(a=e[o],n=t?i(e)?t+"[]":t+"["+o+"]":o,s.push("object"==typeof a?r(a,n):encodeURIComponent(n)+"="+encodeURIComponent(a)));return s.join("&")}function a(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random()),n="x"===e?t:3&t|8;return n.toString(16)})}function o(e,t){return e=e||"",null!=t&&"object"==typeof t&&n(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=r(t)),e}function s(){return e.navigator.userAgent}function l(){return"http:"===e.location.protocol}t.exports={isArray:i,generateUUID:a,stringify:r,createURLParams:o,getUserAgent:s,isHTTP:l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){"use strict";var i=e(32),r=e(35),a=e(33),o=e(39);t.exports={AJAXDriver:i,JSONPDriver:r,chooseDriver:a,util:o}},{32:32,33:33,35:35,39:39}],41:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15}],42:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],43:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17}],44:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18}],45:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19}],46:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],47:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21,41:41}],48:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],49:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48}],50:[function(e,t,n){"use strict";function i(e,t){this.host=e||window,this.channel=t||null,this.handlers=[],r.addEventListener(this.host,"message",r.bind(this.receive,this))}var r=e(64);i.prototype.receive=function(e){var t,n,r,a;try{r=JSON.parse(e.data)}catch(o){return}for(a=r.type,n=new i.Message(this,e.source,r.data),t=0;this.handlers.length>t;t++)this.handlers[t].type===a&&this.handlers[t].handler(n)},i.prototype.send=function(e,t,n){try{e.postMessage(JSON.stringify({type:this._namespaceEvent(t),data:n}),"*")}catch(i){}},i.prototype.register=function(e,t){this.handlers.push({type:this._namespaceEvent(e),handler:t})},i.prototype.unregister=function(e,t){for(var n=this.handlers.length-1;n>=0;n--)if(this.handlers[n].type===e&&this.handlers[n].handler===t)return this.handlers.splice(n,1)},i.prototype._namespaceEvent=function(e){return this.channel?["braintree",this.channel,e].join(":"):e},i.Message=function(e,t,n){this.bus=e,this.source=t,this.content=n},i.Message.prototype.reply=function(e,t){this.bus.send(this.source,e,t)},t.exports=i},{64:64}],51:[function(e,t,n){"use strict";function i(e,t){this.bus=e,this.target=t,this.handlers=[],this.bus.register("publish",r.bind(this._handleMessage,this))}var r=e(64);i.prototype._handleMessage=function(e){var t,n=e.content,i=this.handlers[n.channel];if("undefined"!=typeof i)for(t=0;i.length>t;t++)i[t](n.data)},i.prototype.publish=function(e,t){this.bus.send(this.target,"publish",{channel:e,data:t})},i.prototype.subscribe=function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)},i.prototype.unsubscribe=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;i.length>n;n++)i[n]===t&&i.splice(n,1)},t.exports=i},{64:64}],52:[function(e,t,n){"use strict";function i(e){this.bus=e,this.frames=[],this.handlers=[]}i.prototype.subscribe=function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)},i.prototype.registerFrame=function(e){this.frames.push(e)},i.prototype.unregisterFrame=function(e){for(var t=0;this.frames.length>t;t++)this.frames[t]===e&&this.frames.splice(t,1)},i.prototype.publish=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;i.length>n;n++)i[n](t);for(n=0;this.frames.length>n;n++)this.bus.send(this.frames[n],"publish",{channel:e,data:t})},i.prototype.unsubscribe=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;i.length>n;n++)i[n]===t&&i.splice(n,1)},t.exports=i},{}],53:[function(e,t,n){"use strict";function i(e,t){this.bus=e,this.target=t||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",r.bind(this._handleResponse,this))}var r=e(64);i.prototype._handleResponse=function(e){var t=e.content,n=this.callbacks[t.id];"function"==typeof n&&(n.apply(null,t.response),delete this.callbacks[t.id])},i.prototype.invoke=function(e,t,n){var i=this.counter++;this.callbacks[i]=n,this.bus.send(this.target,"rpc_request",{id:i,method:e,args:t})},t.exports=i},{64:64}],54:[function(e,t,n){"use strict";function i(e){this.bus=e,this.methods={},this.bus.register("rpc_request",r.bind(this._handleRequest,this))}var r=e(64);i.prototype._handleRequest=function(e){var t,n=e.content,i=n.args||[],r=this.methods[n.method];"function"==typeof r&&(t=function(){e.reply("rpc_response",{id:n.id,response:Array.prototype.slice.call(arguments)})},i.push(t),r.apply(null,i))},i.prototype.reset=function(){this.methods={}},i.prototype.define=function(e,t){this.methods[e]=t},t.exports=i},{64:64}],55:[function(e,t,n){var i=e(50),r=e(51),a=e(52),o=e(53),s=e(54);t.exports={MessageBus:i,PubsubClient:r,PubsubServer:a,RPCClient:o,RPCServer:s}},{50:50,51:51,52:52,53:53,54:54}],56:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15}],57:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],58:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17}],59:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18}],60:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19}],61:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],62:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21,56:56}],63:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],64:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63}],65:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{15:15}],66:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{16:16}],67:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{17:17}],68:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{18:18}],69:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19}],70:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],71:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21,65:65}],72:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{22:22}],73:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{23:23,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72}],74:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);var t,n=a(e.className).split(/\s+/);for(this._elem=e,this.length=0,t=0;n.length>t;t+=1)n[t]&&o.push.call(this,n[t])}t.exports=i;var r=e(75),a=e(76),o=Array.prototype;i.prototype.add=function(){var e,t;for(t=0;t<arguments.length;t+=1)e=""+arguments[t],r(this,e)>=0||o.push.call(this,e);return this._elem.className=this.toString(),this},i.prototype.remove=function(){var e,t,n;for(n=0;n<arguments.length;n+=1)t=""+arguments[n],e=r(this,t),0>e||o.splice.call(this,e,1);return this._elem.className=this.toString(),this},i.prototype.contains=function(e){return e+="",r(this,e)>=0},i.prototype.toggle=function(e,t){return e+="",t===!0?this.add(e):t===!1?this.remove(e):this[this.contains(e)?"remove":"add"](e)},i.prototype.toString=function(){return o.join.call(this," ")}},{75:75,76:76}],75:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;++n)if(e[n]===t)return n;return-1}},{}],76:[function(e,t,n){function i(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=i,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],77:[function(e,t,n){"use strict";function i(){this._teardownRegistry=[]}var r=e(78),a=e(79);i.prototype.registerFunctionForTeardown=function(e){a.isFunction(e)&&this._teardownRegistry.push(e)},i.prototype.teardown=function(e){r(this._teardownRegistry,a.bind(function(t){this._teardownRegistry=[],a.isFunction(e)&&e(t)},this))},t.exports=i},{78:78,79:79}],78:[function(e,t,n){"use strict";function i(e,t){var n,i=0===e.length;i?(e(),t(null)):(n=r(t),e(n))}function r(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}t.exports=function(e,t){var n=e.length,r=n;if(0===n)return void t(null);for(var a=0;n>a;a++)i(e[a],function(e){return e?void t(e):(r-=1,void(0===r&&t(null)))})}},{}],79:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{19:19}],80:[function(e,t,n){(function(e){"use strict";function n(e){if(("string"==typeof e||e instanceof String)&&(e=document.getElementById(e)),!(e instanceof HTMLFormElement))throw new TypeError("FormNapper requires an HTMLFormElement element or the id string of one.");this.htmlForm=e}n.prototype.hijack=function(t){this.submitHandler||(this.submitHandler=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,t(e)},null!=e.addEventListener?this.htmlForm.addEventListener("submit",this.submitHandler,!1):null!=e.attachEvent?this.htmlForm.attachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=this.submitHandler)},n.prototype.inject=function(e,t){var n=this.htmlForm.querySelector('input[name="'+e+'"]');return null==n&&(n=document.createElement("input"),n.type="hidden",n.name=e,this.htmlForm.appendChild(n)),n.value=t,n},n.prototype.submit=function(){HTMLFormElement.prototype.submit.call(this.htmlForm)},n.prototype.detach=function(){this.submitHandler&&(null!=e.removeEventListener?this.htmlForm.removeEventListener("submit",this.submitHandler,!1):null!=e.detachEvent?this.htmlForm.detachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=null,delete this.submitHandler)},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(t,n,i){"use strict";!function(t,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof e&&e.amd?e([],r):t.framebus=r()}(this,function(){function e(e){return null==e?!1:null==e.Window?!1:e.constructor!==e.Window?!1:(_.push(e),!0)}function t(e){var t,n={};for(t in b)b.hasOwnProperty(t)&&(n[t]=b[t]);return n._origin=e||"*",n}function n(e){var t,n,i=a(this);return o(e)?!1:o(i)?!1:(n=Array.prototype.slice.call(arguments,1),t=s(e,n,i),t===!1?!1:(f(y.top,t,i),!0))}function i(e,t){var n=a(this);return v(e,t,n)?!1:(w[n]=w[n]||{},w[n][e]=w[n][e]||[],w[n][e].push(t),!0)}function r(e,t){var n,i,r=a(this);if(v(e,t,r))return!1;if(i=w[r]&&w[r][e],!i)return!1;for(n=0;i.length>n;n++)if(i[n]===t)return i.splice(n,1),!0;return!1}function a(e){return e&&e._origin||"*"}function o(e){return"string"!=typeof e}function s(e,t,n){var i=!1,r={event:e,origin:n},a=t[t.length-1];"function"==typeof a&&(r.reply=g(a,n),t=t.slice(0,-1)),r.args=t;try{i=x+JSON.stringify(r)}catch(o){throw new Error("Could not stringify event: "+o.message)}return i}function l(e){var t,n,i,r;if(e.data.slice(0,x.length)!==x)return!1;try{t=JSON.parse(e.data.slice(x.length))}catch(a){return!1}return null!=t.reply&&(n=e.origin,i=e.source,r=t.reply,t.reply=function(e){var t=s(r,[e],n);return t===!1?!1:void i.postMessage(t,n)},t.args.push(t.reply)),t}function u(e){y||(y=e||window,y.addEventListener?y.addEventListener("message",h,!1):y.attachEvent?y.attachEvent("onmessage",h):null===y.onmessage?y.onmessage=h:y=null)}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function h(e){var t;o(e.data)||(t=l(e),t&&(d("*",t.event,t.args,e),d(e.origin,t.event,t.args,e),m(e.data,t.origin,e.source)))}function d(e,t,n,i){var r;if(w[e]&&w[e][t])for(r=0;w[e][t].length>r;r++)w[e][t][r].apply(i,n)}function p(e){return e.top!==e?!1:null==e.opener?!1:e.opener===e?!1:e.opener.closed===!0?!1:!0}function f(e,t,n){var i;try{for(e.postMessage(t,n),p(e)&&f(e.opener.top,t,n),i=0;e.frames.length>i;i++)f(e.frames[i],t,n)}catch(r){}}function m(e,t,n){var i,r;for(i=_.length-1;i>=0;i--)r=_[i],r.closed===!0?_=_.slice(i,1):n!==r&&f(r.top,e,t)}function g(e,t){function n(r,a){e(r,a),b.target(t).unsubscribe(i,n)}var i=c();return b.target(t).subscribe(i,n),i}function v(e,t,n){return o(e)?!0:"function"!=typeof t?!0:o(n)?!0:!1}var y,b,_=[],w={},x="/*framebus*/";return u(),b={target:t,include:e,publish:n,pub:n,trigger:n,emit:n,subscribe:i,sub:i,on:i,unsubscribe:r,unsub:r,off:r}})},{}],82:[function(e,t,n){"use strict";var i=e(150),r=e(149),a=e(84),o=e(83);t.exports=function(e){var t=document.createElement("iframe"),n=i({},o,e);return n.style&&!r(n.style)&&(i(t.style,n.style),delete n.style),a(t,n),t.getAttribute("id")||(t.id=t.name),t}},{149:149,150:150,83:83,84:84}],83:[function(e,t,n){t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],84:[function(e,t,n){t.exports=function(e,t){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],null==n?e.removeAttribute(i):e.setAttribute(i,n))}},{}],85:[function(e,t,n){function i(e){if(l(e)&&!s(e)&&!(e instanceof r)){if(e instanceof a)return e;if(h.call(e,"__chain__")&&h.call(e,"__wrapped__"))return u(e)}return new a(e)}var r=e(92),a=e(93),o=e(107),s=e(145),l=e(133),u=e(142),c=Object.prototype,h=c.hasOwnProperty;i.prototype=o.prototype,t.exports=i},{107:107,133:133,142:142,145:145,92:92,93:93}],86:[function(e,t,n){var i=e(124),r=i(Date,"now"),a=r||function(){return(new Date).getTime()};t.exports=a},{124:124}],87:[function(e,t,n){var i=e(120),r=e(138),a=e(91),o=1,s=32,l=a(function(e,t,n){var a=o;if(n.length){var u=r(n,l.placeholder);a|=s}return i(e,a,t,n,u)});l.placeholder={},t.exports=l},{120:120,138:138,91:91}],88:[function(e,t,n){var i=e(103),r=e(120),a=e(152),o=e(91),s=1,l=o(function(e,t){t=t.length?i(t):a(e);for(var n=-1,o=t.length;++n<o;){var l=t[n];e[l]=r(e[l],s,e)}return e});t.exports=l},{103:103,120:120,152:152,91:91}],89:[function(e,t,n){function i(e,t,n){function i(){v&&clearTimeout(v),p&&clearTimeout(p),b=0,p=v=y=void 0}function l(t,n){n&&clearTimeout(n),p=v=y=void 0,t&&(b=a(),f=e.apply(g,d),v||p||(d=g=void 0))}function u(){var e=t-(a()-m);0>=e||e>t?l(y,p):v=setTimeout(u,e)}function c(){l(w,v)}function h(){if(d=arguments,m=a(),g=this,y=w&&(v||!x),_===!1)var n=x&&!v;else{p||x||(b=m);var i=_-(m-b),r=0>=i||i>_;r?(p&&(p=clearTimeout(p)),b=m,f=e.apply(g,d)):p||(p=setTimeout(c,i))}return r&&v?v=clearTimeout(v):v||t===_||(v=setTimeout(u,t)),n&&(r=!0,f=e.apply(g,d)),!r||v||p||(d=g=void 0),f}var d,p,f,m,g,v,y,b=0,_=!1,w=!0;if("function"!=typeof e)throw new TypeError(o);if(t=0>t?0:+t||0,n===!0){var x=!0;w=!1}else r(n)&&(x=!!n.leading,_="maxWait"in n&&s(+n.maxWait||0,t),w="trailing"in n?!!n.trailing:w);return h.cancel=i,h}var r=e(148),a=e(86),o="Expected a function",s=Math.max;t.exports=i},{148:148,86:86}],90:[function(e,t,n){var i=e(102),r=e(91),a=r(function(e,t){return i(e,1,t)});t.exports=a},{102:102,91:91}],91:[function(e,t,n){function i(e,t){if("function"!=typeof e)throw new TypeError(r);return t=a(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=a(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=o,e.apply(this,s)}}var r="Expected a function",a=Math.max;t.exports=i},{}],92:[function(e,t,n){function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}var r=e(101),a=e(107),o=Number.POSITIVE_INFINITY;i.prototype=r(a.prototype),i.prototype.constructor=i,t.exports=i},{101:101,107:107}],93:[function(e,t,n){function i(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}var r=e(101),a=e(107);i.prototype=r(a.prototype),i.prototype.constructor=i,t.exports=i},{101:101,107:107}],94:[function(e,t,n){function i(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=i},{}],95:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],96:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}t.exports=i},{}],97:[function(e,t,n){function i(e,t,n){for(var i=-1,a=r(t),o=a.length;++i<o;){var s=a[i],l=e[s],u=n(l,t[s],s,e,t);(u===u?u===l:l!==l)&&(void 0!==l||s in e)||(e[s]=u)}return e}var r=e(153);t.exports=i},{153:153}],98:[function(e,t,n){function i(e,t){return null==t?e:r(t,a(t),e)}var r=e(100),a=e(153);t.exports=i},{100:100,153:153}],99:[function(e,t,n){function i(e,t,n,f,m,g,v){var b;if(n&&(b=m?n(e,f,m):n(e)),void 0!==b)return b;if(!d(e))return e;var _=h(e);if(_){if(b=l(e),!t)return r(e,b)}else{var x=L.call(e),k=x==y;if(x!=w&&x!=p&&(!k||m))return R[x]?u(e,x,t):m?e:{};if(b=c(k?{}:e),!t)return o(b,e)}g||(g=[]),v||(v=[]);for(var C=g.length;C--;)if(g[C]==e)return v[C];return g.push(e),v.push(b),(_?a:s)(e,function(r,a){b[a]=i(r,t,n,a,e,g,v)}),b}var r=e(94),a=e(95),o=e(98),s=e(105),l=e(125),u=e(126),c=e(127),h=e(145),d=e(148),p="[object Arguments]",f="[object Array]",m="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",b="[object Map]",_="[object Number]",w="[object Object]",x="[object RegExp]",k="[object Set]",C="[object String]",E="[object WeakMap]",T="[object ArrayBuffer]",A="[object Float32Array]",S="[object Float64Array]",D="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",M="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",F="[object Uint32Array]",R={};R[p]=R[f]=R[T]=R[m]=R[g]=R[A]=R[S]=R[D]=R[N]=R[P]=R[_]=R[w]=R[x]=R[C]=R[M]=R[I]=R[O]=R[F]=!0,R[v]=R[y]=R[b]=R[k]=R[E]=!1;var $=Object.prototype,L=$.toString;t.exports=i},{105:105,125:125,126:126,127:127,145:145,148:148,94:94,95:95,98:98}],100:[function(e,t,n){function i(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var a=t[i];n[a]=e[a]}return n}t.exports=i},{}],101:[function(e,t,n){var i=e(148),r=function(){function e(){}return function(t){if(i(t)){e.prototype=t;var n=new e;e.prototype=void 0}return n||{}}}();t.exports=r},{148:148}],102:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}var r="Expected a function";t.exports=i},{}],103:[function(e,t,n){function i(e,t,n,u){u||(u=[]);for(var c=-1,h=e.length;++c<h;){var d=e[c];l(d)&&s(d)&&(n||o(d)||a(d))?t?i(d,t,n,u):r(u,d):n||(u[u.length]=d)}return u}var r=e(96),a=e(144),o=e(145),s=e(128),l=e(133);t.exports=i},{128:128,133:133,144:144,145:145,96:96}],104:[function(e,t,n){var i=e(115),r=i();t.exports=r},{115:115}],105:[function(e,t,n){function i(e,t){return r(e,t,a)}var r=e(104),a=e(153);t.exports=i},{104:104,153:153}],106:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,a=-1,o=[];++n<i;){var s=t[n];r(e[s])&&(o[++a]=s)}return o}var r=e(146);t.exports=i},{146:146}],107:[function(e,t,n){function i(){}t.exports=i},{}],108:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],109:[function(e,t,n){var i=e(155),r=e(135),a=r?function(e,t){return r.set(e,t),e}:i;t.exports=a},{135:135,155:155}],110:[function(e,t,n){function i(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)};case 5:return function(n,i,r,a,o){return e.call(t,n,i,r,a,o)}}return function(){return e.apply(t,arguments)}}var r=e(155);t.exports=i},{155:155}],111:[function(e,t,n){(function(e){function n(e){var t=new i(e.byteLength),n=new r(t);return n.set(new r(e)),t}var i=e.ArrayBuffer,r=e.Uint8Array;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],112:[function(e,t,n){function i(e,t,n){for(var i=n.length,a=-1,o=r(e.length-i,0),s=-1,l=t.length,u=Array(l+o);++s<l;)u[s]=t[s];for(;++a<i;)u[n[a]]=e[a];for(;o--;)u[s++]=e[a++];return u}var r=Math.max;t.exports=i},{}],113:[function(e,t,n){function i(e,t,n){for(var i=-1,a=n.length,o=-1,s=r(e.length-a,0),l=-1,u=t.length,c=Array(s+u);++o<s;)c[o]=e[o];for(var h=o;++l<u;)c[h+l]=t[l];for(;++i<a;)c[h+n[i]]=e[o++];return c}var r=Math.max;t.exports=i},{}],114:[function(e,t,n){function i(e){return o(function(t,n){var i=-1,o=null==t?0:n.length,s=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,u=o>1?n[o-1]:void 0;for("function"==typeof s?(s=r(s,u,5),o-=2):(s="function"==typeof u?u:void 0,o-=s?1:0),l&&a(n[0],n[1],l)&&(s=3>o?void 0:s,o=1);++i<o;){var c=n[i];c&&e(t,c,s)}return t})}var r=e(110),a=e(130),o=e(91);t.exports=i},{110:110,130:130,91:91}],115:[function(e,t,n){function i(e){return function(t,n,i){for(var a=r(t),o=i(t),s=o.length,l=e?s:-1;e?l--:++l<s;){var u=o[l];if(n(a[u],u,a)===!1)break}return t}}var r=e(141);t.exports=i},{141:141}],116:[function(e,t,n){(function(n){function i(e,t){function i(){var r=this&&this!==n&&this instanceof i?a:e;return r.apply(t,arguments)}var a=r(e);return i}var r=e(117);t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{117:117}],117:[function(e,t,n){function i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return a(i)?i:n}}var r=e(101),a=e(148);t.exports=i},{101:101,148:148}],118:[function(e,t,n){(function(n){function i(e,t,w,x,k,C,E,T,A,S){function D(){for(var f=arguments.length,m=f,g=Array(f);m--;)g[m]=arguments[m];if(x&&(g=a(g,x,k)),C&&(g=o(g,C,E)),I||F){var b=D.placeholder,$=c(g,b);if(f-=$.length,S>f){var L=T?r(T):void 0,V=_(S-f,0),U=I?$:void 0,j=I?void 0:$,H=I?g:void 0,q=I?void 0:g;t|=I?v:y,t&=~(I?y:v),O||(t&=~(d|p));var B=[e,t,w,H,U,q,j,L,A,V],Y=i.apply(void 0,B);return l(e)&&h(Y,B),Y.placeholder=b,Y}}var z=P?w:this,W=M?z[e]:e;return T&&(g=u(g,T)),N&&g.length>A&&(g.length=A),this&&this!==n&&this instanceof D&&(W=R||s(e)),W.apply(z,g)}var N=t&b,P=t&d,M=t&p,I=t&m,O=t&f,F=t&g,R=M?void 0:s(e);return D}var r=e(94),a=e(112),o=e(113),s=e(117),l=e(131),u=e(137),c=e(138),h=e(139),d=1,p=2,f=4,m=8,g=16,v=32,y=64,b=128,_=Math.max;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{112:112,113:113,117:117,131:131,137:137,138:138,139:139,94:94}],119:[function(e,t,n){(function(n){function i(e,t,i,o){function s(){for(var t=-1,r=arguments.length,a=-1,c=o.length,h=Array(c+r);++a<c;)h[a]=o[a];for(;r--;)h[a++]=arguments[++t];var d=this&&this!==n&&this instanceof s?u:e;return d.apply(l?i:this,h)}var l=t&a,u=r(e);return s}var r=e(117),a=1;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{117:117}],120:[function(e,t,n){function i(e,t,n,i,v,y,b,_){var w=t&d;if(!w&&"function"!=typeof e)throw new TypeError(m);var x=i?i.length:0;if(x||(t&=~(p|f),i=v=void 0),x-=v?v.length:0,t&f){var k=i,C=v;i=v=void 0}var E=w?void 0:l(e),T=[e,t,n,i,v,k,C,y,b,_];if(E&&(u(T,E),t=T[1],_=T[9]),T[9]=null==_?w?0:e.length:g(_-x,0)||0,t==h)var A=a(T[0],T[2]);else A=t!=p&&t!=(h|p)||T[4].length?o.apply(void 0,T):s.apply(void 0,T);var S=E?r:c;return S(A,T)}var r=e(109),a=e(116),o=e(118),s=e(119),l=e(121),u=e(134),c=e(139),h=1,d=2,p=32,f=64,m="Expected a function",g=Math.max;t.exports=i},{109:109,116:116,118:118,119:119,121:121,134:134,139:139}],121:[function(e,t,n){var i=e(135),r=e(156),a=i?function(e){return i.get(e)}:r;t.exports=a},{135:135,156:156}],122:[function(e,t,n){function i(e){for(var t=e.name+"",n=r[t],i=n?n.length:0;i--;){var a=n[i],o=a.func;if(null==o||o==e)return a.name}return t}var r=e(136);t.exports=i},{136:136}],123:[function(e,t,n){var i=e(108),r=i("length");t.exports=r},{108:108}],124:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e(147);t.exports=i},{147:147}],125:[function(e,t,n){function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&a.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,a=r.hasOwnProperty;t.exports=i},{}],126:[function(e,t,n){function i(e,t,n){var i=e.constructor;switch(t){case c:return r(e);case a:case o:return new i(+e);case h:case d:case p:case f:case m:case g:case v:case y:case b:var w=e.buffer;return new i(n?r(w):w,e.byteOffset,e.length);
case s:case u:return new i(e);case l:var x=new i(e.source,_.exec(e));x.lastIndex=e.lastIndex}return x}var r=e(111),a="[object Boolean]",o="[object Date]",s="[object Number]",l="[object RegExp]",u="[object String]",c="[object ArrayBuffer]",h="[object Float32Array]",d="[object Float64Array]",p="[object Int8Array]",f="[object Int16Array]",m="[object Int32Array]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",_=/\w*$/;t.exports=i},{111:111}],127:[function(e,t,n){function i(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=i},{}],128:[function(e,t,n){function i(e){return null!=e&&a(r(e))}var r=e(123),a=e(132);t.exports=i},{123:123,132:132}],129:[function(e,t,n){function i(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?a:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,a=9007199254740991;t.exports=i},{}],130:[function(e,t,n){function i(e,t,n){if(!o(n))return!1;var i=typeof t;if("number"==i?r(n)&&a(t,n.length):"string"==i&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e(128),a=e(129),o=e(148);t.exports=i},{128:128,129:129,148:148}],131:[function(e,t,n){function i(e){var t=o(e),n=s[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var i=a(n);return!!i&&e===i[0]}var r=e(92),a=e(121),o=e(122),s=e(85);t.exports=i},{121:121,122:122,85:85,92:92}],132:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;t.exports=i},{}],133:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],134:[function(e,t,n){function i(e,t){var n=e[1],i=t[1],m=n|i,g=h>m,v=i==h&&n==c||i==h&&n==d&&t[8]>=e[7].length||i==(h|d)&&n==c;if(!g&&!v)return e;i&l&&(e[2]=t[2],m|=n&l?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?a(b,y,t[4]):r(y),e[4]=b?s(e[3],p):r(t[4])}return y=t[5],y&&(b=e[5],e[5]=b?o(b,y,t[6]):r(y),e[6]=b?s(e[5],p):r(t[6])),y=t[7],y&&(e[7]=r(y)),i&h&&(e[8]=null==e[8]?t[8]:f(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var r=e(94),a=e(112),o=e(113),s=e(138),l=1,u=4,c=8,h=128,d=256,p="__lodash_placeholder__",f=Math.min;t.exports=i},{112:112,113:113,138:138,94:94}],135:[function(e,t,n){(function(n){var i=e(124),r=i(n,"WeakMap"),a=r&&new r;t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{124:124}],136:[function(e,t,n){var i={};t.exports=i},{}],137:[function(e,t,n){function i(e,t){for(var n=e.length,i=o(t.length,n),s=r(e);i--;){var l=t[i];e[i]=a(l,n)?s[l]:void 0}return e}var r=e(94),a=e(129),o=Math.min;t.exports=i},{129:129,94:94}],138:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,a=-1,o=[];++n<i;)e[n]===t&&(e[n]=r,o[++a]=n);return o}var r="__lodash_placeholder__";t.exports=i},{}],139:[function(e,t,n){var i=e(109),r=e(86),a=150,o=16,s=function(){var e=0,t=0;return function(n,s){var l=r(),u=o-(l-t);if(t=l,u>0){if(++e>=a)return n}else e=0;return i(n,s)}}();t.exports=s},{109:109,86:86}],140:[function(e,t,n){function i(e){for(var t=l(e),n=t.length,i=n&&e.length,u=!!i&&s(i)&&(a(e)||r(e)),h=-1,d=[];++h<n;){var p=t[h];(u&&o(p,i)||c.call(e,p))&&d.push(p)}return d}var r=e(144),a=e(145),o=e(129),s=e(132),l=e(154),u=Object.prototype,c=u.hasOwnProperty;t.exports=i},{129:129,132:132,144:144,145:145,154:154}],141:[function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=e(148);t.exports=i},{148:148}],142:[function(e,t,n){function i(e){return e instanceof r?e.clone():new a(e.__wrapped__,e.__chain__,o(e.__actions__))}var r=e(92),a=e(93),o=e(94);t.exports=i},{92:92,93:93,94:94}],143:[function(e,t,n){function i(e,t,n){return"function"==typeof t?r(e,!0,a(t,n,3)):r(e,!0)}var r=e(99),a=e(110);t.exports=i},{110:110,99:99}],144:[function(e,t,n){function i(e){return a(e)&&r(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var r=e(128),a=e(133),o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;t.exports=i},{128:128,133:133}],145:[function(e,t,n){var i=e(124),r=e(132),a=e(133),o="[object Array]",s=Object.prototype,l=s.toString,u=i(Array,"isArray"),c=u||function(e){return a(e)&&r(e.length)&&l.call(e)==o};t.exports=c},{124:124,132:132,133:133}],146:[function(e,t,n){function i(e){return r(e)&&s.call(e)==a}var r=e(148),a="[object Function]",o=Object.prototype,s=o.toString;t.exports=i},{148:148}],147:[function(e,t,n){function i(e){return null==e?!1:r(e)?c.test(l.call(e)):a(e)&&o.test(e)}var r=e(146),a=e(133),o=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{133:133,146:146}],148:[function(e,t,n){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],149:[function(e,t,n){function i(e){return"string"==typeof e||r(e)&&s.call(e)==a}var r=e(133),a="[object String]",o=Object.prototype,s=o.toString;t.exports=i},{133:133}],150:[function(e,t,n){var i=e(97),r=e(98),a=e(114),o=a(function(e,t,n){return n?i(e,t,n):r(e,t)});t.exports=o},{114:114,97:97,98:98}],151:[function(e,t,n){function i(e,t,n){var i=a(e);return n&&o(e,t,n)&&(t=void 0),t?r(i,t):i}var r=e(98),a=e(101),o=e(130);t.exports=i},{101:101,130:130,98:98}],152:[function(e,t,n){function i(e){return r(e,a(e))}var r=e(106),a=e(154);t.exports=i},{106:106,154:154}],153:[function(e,t,n){var i=e(124),r=e(128),a=e(148),o=e(140),s=i(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?o(e):a(e)?s(e):[]}:o;t.exports=l},{124:124,128:128,140:140,148:148}],154:[function(e,t,n){function i(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(a(e)||r(e))&&t||0;for(var n=e.constructor,i=-1,u="function"==typeof n&&n.prototype===e,h=Array(t),d=t>0;++i<t;)h[i]=i+"";for(var p in e)d&&o(p,t)||"constructor"==p&&(u||!c.call(e,p))||h.push(p);return h}var r=e(144),a=e(145),o=e(129),s=e(132),l=e(148),u=Object.prototype,c=u.hasOwnProperty;t.exports=i},{129:129,132:132,144:144,145:145,148:148}],155:[function(e,t,n){function i(e){return e}t.exports=i},{}],156:[function(e,t,n){function i(){}t.exports=i},{}],157:[function(e,t,n){function i(e){try{return Array.prototype.slice.call(e)}catch(t){for(var n=[],i=0;e.length>i;i++)n.push(e[i]);return n}}"undefined"!=typeof t&&(t.exports=i)},{}],158:[function(e,t,n){"use strict";function i(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new Error("Channel ID must be specified");this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var r=e(81),a=e(160),o=e(159).checkOrigin;i.prototype.on=function(e,t){var n,i,a=t,s=this;this._isDestroyed||(this.merchantUrl&&(a=function(){o(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),i=Array.prototype.slice.call(arguments),i[0]=n,i[1]=a,this._log("on",i),r.on.apply(r,i),this._listeners.push({eventName:e,handler:a,originalHandler:t}))},i.prototype.emit=function(e){var t;this._isDestroyed||(t=Array.prototype.slice.call(arguments),t[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},i.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},i.prototype.off=function(e,t){var n,i,r=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;this._listeners.length>n;n++)i=this._listeners[n],i.originalHandler===t&&(r=i.handler);this._offDirect(e,r)}},i.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},i.prototype.teardown=function(){var e,t;for(t=0;this._listeners.length>t;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},i.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},i.events=a,t.exports=i},{159:159,160:160,81:81}],159:[function(e,t,n){"use strict";function i(e,t){var n,i,a=document.createElement("a");return a.href=t,i="https:"===a.protocol?a.host.replace(/:443$/,""):"http:"===a.protocol?a.host.replace(/:80$/,""):a.host,n=a.protocol+"//"+i,n===e||r.test(e)}var r=/^https:\/\/([a-zA-Z0-9-]+\.)*(braintreepayments|braintreegateway|paypal)\.com(:\d{1,5})?$/;t.exports={checkOrigin:i}},{}],160:[function(e,t,n){"use strict";var i,r,a=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_NOT_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ROOT_METADATA_REQUEST","ERROR","WARNING","UI_POPUP_DID_OPEN","UI_POPUP_DID_CLOSE","UI_POPUP_FORCE_CLOSE","UI_MODAL_DID_OPEN","UI_MODAL_DID_CLOSE","ASYNC_DEPENDENCY_INITIALIZING","ASYNC_DEPENDENCY_READY","USER_FORM_SUBMIT_REQUEST","SEND_ANALYTICS_EVENTS"],o={};for(i=0;a.length>i;i++)r=a[i],o[r]=r;t.exports=o},{}],161:[function(e,t,n){"use strict";function i(e){var t,n={};if(e){for(t in e)e.hasOwnProperty(t)&&(n[r(t)]=e[t]);return n}}function r(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}t.exports={convertToLegacyShippingAddress:i}},{}],162:[function(e,t,n){"use strict";t.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError",ROOT_READY_CALLBACK:"onReady",TEARDOWN_STATE:{IN_PROGRESS:"inProgress",COMPLETE:"complete"}}},{}],163:[function(e,t,n){(function(n){"use strict";function i(){}function r(e){e.paypal=e.paypal||{}}function a(){this._dependenciesRemaining++}function o(){this._dependenciesRemaining--,0===this._dependenciesRemaining&&(delete this._dependenciesRemaining,this.bus.off(c.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.off(c.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady),this._onIntegrationReady())}function s(e){this.configuration=e,this.isReady=!1,this.destructor=new h,this.bus=new c({channel:this.configuration.channel,merchantUrl:n.location.href}),this.apiClient=new u.Client(this.configuration),this._configureCallbacks(),this._configureAnalytics(),this._attachEvents(),this._emitInitializing()}var l=e(169).cloneAndStripDOM,u=e(14),c=e(158),h=e(77),d=e(87),p=e(162),f=e(174),m=e(172),g=e(170),v=e(188);s.prototype._emitInitializing=function(){this.bus.emit(c.events.ASYNC_DEPENDENCY_INITIALIZING)},s.prototype._configureCallbacks=function(){function e(e){return function(t){e(f(t))}}var t=m(this.configuration.merchantConfiguration);this.onSuccess=e(t(p.ROOT_SUCCESS_CALLBACK)),this.onError=t(p.ROOT_ERROR_CALLBACK,g),this.onReady=t(p.ROOT_READY_CALLBACK)},s.prototype._configureAnalytics=function(){var e="web."+this.configuration.integrationType+".",t=this.apiClient;this.bus.on(c.events.SEND_ANALYTICS_EVENTS,function(n,i){var r;for(n instanceof Array||(n=[n]),r=0;n.length>r;r++)n[r]=e+n[r];t.sendAnalyticsEvents(n,i)})},s.prototype._attachEvents=function(){var e=l(this.configuration);"dropin"===e.integrationType&&r(e.merchantConfiguration),this.bus.on(c.events.ERROR,this.onError),this.bus.on(c.events.PAYMENT_METHOD_RECEIVED,this.onSuccess),this.bus.on(c.events.WARNING,function(e){try{console.warn(e)}catch(t){}}),this.bus.on(c.events.CONFIGURATION_REQUEST,function(t){t(e)}),this._dependenciesRemaining=0,this._handleDependencyInitializing=d(a,this),this._handleDependencyReady=d(o,this),this.bus.on(c.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.on(c.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady)},s.prototype._addDeviceData=function(e){var t;if(null!=this.configuration.merchantConfiguration.dataCollector){try{t=v.setup(this.configuration.merchantConfiguration.dataCollector)}catch(n){this.bus.emit(c.events.ERROR,{type:"CONFIGURATION",message:n.message})}null!=t&&(this.destructor.registerFunctionForTeardown(function(){t.teardown()}),e.deviceData=t.deviceData)}},s.prototype.teardown=function(e){if(this.teardownState===p.TEARDOWN_STATE.IN_PROGRESS)throw new Error("Cannot call teardown while in progress");if(this.teardownState===p.TEARDOWN_STATE.COMPLETE)throw new Error("Cannot teardown integration more than once");this.teardownMerchantCallback=e||i,this.teardownState=p.TEARDOWN_STATE.IN_PROGRESS,this.destructor.teardown(d(this._handleTeardown,this))},s.prototype._handleTeardown=function(){this.bus.teardown(),this.teardownState=p.TEARDOWN_STATE.COMPLETE,this.teardownMerchantCallback()},s.prototype._wrapWithTeardownReply=function(e,t){var n=this;return function(){if(n.teardownState===p.TEARDOWN_STATE.IN_PROGRESS)throw new Error("Cannot call "+e+" while teardown is in progress");if(n.teardownState===p.TEARDOWN_STATE.COMPLETE)throw new Error("Cannot call "+e+" after teardown has completed");t()}},s.prototype._onIntegrationReady=function(e){this.returnedInstance=e||{},this.returnedInstance.teardown=d(this.teardown,this),this._addDeviceData(this.returnedInstance),this.isReady=!0,this.onReady(this.returnedInstance)},t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,158:158,162:162,169:169,170:170,172:172,174:174,188:188,77:77,87:87}],164:[function(e,t,n){"use strict";function i(){var e,t;u.apply(this,arguments),t=r(this.configuration),t.apiClient=this.apiClient,this._attachBusEvents(),e=s.create(t),null!=e&&this.destructor.registerFunctionForTeardown(function(t){e.teardown(t)}),this.bus.emit(l.events.ASYNC_DEPENDENCY_READY)}var r=e(169).cloneAndPreserveDOM,a=e(151),o=e(87),s=e(176),l=e(158),u=e(163);i.prototype=a(u.prototype,{constructor:i}),i.prototype._attachBusEvents=function(){this.bus.on(l.events.PAYMENT_METHOD_GENERATED,o(this._onPaymentMethodGenerated,this))},i.prototype._onPaymentMethodGenerated=function(e){this.bus.emit(l.events.PAYMENT_METHOD_RECEIVED,e)},t.exports=i},{151:151,158:158,163:163,169:169,176:176,87:87}],165:[function(e,t,n){"use strict";function i(){b.apply(this,arguments),null!=this.configuration.merchantConfiguration.hostedFields?this._setupHostedFields():this._setupForm(),this._setupPayPal(),this._setupCoinbase(),this.bus.emit(v.events.ASYNC_DEPENDENCY_READY)}function r(e,t){return function(n){return t in e&&p(e[t][n])?e[t][n]:function(){}}}var a=e(169).cloneAndPreserveDOM,o=e(151),s=e(89),l=e(90),u=e(197),c=e(209),h=e(176),d=e(87),p=e(146),f=e(203),m=e(80),g=e(162),v=e(158),y=e(161).convertToLegacyShippingAddress,b=e(163),_=e(171);i.prototype=o(b.prototype,{constructor:i}),i.prototype._setupHostedFields=function(){var e,t=this.configuration.merchantConfiguration,n=t[g.ROOT_SUCCESS_CALLBACK],i=new m(t.id),r=f.create(this.configuration),a=new _({formNapper:i,rootCallback:n,channel:this.configuration.channel});return null==i.htmlForm?void this.bus.emit(v.events.ERROR,{type:"CONFIGURATION",message:"options.id does not reference a valid DOM element"}):(e=d(a.handleSubmitRequest,a),i.hijack(e),this.bus.on(v.events.USER_FORM_SUBMIT_REQUEST,e),void this.destructor.registerFunctionForTeardown(d(function(e){a.teardown(),i.detach(),r.teardown(e)},this)))},i.prototype._setupForm=function(){var e,t,n,i=this.configuration.merchantConfiguration;i.id?(n=u.setup(this.apiClient,this.configuration),e=!p(i[g.ROOT_SUCCESS_CALLBACK]),e||(t=this.onSuccess,n.onNonceReceived=d(function(e,n){e?this.bus.emit(v.events.ERROR,e):t(n)},this)),this.destructor.registerFunctionForTeardown(function(){n.teardown()})):this.bus.on(v.events.PAYMENT_METHOD_GENERATED,d(function(e){this.bus.emit(v.events.PAYMENT_METHOD_RECEIVED,e)},this))},i.prototype._setupPayPal=function(){var e,t,n,i,o,u,h,f,m;this.configuration.merchantConfiguration.paypal&&(e=a(this.configuration),h=e.merchantConfiguration,u=h.paypal,t=r(h,"paypal"),n=t("onSuccess"),i=t("onCancelled"),u.paymentMethodNonceInputField||(o=document.createElement("input"),o.id="braintree-custom-integration-dummy-input",u.paymentMethodNonceInputField=o),u.onSuccess=function(e){m=e.nonce,n(e.nonce,e.details.email,y(e.details.shippingAddress))},p(u.onAuthorizationDismissed)&&(f=s(function(e){l(function(){e&&"PayPal"===e.source&&!m&&u.onAuthorizationDismissed()})},200,{leading:!0}),this.bus.on(v.events.UI_POPUP_DID_CLOSE,f),this.bus.on(v.events.UI_MODAL_DID_CLOSE,f)),u.onCancelled=function(){m=null,i()},h.enableCORS&&(u.enableCORS=!0),this.paypalIntegration=c.create(e),null!=this.paypalIntegration&&this.destructor.registerFunctionForTeardown(d(function(){this.paypalIntegration.teardown()},this)))},i.prototype._setupCoinbase=function(){var e,t;this.configuration.merchantConfiguration.coinbase&&(navigator.userAgent.match(/MSIE 8\.0/)||(e=a(this.configuration),e.apiClient=this.apiClient,t=h.create(e),null!=t&&this.destructor.registerFunctionForTeardown(function(e){t.teardown(e)})))},i.prototype._onIntegrationReady=function(){var e=this,t={};this.paypalIntegration&&(t.paypal={initAuthFlow:this._wrapWithTeardownReply("initAuthFlow",function(){e.bus.emit(v.events.SEND_ANALYTICS_EVENTS,"paypal.auth.init"),e.paypalIntegration.initAuthFlow()}),closeAuthFlow:this._wrapWithTeardownReply("closeAuthFlow",function(){e.bus.emit(v.events.SEND_ANALYTICS_EVENTS,"paypal.auth.close"),e.paypalIntegration.closeAuthFlow()})}),b.prototype._onIntegrationReady.call(this,t)},t.exports=i},{146:146,151:151,158:158,161:161,162:162,163:163,169:169,171:171,176:176,197:197,203:203,209:209,80:80,87:87,89:89,90:90}],166:[function(e,t,n){"use strict";function i(e){return c(e.paymentMethodNonceReceived)?e.paymentMethodNonceReceived:null}function r(e){return c(e[d.ROOT_SUCCESS_CALLBACK])}function a(){var e,t,n,a,s;f.apply(this,arguments),s=o(this.configuration),e=s.merchantConfiguration,t=i(e),n=r(e),(t||n)&&(e.paymentMethodNonceReceived=u(function(e){t&&t(e.originalEvent,e.nonce),this.bus.emit(h.events.PAYMENT_METHOD_RECEIVED,p(e))},this)),a=l.create(s),this.destructor.registerFunctionForTeardown(function(e){a.teardown(e)}),this.bus.emit(h.events.ASYNC_DEPENDENCY_READY)}var o=e(169).cloneAndPreserveDOM,s=e(151),l=e(195),u=e(87),c=e(146),h=e(158),d=e(162),p=e(174),f=e(163);a.prototype=s(f.prototype,{constructor:a}),t.exports=a},{146:146,151:151,158:158,162:162,163:163,169:169,174:174,195:195,87:87}],167:[function(e,t,n){"use strict";t.exports={custom:e(165),dropin:e(166),paypal:e(168),coinbase:e(164)}},{164:164,165:165,166:166,168:168}],168:[function(e,t,n){"use strict";function i(e){return"onSuccess"in e&&d(e.onSuccess)?e.onSuccess:"paypal"in e&&d(e.paypal.onSuccess)?e.paypal.onSuccess:null}function r(e){return d(e[p.ROOT_SUCCESS_CALLBACK])}function a(e){var t,n,a,s,p,v,y;e=o(e),e.merchantConfiguration.paypal=e.merchantConfiguration.paypal||{};for(s in e.merchantConfiguration)e.merchantConfiguration.hasOwnProperty(s)&&"paypal"!==s&&(e.merchantConfiguration.paypal[s]=e.merchantConfiguration[s]);g.call(this,e),t=this.configuration.merchantConfiguration,n=i(t),a=r(t),p=d(t.paypal.onCancelled)?t.paypal.onCancelled:function(){},(n||a)&&(t.paypal.onSuccess=h(function(e){y=e.nonce,n&&n(e.nonce,e.details.email,m(e.details.shippingAddress)),this.bus.emit(f.events.PAYMENT_METHOD_RECEIVED,e)},this)),d(t.paypal.onAuthorizationDismissed)&&(v=l(function(e){u(function(){e&&"PayPal"===e.source&&!y&&t.paypal.onAuthorizationDismissed()})},200,{leading:!0}),this.bus.on(f.events.UI_POPUP_DID_CLOSE,v),this.bus.on(f.events.UI_MODAL_DID_CLOSE,v)),t.paypal.onCancelled=function(){y=null,p&&p()},this.paypalIntegration=c.create(this.configuration),this.destructor.registerFunctionForTeardown(h(function(){this.paypalIntegration.teardown()},this)),this.bus.emit(f.events.ASYNC_DEPENDENCY_READY)}var o=e(169).cloneAndPreserveDOM,s=e(151),l=e(89),u=e(90),c=e(209),h=e(87),d=e(146),p=e(162),f=e(158),m=e(161).convertToLegacyShippingAddress,g=e(163);a.prototype=s(g.prototype,{constructor:a}),a.prototype._onIntegrationReady=function(){var e=this,t={};this.paypalIntegration&&(t.paypal={initAuthFlow:this._wrapWithTeardownReply("initAuthFlow",function(){e.bus.emit(f.events.SEND_ANALYTICS_EVENTS,"paypal.auth.init"),e.paypalIntegration.initAuthFlow()}),closeAuthFlow:this._wrapWithTeardownReply("closeAuthFlow",function(){e.bus.emit(f.events.SEND_ANALYTICS_EVENTS,"paypal.auth.close"),e.paypalIntegration.closeAuthFlow()})}),g.prototype._onIntegrationReady.call(this,t)},t.exports=a},{146:146,151:151,158:158,161:161,162:162,163:163,169:169,209:209,87:87,89:89,90:90}],169:[function(e,t,n){"use strict";function i(e){return a(e,function(e){return s(e)?e.get(0):l(e)?e:void 0})}function r(e){return a(e,function(e){return s(e)||l(e)?{}:void 0})}var a=e(143),o=e(173),s=o.isJQueryElement,l=o.isHTMLElement;t.exports={cloneAndPreserveDOM:i,cloneAndStripDOM:r}},{143:143,173:173}],170:[function(e,t,n){"use strict";t.exports=function(e){if("CONFIGURATION"===e.type||"IMMEDIATE"===e.type)throw new Error(e.message);try{-1===navigator.userAgent.indexOf("MSIE")?console.error(e):console.error(JSON.stringify(e,null,2))}catch(t){}}},{}],171:[function(e,t,n){"use strict";function i(e){this.paymentMethod=null,this.nonceInputElement=null,this.bus=new r({channel:e.channel}),this.formNapper=e.formNapper,this.rootCallback=e.rootCallback,this._attachEvents()}var r=e(158),a=e(203),o="web.custom.hosted-fields.via.",s="payment_method_nonce";i.prototype._shouldStrictlyValidate=function(e){return null!=e?!1:null==this.paymentMethod||"CreditCard"===this.paymentMethod.type},i.prototype._clearNonce=function(){this.paymentMethod&&this.paymentMethod.nonce&&(this.paymentMethod=null,this.nonceInputElement=this.formNapper.inject(s,""))},i.prototype._attachEvents=function(){var e=this;this.bus.on(r.events.PAYMENT_METHOD_CANCELLED,function(){e._clearNonce()}),this.bus.on(r.events.PAYMENT_METHOD_GENERATED,function(t){e.paymentMethod=t,e.nonceInputElement=e.formNapper.inject(s,e.paymentMethod.nonce)})},i.prototype.handleSubmitRequest=function(){var e=this;this.bus.emit(a.events.TOKENIZATION_REQUEST,function(t){var n=t[0],i=t[1];return n?void e.bus.emit(r.events.ERROR,n):(e.paymentMethod=i||e.paymentMethod,e._shouldStrictlyValidate(i)?(e.bus.emit(a.events.VALIDATE_STRICT),void e.bus.emit(r.events.ERROR,{type:"VALIDATION",message:"User did not enter a payment method"})):void(e.rootCallback?e.bus.emit(r.events.SEND_ANALYTICS_EVENTS,o+"callback.success",function(){e.rootCallback(e.paymentMethod)}):e.bus.emit(r.events.SEND_ANALYTICS_EVENTS,o+"formsubmit.success",function(){e.nonceInputElement=e.formNapper.inject(s,e.paymentMethod.nonce),e.formNapper.submit()})))})},i.prototype.teardown=function(){this._clearNonce()},t.exports=i},{158:158,203:203}],172:[function(e,t,n){"use strict";function i(){}var r=e(146);t.exports=function(e){return function(t,n){return r(e[t])?e[t]:r(n)?n:i}}},{146:146}],173:[function(e,t,n){"use strict";function i(e){return Boolean(e)&&"object"==typeof e&&"jquery"in e}function r(e){return Boolean(e)&&1===e.nodeType}t.exports={isJQueryElement:i,isHTMLElement:r}},{}],174:[function(e,t,n){"use strict";t.exports=function(e){return{nonce:e.nonce,details:e.details,type:e.type}}},{}],175:[function(e,t,n){(function(n){"use strict";function i(e,t,i){var o;if(!l.hasOwnProperty(t))throw new Error(t+" is an unsupported integration");i=i||{},o=d.uuid(),a._getConfiguration({enableCORS:i.enableCORS||!1,authorization:e,sessionId:o},function(a,s){var p;return a?(p=h(i)(u.ROOT_ERROR_CALLBACK,c),void p({message:a.errors})):void new l[t]({channel:o,authorization:e,gatewayConfiguration:s,integrationType:t,merchantConfiguration:i,analyticsConfiguration:{sdkVersion:"braintree/web/"+r,merchantAppId:n.location.host},isMerchantPageHttps:d.isBrowserHttps()})})}var r="2.24.1",a=e(14),o=e(209),s=e(195),l=e(167),u=e(162),c=e(170),h=e(172),d=e(73),p=e(188);t.exports={api:a,data:p,cse:n.Braintree,paypal:o,dropin:s,hostedFields:{VERSION:e(203).VERSION},setup:i,VERSION:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,162:162,167:167,170:170,172:172,188:188,195:195,203:203,209:209,73:73}],176:[function(e,t,n){"use strict";function i(e){var t=new r(e);return t.canCreateIntegration?t:null}var r=e(179);t.exports={create:i}},{179:179}],177:[function(e,t,n){(function(e){"use strict";function n(t){return t=t||e.navigator.userAgent,/AppleWebKit\//.test(t)&&/Mobile\//.test(t)?t.replace(/.* OS ([0-9_]+) like Mac OS X.*/,"$1").replace(/_/g,"."):null}function i(t){var n=t||e.navigator.userAgent,i=null,r=/MSIE.(\d+)/.exec(n);return/Trident/.test(n)&&(i=11),r&&(i=parseInt(r[1],10)),i}function r(t){return t=t||e.navigator.userAgent,/Android/.test(t)?t.replace(/^.* Android ([0-9\.]+).*$/,"$1"):null}t.exports={ieVersion:i,iOSSafariVersion:n,androidVersion:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],178:[function(e,t,n){"use strict";function i(e,t,n){return e?(n.bus.emit(r.ERROR,e.error),void n.bus.emit(r.SEND_ANALYTICS_EVENTS,"coinbase.generate.nonce.failed")):(n.bus.emit(r.PAYMENT_METHOD_GENERATED,t),void n.bus.emit(r.SEND_ANALYTICS_EVENTS,"coinbase.generate.nonce.succeeded"))}var r=e(158).events;t.exports={tokenize:i}},{158:158}],179:[function(e,t,n){(function(n){"use strict";function i(e){return{clientId:e.gatewayConfiguration.coinbase.clientId,redirectUrl:e.gatewayConfiguration.coinbase.redirectUrl,scopes:e.gatewayConfiguration.coinbase.scopes||p.SCOPES,meta:{authorizations_merchant_account:e.gatewayConfiguration.coinbase.merchantAccount||""}}}function r(e){return function(t,n){e.emit(m.events.ERROR,{type:n,message:t})}}function a(e,t){var n=(e.merchantConfiguration||{}).coinbase,i=r(t);if(null==e.apiClient)i("apiClient is required for coinbase",p.CONFIGURATION_ERROR);else if(e.gatewayConfiguration.coinbaseEnabled)if(n&&(n.container||n.button))if(n.container&&n.button)i("options.coinbase.container and options.coinbase.button are mutually exclusive",p.CONFIGURATION_ERROR);else{if(f.isSupportedBrowser())return!0;i("Coinbase is not supported by your browser. Please consider upgrading",p.UNSUPPORTED_BROWSER_ERROR)}else i("Either options.coinbase.container or options.coinbase.button is required for Coinbase integrations",p.CONFIGURATION_ERROR);else i("Coinbase is not enabled for your merchant account",p.CONFIGURATION_ERROR);return!1}function o(e){var t,r,o=this;this.configuration=e,this.destructor=new u,r={channel:e.channel};try{e.coinbase.container&&(r.merchantUrl=n.location.href)}catch(c){}this.bus=e.bus||new m(r),this.canCreateIntegration=a(e,this.bus),this.canCreateIntegration&&(this.buttonId=e.merchantConfiguration.coinbase.button||p.BUTTON_ID,this.apiClient=e.apiClient||new g.Client(e),this._onOAuthSuccess=s(this._onOAuthSuccess,this),this._handleButtonClick=s(this._handleButtonClick,this),this.popupParams=i(e),this.redirectDoneInterval=null,e.merchantConfiguration.coinbase.container?(t=l.normalizeElement(e.merchantConfiguration.coinbase.container),this._insertFrame(t)):(n.braintreeCoinbasePopupCallback=this._onOAuthSuccess,t=document.body,l.addEventListener(t,"click",this._handleButtonClick),this.bus.emit(m.events.SEND_ANALYTICS_EVENTS,"coinbase.initialized"),this.destructor.registerFunctionForTeardown(function(){o._closePopup()}),this.bus.on(p.TEARDOWN_EVENT,s(this.destructor.teardown,this.destructor))))}var s=e(87),l=e(73),u=e(77),c=e(183),h=e(186),d=e(178),p=e(180),f=e(181),m=e(158),g=e(14);o.prototype._insertFrame=function(e){var t=this,n=c.createFrame({channel:this.configuration.channel});this.bus.emit(m.events.ASYNC_DEPENDENCY_INITIALIZING),e.appendChild(n),this.destructor.registerFunctionForTeardown(function(){e.removeChild(n)}),setTimeout(function(){n.src=t.configuration.gatewayConfiguration.assetsUrl+"/coinbase/"+p.VERSION+"/coinbase-frame.html#"+t.configuration.channel},0)},o.prototype._onOAuthSuccess=function(e){var t=this;return e.code?(this.bus.emit("coinbase:view:navigate","loading"),this.bus.emit(m.events.SEND_ANALYTICS_EVENTS,"coinbase.popup.authorized"),this.apiClient.tokenizeCoinbase({code:e.code,query:h.getQueryString()},function(e,n){d.tokenize.apply(null,[e,n,t])}),void this._closePopup()):(this.bus.emit(m.events.SEND_ANALYTICS_EVENTS,"coinbase.popup.denied"),void this._closePopup())},o.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},o.prototype._closePopup=function(e){e=e||this.popup,null!=e&&(f.shouldCloseFromParent()&&e.close(),this._popupCleanup())},o.prototype._popupCleanup=function(){this._clearPollForRedirectDone(),this.bus.emit(m.events.UI_POPUP_DID_CLOSE,{source:p.INTEGRATION_NAME})},o.prototype._pollForRedirectDone=function(e){var t=this,n=setInterval(function(){var n;if(null==e||e.closed)return t.bus.emit(m.events.SEND_ANALYTICS_EVENTS,"coinbase.popup.aborted"),void t._popupCleanup();try{if("about:blank"===e.location.href)throw new Error("Not finished loading");n=l.decodeQueryString(e.location.search.replace(/^\?/,"")).code}catch(i){return}t._onOAuthSuccess({code:n})},100);return this.redirectDoneInterval=n,n},o.prototype._openPopup=function(){var e;this.bus.emit(m.events.SEND_ANALYTICS_EVENTS,"coinbase.popup.started"),e=c.createPopup(h.compose(this._getOAuthBaseUrl(),this.popupParams)),e.focus(),this._pollForRedirectDone(e),this.bus.emit(m.events.UI_POPUP_DID_OPEN,{source:p.INTEGRATION_NAME}),this.bus.on(m.events.UI_POPUP_FORCE_CLOSE,function(t){t.target===p.INTEGRATION_NAME&&e.close()}),this.popup=e},o.prototype._getOAuthBaseUrl=function(){var e;return e="shared_sandbox"===this.configuration.gatewayConfiguration.coinbase.environment?p.SANDBOX_OAUTH_BASE_URL:p.PRODUCTION_OAUTH_BASE_URL},o.prototype._handleButtonClick=function(e){for(var t=e.target||e.srcElement;;){if(null==t)return;if(t===e.currentTarget)return;if(t.id===this.buttonId)break;t=t.parentNode}e&&e.preventDefault?e.preventDefault():e.returnValue=!1,this._openPopup()},o.prototype.teardown=function(e){var t=this;return this.canCreateIntegration?void this.bus.emit(p.TEARDOWN_EVENT,function(){t.destructor.teardown(function(n){return n?e(n):(t.bus.teardown(),void e(null))})}):void e(null)},t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,158:158,178:178,180:180,181:181,183:183,186:186,73:73,77:77,87:87}],180:[function(e,t,n){"use strict";t.exports={PRODUCTION_OAUTH_BASE_URL:"https://coinbase.com",SANDBOX_OAUTH_BASE_URL:"https://sandbox.coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"2.24.1",INTEGRATION_NAME:"Coinbase",CONFIGURATION_ERROR:"CONFIGURATION",UNSUPPORTED_BROWSER_ERROR:"UNSUPPORTED_BROWSER",TEARDOWN_EVENT:"coinbase:TEARDOWN"}},{}],181:[function(e,t,n){"use strict";function i(){var e=s.ieVersion();return!e||e>8}function r(){var e=s.androidVersion();return null==e?!1:/^5/.test(e)}function a(){return!(r()||o())}function o(){var e=s.iOSSafariVersion();return null==e?!1:/^8\.0/.test(e)||/^8\.1$/.test(e)}var s=e(177);t.exports={isSupportedBrowser:i,shouldCloseFromParent:a,shouldDisplayIOSClose:o,shouldDisplayLollipopClose:r}},{177:177}],182:[function(e,t,n){"use strict";function i(e){var t=document.createElement("button");return e=e||{},t.id=e.id||"coinbase-button",t.style.backgroundColor=e.backgroundColor||"#EEE",t.style.color=e.color||"#4597C3",t.style.border=e.border||"0",t.style.borderRadius=e.borderRadius||"6px",t.style.padding=e.padding||"12px",t.innerHTML=e.innerHTML||"coinbase",t}t.exports={create:i}},{}],183:[function(e,t,n){"use strict";var i=e(185),r=e(182),a=e(184);t.exports={createButton:r.create,createPopup:i.create,createFrame:a.create}},{182:182,184:184,185:185}],184:[function(e,t,n){"use strict";function i(){return a({name:r.FRAME_NAME,height:"70px",width:"100%",style:{padding:0,margin:0,border:0,outline:"none"}})}var r=e(180),a=e(82);t.exports={create:i}},{180:180,82:82}],185:[function(e,t,n){(function(n){"use strict";function i(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push([t,e[t]].join("="));return n.join(",")}function r(){var e=580,t=810;return i({width:e,height:t,left:(screen.width-e)/2,top:(screen.height-t)/4
})}function a(e){return n.open(e,o.POPUP_NAME,r())}var o=e(180);t.exports={create:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{180:180}],186:[function(e,t,n){"use strict";function i(){return"version="+a.VERSION}function r(e,t){var n,r=e+"/oauth/authorize?response_type=code",a=t.redirectUrl+"?"+i();if(r+="&redirect_uri="+encodeURIComponent(a),r+="&client_id="+t.clientId,t.scopes&&(r+="&scope="+encodeURIComponent(t.scopes)),t.meta)for(n in t.meta)t.meta.hasOwnProperty(n)&&(r+="&meta["+encodeURIComponent(n)+"]="+encodeURIComponent(t.meta[n]));return r}var a=e(180);t.exports={compose:r,getQueryString:i}},{180:180}],187:[function(e,t,n){"use strict";function i(){return new r}function r(){this.sessionId=a(),this._beaconId=o(this.sessionId),this._parameterBlock=s(this.sessionId,this._beaconId),this._thirdPartyBlock=l()}function a(){var e,t="";for(e=0;32>e;e++)t+=Math.floor(16*Math.random()).toString(16);return t}function o(e){var t=(new Date).getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+t+"&a=14"}function s(e,t){var n=document.body.appendChild(document.createElement("script"));return n.type="application/json",n.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),n.text=JSON.stringify({f:e,s:"BRAINTREE_SIGNIN",b:t}),n}function l(){function e(){n._l()}var t,n,i="https://www.paypalobjects.com/webstatic/r/fb/",r=document.createElement("iframe");r.src="about:blank",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0",document.body.appendChild(r);try{n=r.contentWindow.document}catch(a){t=document.domain,r.src='javascript:var d=document.open();d.domain="'+t+'";void(0);',n=r.contentWindow.document}return n.open()._l=function(){var e=this.createElement("script");t&&(this.domain=t),e.id="js-iframe-async",e.src=i+"fb-all-prod.pp.min.js",this.body.appendChild(e)},r.addEventListener?r.addEventListener("load",e,!1):r.attachEvent?r.attachEvent("onload",e):n.write('<body onload="document._l();">'),n.close(),r}r.prototype.teardown=function(){this._thirdPartyBlock.parentNode.removeChild(this._thirdPartyBlock)},t.exports={setup:i}},{}],188:[function(e,t,n){"use strict";function i(e){function t(){var e;for(e=0;s.length>e;e++)s[e].teardown()}var n,i,o,s=[];return null!=e.kount?(i=r.setup(e.kount),n=i.deviceData,s.push(i)):n={},e.paypal===!0&&(o=a.setup(),n.correlation_id=o.sessionId,s.push(o)),{deviceData:JSON.stringify(n),teardown:t}}var r=e(189),a=e(187);t.exports={setup:i}},{187:187,189:189}],189:[function(e,t,n){(function(e){"use strict";function n(e){var t=null!=e?e:{};return new i(t)}function i(e){r.random.startCollectors(),this._currentEnvironment=this._initializeEnvironment(e),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),this._iframe=this._setupIFrame()}var r=e.Braintree.sjcl,a="braintreeDataFrame",o="600000",s={qa:"https://assets.qa.braintreepayments.com/data",sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"};i.prototype.teardown=function(){r.random.stopCollectors(),this._removeIframe()},i.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},i.prototype._getDeviceData=function(){return{device_session_id:this._deviceSessionId,fraud_merchant_id:this._currentEnvironment.id}},i.prototype._generateDeviceSessionId=function(){var e,t;return e=r.random.randomWords(4,0),t=r.codec.hex.fromBits(e)},i.prototype._setupIFrame=function(){var e,t=this,n=document.getElementById(a);return null!=n?n:(e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,n=document.createElement("iframe"),n.width=1,n.id=a,n.height=1,n.frameBorder=0,n.scrolling="no",document.body.appendChild(n),setTimeout(function(){n.src=t._currentEnvironment.url+"/logo.htm"+e;try{n.innerHTML='<img src="'+t._currentEnvironment.url+"/logo.gif"+e+'" />'}catch(i){}},10),n)},i.prototype._initializeEnvironment=function(e){var t=s[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:null==e.merchantId?o:e.merchantId}},t.exports={setup:n,Kount:i,environmentUrls:s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],190:[function(e,t,n){"use strict";function i(e){this.apiClient=e}var r=["unlockCreditCard"];i.prototype.attach=function(e){function t(t){e.define(t,function(){n.apiClient[t].apply(n.apiClient,arguments)})}var n=this,i=0,a=r.length;for(i;a>i;i++)t(r[i])},t.exports=i},{}],191:[function(e,t,n){(function(n){"use strict";function i(e,t){var n=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return n[t]}function r(){return{html:{height:s.style.height||"",overflow:i(s,"overflow"),position:i(s,"position")},body:{height:l.style.height||"",overflow:i(l,"overflow")}}}function a(){var e=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return e}function o(e){var t,i,r,a=this;this.configuration=e,this.destructor=new h,this.container=null,this.merchantFormManager=null,this.configurationRequests=[],this.braintreeApiClient=new u.Client(this.configuration),this.braintreeBus=new c({merchantUrl:n.location.href,channel:this.configuration.channel}),this.bus=new d.MessageBus(this.configuration.root,this.configuration.channel),this.rpcServer=new d.RPCServer(this.bus),this.apiProxyServer=new g(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),t=this.configuration.inlineFramePath||this.configuration.gatewayConfiguration.assetsUrl+"/dropin/"+_+"/inline-frame.html",i=this.configuration.modalFramePath||this.configuration.gatewayConfiguration.assetsUrl+"/dropin/"+_+"/modal-frame.html",s=document.documentElement,l=document.body,this.frames={inline:this._createFrame(t,b.INLINE_FRAME_NAME),modal:this._createFrame(i,b.MODAL_FRAME_NAME)},this.container=f(this.configuration.merchantConfiguration.container,"Unable to find valid container."),r=f(this.configuration.merchantConfiguration.form||this._findClosest(this.container,"form")),this.merchantFormManager=new v({form:r,frames:this.frames,onSubmit:this.configuration.merchantConfiguration.paymentMethodNonceReceived,apiClient:this.braintreeApiClient}).initialize(),this.destructor.registerFunctionForTeardown(function(){a.merchantFormManager.teardown()}),this.configuration.gatewayConfiguration.paypalEnabled&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}var s,l,u=e(14),c=e(158),h=e(77),d=e(55),p=e(73),f=p.normalizeElement,m=e(87),g=e(190),v=e(194),y=e(193),b=e(196),_="2.24.1",w=e(213);o.prototype.initialize=function(){var e,t=this;this._initializeModal(),this.braintreeBus.emit(c.events.ASYNC_DEPENDENCY_INITIALIZING),this.container.appendChild(this.frames.inline.element),l.appendChild(this.frames.modal.element),this.destructor.registerFunctionForTeardown(function(e){t._hideModal(function(){t.container.removeChild(t.frames.inline.element),l.removeChild(t.frames.modal.element),e()})}),this.rpcServer.define("receiveSharedCustomerIdentifier",function(n){for(t.braintreeApiClient.attrs.sharedCustomerIdentifier=n,t.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store",e=0;t.configurationRequests.length>e;e++)t.configurationRequests[e](t.encodedClientToken);t.configurationRequests=[]}),this.braintreeBus.on(c.events.PAYMENT_METHOD_GENERATED,m(this._handleAltPayData,this)),this.rpcServer.define("selectPaymentMethod",function(e){t.frames.modal.rpcClient.invoke("selectPaymentMethod",[e]),t._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(e){t.merchantFormManager.setNoncePayload(e),t.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[e])}),this.rpcServer.define("sendUsedPaymentMethod",function(e){t.frames.inline.rpcClient.invoke("selectPaymentMethod",[e])}),this.rpcServer.define("sendUnlockedNonce",function(e){t.merchantFormManager.setNoncePayload(e)}),this.rpcServer.define("clearNonce",function(){t.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){t._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(e){t.frames.inline.element.style.height=e+"px"}),this.bus.register("ready",function(e){e.source===t.frames.inline.element.contentWindow?t.frames.inline.rpcClient=new d.RPCClient(t.bus,e.source):e.source===t.frames.modal.element.contentWindow&&(t.frames.modal.rpcClient=new d.RPCClient(t.bus,e.source))})},o.prototype._createFrame=function(e,t){return new y(e,t,this.braintreeBus)},o.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=a()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},o.prototype._lockMerchantWindowSize=function(){setTimeout(function(){s.style.overflow="hidden",l.style.overflow="hidden",l.style.height="100%",a()&&(s.style.position="relative",s.style.height=window.innerHeight+"px")},160)},o.prototype._unlockMerchantWindowSize=function(){var e=this.merchantPageDefaultStyles;e&&(l.style.height=e.body.height,l.style.overflow=e.body.overflow,s.style.overflow=e.html.overflow,a()&&(s.style.height=e.html.height,s.style.position=e.html.position),delete this.merchantPageDefaultStyles)},o.prototype._showModal=function(){var e=this,t=this.frames.modal.element;this.merchantPageDefaultStyles=r(),t.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){e._lockMerchantWindowSize(),t.contentWindow.focus()},200)})},o.prototype._hideModal=function(e){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none",e&&e()},o.prototype._configurePayPal=function(){var e=this.configuration.merchantConfiguration.paypal||{};this.paypalModalView=new w({channel:this.configuration.channel,insertFrameFunction:e.insertFrame,paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,isHermes:Boolean(e.singleUse)&&Boolean(e.amount)&&Boolean(e.currency)})},o.prototype._handleAltPayData=function(e){this.merchantFormManager.setNoncePayload(e),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[e]),this.frames.modal.rpcClient.invoke("modalViewClose")},o.prototype._findClosest=function(e,t){t=t.toUpperCase();do{if(e.nodeName===t)return e;e=e.parentNode}while(e);throw new Error("Unable to find a valid "+t)},o.prototype.teardown=function(e){var t=this;this.paypalModalView&&this.paypalModalView.teardown(),this.braintreeBus.emit(b.MODAL_FRAME_TEARDOWN_EVENT,function(){t.braintreeBus.emit(b.INLINE_FRAME_TEARDOWN_EVENT,function(){t.destructor.teardown(function(n){return n?e(n):(t.braintreeBus.teardown(),void e())})})})},t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,158:158,190:190,193:193,194:194,196:196,213:213,55:55,73:73,77:77,87:87}],192:[function(e,t,n){"use strict";function i(e){var t=new r(e);return t.initialize(),t}var r=e(191),a="2.24.1";t.exports={create:i,VERSION:a}},{191:191}],193:[function(e,t,n){"use strict";function i(){var e,t=document.createElement("fakeelement");for(e in u)if("undefined"!=typeof t.style[e])return u[e];return null}function r(e,t){function n(i){i.target===e&&"height"===i.propertyName&&(t.emit(o.events.ASYNC_DEPENDENCY_READY),e.removeEventListener(r,n))}var r=i();r?e.addEventListener(r,n):setTimeout(function(){t.emit(o.events.ASYNC_DEPENDENCY_READY)},500)}function a(e,t,n){var i="height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000)",a=l({name:t,width:"100%",height:"68",style:{transition:i,WebkitTransition:i,MozTransition:i,msTransition:i,OTransition:i,border:"0",zIndex:"9999"}});this.element=a,setTimeout(function(){a.src=e+"#"+n.channel},0),t===s.INLINE_FRAME_NAME&&r(a,n)}var o=e(158),s=e(196),l=e(82),u={transition:"transitionend","-o-transition":"otransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};t.exports=a},{158:158,196:196,82:82}],194:[function(e,t,n){"use strict";function i(e){this.formNapper=new a(e.form),this.frames=e.frames,this.onSubmit=e.onSubmit,this.apiClient=e.apiClient}var r=e(87),a=e(80);i.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},i.prototype.setNoncePayload=function(e){this.noncePayload=e},i.prototype.clearNoncePayload=function(){this.noncePayload=null},i.prototype._isSubmitBased=function(){return!this.onSubmit},i.prototype._isCallbackBased=function(){return Boolean(this.onSubmit)},i.prototype._setElements=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce","")},i.prototype._setEvents=function(){this.formNapper.hijack(r(this._handleFormSubmit,this))},i.prototype._handleFormSubmit=function(e){var t=this;this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(e):this.frames.inline.rpcClient.invoke("requestNonce",[],function(n){t.setNoncePayload(n),t._handleNonceReply(e)})},i.prototype._handleNonceReply=function(e){var t=this;this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",function(){var n=t.noncePayload;n.originalEvent=e,t.onSubmit(n),setTimeout(function(){delete n.originalEvent,t.frames.inline.rpcClient.invoke("clearLoadingState"),t.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[n])},200)}):this._triggerFormSubmission()},i.prototype._triggerFormSubmission=function(){var e=this;this.nonceInput=this.formNapper.inject("payment_method_nonce",this.noncePayload.nonce),this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",function(){e.formNapper.submit()})},i.prototype.teardown=function(){var e;this.nonceInput&&(e=this.formNapper.htmlForm,e.removeChild(this.nonceInput)),this.formNapper.detach()},t.exports=i},{80:80,87:87}],195:[function(e,t,n){"use strict";t.exports=e(192)},{192:192}],196:[function(e,t,n){t.exports={PAYPAL_INTEGRATION_NAME:"PayPal",INLINE_FRAME_NAME:"braintree-dropin-frame",MODAL_FRAME_NAME:"braintree-dropin-modal-frame",PAYMENT_METHOD_TYPES:["CoinbaseAccount","PayPalAccount","CreditCard"],cssClassMap:{"American Express":"american-express","Diners Club":"diners-club",DinersClub:"diners-club",Discover:"discover",JCB:"jcb",Maestro:"maestro",MasterCard:"master-card",Solo:"solo",Switch:"switch",UKMaestro:"maestro",UnionPay:"unionpay",Visa:"visa"},INLINE_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_INLINE_FRAME",MODAL_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_MODAL_FRAME"}},{}],197:[function(e,t,n){"use strict";function i(e,t){var n=t.merchantConfiguration||{},i=document.getElementById(n.id),o=n.useCreditCard!==!1;if(!i)throw new Error('Unable to find form with id: "'+n.id+'"');return o&&a(i),new r(e,t)}var r=e(199),a=e(202);t.exports={setup:i}},{199:199,202:202}],198:[function(e,t,n){(function(e){"use strict";function n(e,t){var r,o,s,l=e.children;for(t=t||{},o=0;l.length>o;o++)r=l[o],a(r)?(s=r.getAttribute("data-braintree-name"),"postal_code"===s?t.billingAddress={postalCode:r.value}:t[s]=r.value,i(r)):r.children&&r.children.length>0&&n(r,t);return t}function i(e){try{e.attributes.removeNamedItem("name")}catch(t){}}function r(e){n(e)}function a(e){return e.nodeType===o&&e.attributes["data-braintree-name"]}var o=e.Node?e.Node.ELEMENT_NODE:1;t.exports={extractValues:n,scrubAllAttributes:r,scrubAttributes:i,isBraintreeNode:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],199:[function(e,t,n){(function(n){"use strict";function i(e,t){var i=t.merchantConfiguration,r="object"==typeof i.paymentMethodNonceInputField,a=this;this.destructor=new s,this.apiClient=e,this.isCreditCardForm=i.useCreditCard!==!1,this.htmlForm=document.getElementById(i.id),this.paymentMethodNonceInput=c(i.paymentMethodNonceInputField),this.htmlForm.appendChild(this.paymentMethodNonceInput),this.destructor.registerFunctionForTeardown(function(){r?a.paymentMethodNonceInput.value="":a.htmlForm.removeChild(a.paymentMethodNonceInput)}),this.model=new u,this.bus=new l({merchantUrl:n.location.href,channel:t.channel}),this.setEvents(),this.destructor.registerFunctionForTeardown(function(){a.bus.teardown()})}var r=e(87),a=e(73),o=e(198),s=e(77),l=e(158),u=e(201),c=e(200),h={message:"Unable to process payments at this time",type:"IMMEDIATE"};i.prototype.setEvents=function(){var e=this;this.onSubmitHandler=r(this.handleSubmit,this),this.onExternalNonceReceived=r(this.onExternalNonceReceived,this),this.clearExternalNonce=r(this.clearExternalNonce,this),a.addEventListener(this.htmlForm,"submit",this.onSubmitHandler),this.destructor.registerFunctionForTeardown(function(){a.removeEventListener(e.htmlForm,"submit",e.onSubmitHandler)}),this.bus.on(l.events.PAYMENT_METHOD_GENERATED,this.onExternalNonceReceived),this.bus.on(l.events.PAYMENT_METHOD_CANCELLED,this.clearExternalNonce)},i.prototype.handleSubmit=function(e){var t,n=this;return e.preventDefault?e.preventDefault():e.returnValue=!1,this.isCreditCardForm?(t=this.model.get("type"),t&&"CreditCard"!==t?(o.scrubAllAttributes(this.htmlForm),void this.onNonceReceived(null,this.model.attributes)):void this.apiClient.tokenizeCard(o.extractValues(this.htmlForm),function(e,t,i){e?n.onNonceReceived(h,null):(n.model.set({nonce:t,type:i.type,details:i.details}),n.onNonceReceived(null,n.model.attributes))})):void this.onNonceReceived(null,this.model.attributes)},i.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.model.get("nonce")},i.prototype.onExternalNonceReceived=function(e){this.model.set(e),this.writeNonceToDOM()},i.prototype.clearExternalNonce=function(){this.model.reset()},i.prototype.onNonceReceived=function(e){var t=this.htmlForm;return e?void this.bus.emit(l.events.ERROR,h):(a.removeEventListener(t,"submit",this.onSubmitHandler),this.writeNonceToDOM(),void(t.submit&&("function"==typeof t.submit||t.submit.call)?t.submit():setTimeout(function(){t.querySelector('[type="submit"]').click()},1)))},i.prototype.teardown=function(){this.destructor.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{158:158,198:198,200:200,201:201,73:73,77:77,87:87}],200:[function(e,t,n){"use strict";t.exports=function(e){var t,n;return"object"==typeof e?e:(t="payment_method_nonce","string"==typeof e&&(t=e),n=document.createElement("input"),n.name=t,n.type="hidden",n)}},{}],201:[function(e,t,n){"use strict";function i(){this.reset()}i.prototype.get=function(e){return this.attributes[e]},i.prototype.set=function(e){this.attributes=e||{}},i.prototype.reset=function(){this.attributes={}},t.exports=i},{}],202:[function(e,t,n){"use strict";t.exports=function(e){var t,n,i=e.getElementsByTagName("*"),r={};for(t=0;i.length>t;t++)n=i[t].getAttribute("data-braintree-name"),r[n]=!0;if(!r.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(r.expiration_date){if(r.expiration_month||r.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!r.expiration_month&&!r.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!r.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!r.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}}},{}],203:[function(e,t,n){"use strict";var i=e(205),r=e(207).events,a="2.24.1";t.exports={create:function(e){return new i(e)},events:r,VERSION:a}},{205:205,207:207}],204:[function(e,t,n){"use strict";var i=e(207);t.exports=function(e,t){return e+"/hosted-fields/"+i.VERSION+"/hosted-fields-frame.html#"+t}},{207:207}],205:[function(e,t,n){"use strict";function i(e,t){var n=document.createElement("div");return n.style.clear="both",t=t||document.body,t.appendChild(e),t.appendChild(n),{parent:t,children:[e,n]}}function r(e,t){return function(n){var i=e[n.fieldKey].containerElement,r=s(i);n.target={fieldKey:n.fieldKey,container:i},r.toggle(h.externalClasses.FOCUSED,n.isFocused).toggle(h.externalClasses.VALID,n.isValid),n.isStrictlyValidating?r.toggle(h.externalClasses.INVALID,!n.isValid):r.toggle(h.externalClasses.INVALID,!n.isPotentiallyValid),delete n.fieldKey,delete n.isStrictlyValidating,t&&t(n)}}function a(e){var t,n,a,d,p,f=this,m={},v=0;this.injectedNodes=[],this.destructor=new o,this.bus=new u({channel:e.channel,merchantUrl:location.href}),this.destructor.registerFunctionForTeardown(function(){f.bus.teardown()}),this.bus.emit(u.events.ASYNC_DEPENDENCY_INITIALIZING),this.bus.emit(u.events.SEND_ANALYTICS_EVENTS,"hosted-fields.initialized");for(d in h.whitelistedFields)if(h.whitelistedFields.hasOwnProperty(d)){if(t=e.merchantConfiguration.hostedFields[d],!t)continue;if(n=document.querySelector(t.selector),!n){p='Unable to find element with selector "'+t.selector+'" for hostedFields.'+d,this.bus.emit(u.events.ERROR,{message:p});continue}if(n.querySelector('iframe[name^="braintree-"]')){this.bus.emit(u.events.ERROR,{message:'Cannot place two elements in "'+t.selector+'"'});continue}a=l({type:d,name:"braintree-hosted-field-"+d,style:h.defaultIFrameStyle}),this.injectedNodes.push(i(a,n)),this.setupLabelFocus(d,n),m[d]={frameElement:a,containerElement:n},v++,setTimeout(function(t){return function(){t.src=c(e.gatewayConfiguration.assetsUrl,e.channel)}}(a),0)}this.bus.on(g.FRAME_READY,function(e){v--,e(0===v)}),this.bus.on(g.INPUT_EVENT,r(m,e.merchantConfiguration.hostedFields.onFieldEvent)),this.destructor.registerFunctionForTeardown(function(){var e,t,n;for(e=0;f.injectedNodes.length>e;e++){for(n=f.injectedNodes[e],t=0;n.children.length>t;t++)n.parent.removeChild(n.children[t]);s(n.parent).remove(h.externalClasses.FOCUSED,h.externalClasses.INVALID,h.externalClasses.VALID)}})}var o=e(77),s=e(74),l=e(82),u=e(158),c=e(204),h=e(207),d=e(157),p=e(73),f=e(208),m=e(206),g=h.events;a.prototype.setupLabelFocus=function(e,t){function n(){a.emit(g.TRIGGER_INPUT_FOCUS,e)}var i,r,a=this.bus;if(m()&&null!=t.id){for(i=d(document.querySelectorAll('label[for="'+t.id+'"]')),i=i.concat(f(t,"label")),r=0;i.length>r;r++)p.addEventListener(i[r],"click",n,!1);this.destructor.registerFunctionForTeardown(function(){for(r=0;i.length>r;r++)p.removeEventListener(i[r],"click",n,!1)})}},a.prototype.teardown=function(e){this.destructor.teardown(e)},t.exports=a},{157:157,158:158,204:204,206:206,207:207,208:208,73:73,74:74,77:77,82:82}],206:[function(e,t,n){"use strict";t.exports=function(){return!/(iPad|iPhone|iPod)/i.test(navigator.userAgent)}},{}],207:[function(e,t,n){"use strict";var i="2.24.1";t.exports={VERSION:i,events:{FRAME_READY:"hosted-fields:FRAME_READY",VALIDATE_STRICT:"hosted-fields:VALIDATE_STRICT",CONFIGURATION:"hosted-fields:CONFIGURATION",TOKENIZATION_REQUEST:"hosted-fields:TOKENIZATION_REQUEST",INPUT_EVENT:"hosted-fields:INPUT_EVENT",TRIGGER_INPUT_FOCUS:"hosted-fields:TRIGGER_INPUT_FOCUS"},externalEvents:{FOCUS:"focus",BLUR:"blur",FIELD_STATE_CHANGE:"fieldStateChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%","float":"left"},whitelistedStyles:["-moz-osx-font-smoothing","-moz-transition","-moz-tap-highlight-color","-webkit-font-smoothing","-webkit-transition","-webkit-tap-highlight-color","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","line-height","opacity","outline","text-shadow","transition"],whitelistedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}}}},{}],208:[function(e,t,n){"use strict";function i(e,t){for(var n=e.parentNode,i=[];null!=n;)null!=n.tagName&&n.tagName.toLowerCase()===t&&i.push(n),n=n.parentNode;return i}t.exports=i},{}],209:[function(e,t,n){"use strict";t.exports=e(211)},{211:211}],210:[function(e,t,n){(function(n){"use strict";function i(e){this.configuration=e,this.destructor=new s,this.bus=new l({merchantUrl:n.location.href,channel:this.configuration.channel}),this.container=r.normalizeElement(this.configuration.merchantConfiguration.paypal.container||document.body),this.loggedInView=null,this.loggedOutView=null,this.appView=null,this.merchantPageView=null,this.paymentMethodNonceInputFieldView=null,this.overlayView=null,this.bridgeIframeView=null,_(this,["initAuthFlow","closeAuthFlow"])}var r=e(73),a=e(87),o=e(146),s=e(77),l=e(158),u=e(213),c=e(215),h=e(216),d=e(219),p=e(217),f=e(220),m=e(214),g=e(230),v=e(226),y=e(222),b=e(232),_=e(88);i.prototype.initialize=function(){var e=a(this._handleClickLogin,this);this._createViews(),this.bus.on(l.events.PAYMENT_METHOD_CANCELLED,a(this._handlePaymentMethodCancelled,this)),"dropin"!==this.configuration.integrationType&&this.bus.on(l.events.PAYMENT_METHOD_GENERATED,a(this._handlePaymentMethodGenerated,this)),r.addEventListener(document.body,"click",e),this.destructor.registerFunctionForTeardown(function(){r.removeEventListener(document.body,"click",e)})},i.prototype._createViews=function(){function e(){v.isFirefox()?(i.closeAuthFlow(),i.initAuthFlow()):i.bus.emit(y.events.FOCUS_APP)}var t,n=[],i=this,r="dropin"===this.configuration.integrationType;g.isBridgeIframeRequired()&&(this.bridgeIframeView=new m({container:this.container,paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,channel:this.configuration.channel}),n.push(this.bridgeIframeView)),this.appView=new u({insertFrameFunction:this.configuration.merchantConfiguration.paypal.insertFrameFunction,paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,isHermes:b.isHermesConfiguration(this.configuration),isDropin:r,channel:this.configuration.channel}),n.push(this.appView),r||(this.merchantPageView=new p({channel:this.configuration.channel}),n.push(this.merchantPageView),g.isPopupSupported()&&g.isOverlaySupported()&&(this.overlayView=new d({paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,onFocus:e,onClose:function(){i.bus.emit(y.events.CLOSE_APP)},locale:this.configuration.merchantConfiguration.paypal.locale,channel:this.configuration.channel}),n.push(this.overlayView))),r||this.configuration.merchantConfiguration.paypal.headless||(this.paymentMethodNonceInputFieldView=new f({container:this.container,el:this.configuration.merchantConfiguration.paypal.paymentMethodNonceInputField,channel:this.configuration.channel}),n.push(this.paymentMethodNonceInputFieldView),this.loggedInView=new c({paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,container:this.container,locale:this.configuration.merchantConfiguration.paypal.locale,channel:this.configuration.channel}),n.push(this.loggedInView),this.loggedOutView=new h({paypalAssetsUrl:this.configuration.gatewayConfiguration.paypal.assetsUrl,container:this.container,enablePayPalButton:b.isOnetimeHermesConfiguration(this.configuration),locale:this.configuration.merchantConfiguration.paypal.locale,channel:this.configuration.channel}),n.push(this.loggedOutView)),this.destructor.registerFunctionForTeardown(function(){for(t=0;n.length>t;t++)n[t].teardown()})},i.prototype._handleClickLogin=function(e){for(var t=e.target||e.srcElement;;){if(null==t)return;if(t===e.currentTarget)return;if(this._isButton(t))break;t=t.parentNode}b.preventDefault(e),this.initAuthFlow()},i.prototype.initAuthFlow=function(){this.appView.open()},i.prototype.closeAuthFlow=function(){this.appView.close()},i.prototype._isButton=function(e){var t="braintree-paypal-button"===e.id,n=b.isOnetimeHermesConfiguration(this.configuration)&&e.className.match(/paypal-button(?!-widget)/);return t||n},i.prototype._handlePaymentMethodGenerated=function(e){var t=this.configuration.merchantConfiguration.paypal.onSuccess;e.type===y.NONCE_TYPE&&o(t)&&t(e)},i.prototype._handlePaymentMethodCancelled=function(e){var t=this.configuration.merchantConfiguration.paypal.onCancelled;e.source===y.PAYPAL_INTEGRATION_NAME&&o(t)&&t()},i.prototype.teardown=function(){var e=this;this.destructor.teardown(function(){e.bus.teardown()})},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{146:146,158:158,213:213,214:214,215:215,216:216,217:217,219:219,220:220,222:222,226:226,230:230,232:232,73:73,77:77,87:87,88:88}],211:[function(e,t,n){"use strict";function i(e){var t,n;if(n=e.merchantConfiguration.onUnsupported,"function"!=typeof n&&(n=function(e){try{console.log(e)}catch(t){}}),!e.gatewayConfiguration.paypalEnabled)return n(new Error("PayPal is not enabled")),null;if(!h.detectedPostMessage())return n(new Error("unsupported browser detected")),null;if(!e.merchantConfiguration.paypal.container&&!e.merchantConfiguration.paypal.headless)return n(new Error("Please supply a container for the PayPal button to be appended to")),null;if(!u(e))return n(new Error("unsupported protocol detected")),null;if(l(e))return n(new Error("Unvetted merchant client token does not include a payee email")),null;if(f.isHermesConfiguration(e)&&!o(e.merchantConfiguration.paypal.locale))return n(new Error("This PayPal integration does not support this country")),null;if(f.isOnetimeHermesConfiguration(e)){if(!a(e.merchantConfiguration.paypal.currency))return n(new Error("This PayPal integration does not support this currency")),null;if(!s(e.merchantConfiguration.paypal.amount))return n(new Error("Amount must be a number")),null}return t=new c(e),t.initialize(),t}function r(e,t){var n,i=t.length,r=!1;for(n=0;i>n;n++)e.toLowerCase()===t[n].toLowerCase()&&(r=!0);return r}function a(e){return r(e,d.HERMES_SUPPORTED_CURRENCIES)}function o(e){return r(p(e).split("_")[1],d.HERMES_SUPPORTED_COUNTRIES)}function s(e){return e=parseFloat(e),"number"==typeof e&&!isNaN(e)&&e>=0}function l(e){return e.gatewayConfiguration.paypal.unvettedMerchant&&(!f.isHermesConfiguration(e)||!e.gatewayConfiguration.paypal.payeeEmail)}function u(e){return e.gatewayConfiguration.paypal.allowHttp?!0:h.isPopupSupported()?!0:"isMerchantPageHttps"in e?e.isMerchantPageHttps:g.isBrowserHttps()}var c=e(210),h=e(230),d=e(222),p=e(224),f=e(232),m="2.24.1",g=e(73);t.exports={create:i,VERSION:m}},{210:210,222:222,224:224,230:230,232:232,73:73}],212:[function(e,t,n){t.exports={en_us:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},en_uk:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},en_au:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},sv_se:{cancel:"Avbryt",overlay_text:"Ser du inte den sÃ¤kra PayPal-webbl&auml;saren? Vi hj&auml;lper dig att starta om f&ouml;nstret f&ouml;r att slutf&ouml;ra k&ouml;pet.",continue_link:"Forts&auml;tt"},de_de:{cancel:"Abbrechen",overlay_text:"Sie sehen das sichere Browserfenster von PayPal nicht? Das Fenster wird neu ge&ouml;ffnet, damit Sie Ihren Einkauf abschlie&szlig;en k&ouml;nnen.",
continue_link:"Weiter"},fr_fr:{cancel:"Annuler",overlay_text:"Vous ne voyez pas le navigateur s&eacute;curis&eacute; PayPal ? Nous allons vous aider &agrave; relancer la fen&ecirc;tre pour effectuer votre achat.",continue_link:"Continuer"},en_ca:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},fr_ca:{cancel:"Annuler",overlay_text:"Vous ne voyez pas le navigateur s&eacute;curis&eacute; de PayPal ? Nous vous aiderons &agrave; relancer la fen&ecirc;tre afin d'effectuer votre achat.",continue_link:"Continuer"},es_es:{cancel:"Cancelar",overlay_text:"&iquest;No ves el s&iacute;mbolo de navegaci&oacute;n segura de PayPal? Te ayudaremos a abrir de nuevo la ventana para completar la compra.",continue_link:"Continuar"},es_xc:{cancel:"Cancelar",overlay_text:"&iquest;No ve el s&iacute;mbolo de navegaci&oacute;n segura de PayPal? Abriremos la ventana nuevamente para que pueda completar su compra.",continue_link:"Continuar"},fr_xc:{cancel:"Annuler",overlay_text:"Le navigateur s&eacute;curis&eacute; de PayPal n'appara&icirc;t pas ? Nous allons vous aider &agrave; rouvrir la fen&ecirc;tre pour finaliser votre achat.",continue_link:"Continuer"},nl_nl:{cancel:"Annuleren",overlay_text:"Ziet u de beveiligde PayPal-browser niet? We helpen u het venster opnieuw te openen zodat u uw aankoop kunt voltooien.",continue_link:"Doorgaan"},pt_pt:{cancel:"Cancelar",overlay_text:"N&atilde;o est&aacute; a ver a indica&ccedil;&atilde;o de liga&ccedil;&atilde;o segura PayPal no browser? Vamos ent&atilde;o voltar a abrir a janela para concluir a sua compra.",continue_link:"Continuar"},ru_ru:{cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",overlay_text:"ÐÐµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° PayPal Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ? ÐœÑ‹ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÐ¼ Ð²Ð°Ð¼ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¾ÐºÐ½Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ.",continue_link:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ"},da_dk:{cancel:"Annuller",overlay_text:"Kan du ikke se PayPals sikre browser? Vi hj&aelig;lper dig med at &aring;bne vinduet igen, s&aring; du kan betale.",continue_link:"Forts&aelig;t"},it_it:{cancel:"Annulla",overlay_text:"Non vedi il browser sicuro di PayPal? Ti aiuteremo a riavviare la pagina per completare l'acquisto.",continue_link:"Continua"},no_no:{cancel:"Avbryt",overlay_text:"Ser du ikke den sikre PayPal-nettleseren? Vi hjelper deg med &aring; &aring;pne vinduet p&aring; nytt s&aring; du kan fullf&oslash;re kj&oslash;pet.",continue_link:"Fortsett"},pl_pl:{cancel:"Anuluj",overlay_text:"Nie widzisz bezpiecznej przeglÄ…darki PayPal? PomoÅ¼emy Ci ponownie uruchomiÄ‡ to okno w celu dokonania zakupu.",continue_link:"Kontynuuj"},tr_tr:{cancel:"Ä°ptal",overlay_text:"G&uuml;venli PayPal tarayÄ±cÄ±sÄ±nÄ± g&ouml;rm&uuml;yor musunuz? AlÄ±ÅŸveriÅŸinizi tamamlamak i&ccedil;in pencereyi yeniden baÅŸlatmanÄ±za yardÄ±mcÄ± olacaÄŸÄ±z.",continue_link:"Devam"},zh_xc:{cancel:"å–æ¶ˆ",overlay_text:"æ²¡æœ‰çœ‹åˆ°å®‰å…¨çš„PayPalæµè§ˆå™¨ï¼Ÿæˆ‘ä»¬å°†å¸®åŠ©æ‚¨é‡å¯çª—å£ä»¥å®Œæˆè´­ç‰©ã€‚",continue_link:"ç»§ç»­"},en_hk:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},zh_hk:{cancel:"å–æ¶ˆ",overlay_text:"çœ‹ä¸åˆ°å®‰å…¨çš„ PayPal ç€è¦½å™¨è¦–çª—ï¼Ÿæˆ‘å€‘æœƒåŠ©ä½ é‡æ–°å•Ÿå‹•è¦–çª—ï¼Œä»¥å®Œæˆè³¼ç‰©ã€‚",continue_link:"ç¹¼çºŒ"},en_my:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},en_nz:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"},en_sg:{cancel:"Cancel",overlay_text:"Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",continue_link:"Continue"}}},{}],213:[function(e,t,n){(function(n){"use strict";function i(e){var t=this;this.options=e||{},this.destructor=new s,this.bus=new l({merchantUrl:n.location.href,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(function(){t.bus.teardown()}),this._initialize()}var r=e(87),a=e(146),o=e(230),s=e(77),l=e(158),u=e(222),c=e(221),h=e(218);i.prototype._initialize=function(){var e=this;this.app=o.isPopupSupported()?new c({src:this._buildUrl(),isHermes:this.options.isHermes,channel:this.options.channel}):new h({src:this._buildUrl(),isDropin:this.options.isDropin,isHermes:this.options.isHermes,insertFrameFunction:this.options.insertFrameFunction,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(function(){e.app.teardown()}),this.bus.on(u.events.CLOSE_APP,r(this.close,this)),this.bus.on(u.events.FOCUS_APP,r(this.focus,this)),this.bus.on(l.events.PAYMENT_METHOD_GENERATED,r(this._handlePaymentMethodGenerated,this)),this.bus.on(l.events.UI_POPUP_FORCE_CLOSE,r(this._handleForceClose,this))},i.prototype._buildUrl=function(){var e=this.options.paypalAssetsUrl;return e+="/pwpp/",e+=u.VERSION,e+="/html/braintree-frame.html",e+="#"+this.options.channel},i.prototype.open=function(){this.focus(),this.app.open(),this.poll()},i.prototype._handleForceClose=function(e){e.target===u.PAYPAL_INTEGRATION_NAME&&this.close()},i.prototype.close=function(){this.app.close()},i.prototype.focus=function(){a(this.app.focus)&&this.app.focus()},i.prototype.isClosed=function(){return this.app.isClosed()},i.prototype.stopPolling=function(){clearInterval(this.pollId)},i.prototype.poll=function(){var e=this;this.pollId=setInterval(function(){e.isClosed()&&e._handleClosed()},100)},i.prototype._handlePaymentMethodGenerated=function(e){e.type===u.NONCE_TYPE&&this.close()},i.prototype._handleClosed=function(){this.stopPolling(),this.close(),o.isPopupSupported()&&(this.app.el=null)},i.prototype.teardown=function(){this.destructor.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{146:146,158:158,218:218,221:221,222:222,230:230,77:77,87:87}],214:[function(e,t,n){"use strict";function i(e){this.options=e||{},this.el=a({src:this._buildUrl(),name:r.BRIDGE_FRAME_NAME,height:1,width:1,style:{position:"static",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",background:"transparent"}}),this.options.container.appendChild(this.el)}var r=e(222),a=e(82);i.prototype._buildUrl=function(){var e=this.options.paypalAssetsUrl;return e+="/pwpp/",e+=r.VERSION,e+="/html/bridge-frame.html",e+="#"+this.options.channel},i.prototype.teardown=function(){this.options.container.removeChild(this.el)},t.exports=i},{222:222,82:82}],215:[function(e,t,n){(function(n){"use strict";function i(e){var t;this.options=e||{},this.wrapper=this.options.container||document.body,this.destructor=new o,this.bus=new s({merchantUrl:n.location.href,channel:e.channel}),t=h(this.options.locale,d),this.translation=t.translation,this._initialize()}var r=e(73),a=e(87),o=e(77),s=e(158),l=e(232),u=e(231),c=e(222),h=e(225),d=e(212);i.prototype._initialize=function(){var e=this,t=a(this._handleClickLogout,this);this._createViewContainer(),this._createPayPalName(),this._createEmailNode(),this._createLogoutNode(),r.addEventListener(this.logoutNode,"click",t),this.destructor.registerFunctionForTeardown(function(){r.removeEventListener(e.logoutNode,"click",t)}),this.bus.on(s.events.PAYMENT_METHOD_GENERATED,a(this._handlePaymentMethodGenerated,this)),this.bus.on(s.events.PAYMENT_METHOD_CANCELLED,a(this._handlePaymentMethodCancelled,this))},i.prototype._createViewContainer=function(){var e=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+c.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+c.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedin",this.container.style.cssText=e,this.wrapper.appendChild(this.container)},i.prototype._createPayPalName=function(){var e=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return this.payPalName=document.createElement("span"),this.payPalName.id="bt-pp-name",this.payPalName.innerHTML="PayPal",this.payPalName.style.cssText=e,this.container.appendChild(this.payPalName)},i.prototype._createEmailNode=function(){var e=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.emailNode=document.createElement("span"),this.emailNode.id="bt-pp-email",this.emailNode.style.cssText=e,this.container.appendChild(this.emailNode)},i.prototype._createLogoutNode=function(){var e=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");this.logoutNode=document.createElement("button"),this.logoutNode.id="bt-pp-cancel",this.logoutNode.innerHTML=this.translation.cancel,this.logoutNode.setAttribute("type","button"),this.logoutNode.style.cssText=e,this.container.appendChild(this.logoutNode)},i.prototype.show=function(e){this.container.style.display="block",u.setTextContent(this.emailNode,e)},i.prototype.hide=function(){this.container.style.display="none"},i.prototype._handleClickLogout=function(e){l.preventDefault(e),this.bus.emit(s.events.PAYMENT_METHOD_CANCELLED,{source:c.PAYPAL_INTEGRATION_NAME})},i.prototype._handlePaymentMethodGenerated=function(e){var t;e.type===c.NONCE_TYPE&&(t=e&&e.details&&e.details.email?e.details.email:"",this.show(t))},i.prototype._handlePaymentMethodCancelled=function(e){e.source===c.PAYPAL_INTEGRATION_NAME&&this.hide()},i.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.destructor.teardown(),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{158:158,212:212,222:222,225:225,231:231,232:232,73:73,77:77,87:87}],216:[function(e,t,n){(function(n){"use strict";function i(e){this.options=e,this.wrapper=this.options.container||document.body,this.bus=new a({merchantUrl:n.location.href,channel:e.channel}),this._initialize()}var r=e(87),a=e(158),o=e(222),s=e(224);i.prototype._initialize=function(){this.createViewContainer(),this.options.enablePayPalButton?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton(),this.bus.on(a.events.PAYMENT_METHOD_GENERATED,r(this._handlePaymentMethodGenerated,this)),this.bus.on(a.events.PAYMENT_METHOD_CANCELLED,r(this._handlePaymentMethodCancelled,this))},i.prototype.createViewContainer=function(){this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedout",this.wrapper.appendChild(this.container),this.loginNode=this.container},i.prototype.createPayWithPayPalButton=function(){var e=document.createElement("a"),t=new Image,n=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";"),i=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");e.id="braintree-paypal-button",e.href="#",e.style.cssText=i,t.src=this.options.paypalAssetsUrl+"/pwpp/"+o.VERSION+"/images/pay-with-paypal.png",t.setAttribute("alt","Pay with PayPal"),t.style.cssText=n,e.appendChild(t),this.container.appendChild(e)},i.prototype.createCheckoutWithPayPalButton=function(){var e,t=document.createElement("script"),n={"data-merchant":"merchant-id","data-button":"checkout","data-type":"button","data-color":"blue","data-lc":s(this.options.locale)};t.src="//www.paypalobjects.com/api/button.js",t.async=!0;for(e in n)n.hasOwnProperty(e)&&t.setAttribute(e,n[e]);this.container.appendChild(t)},i.prototype.show=function(){this.container.style.display="block"},i.prototype.hide=function(){this.container.style.display="none"},i.prototype._handlePaymentMethodGenerated=function(e){e.type===o.NONCE_TYPE&&this.hide()},i.prototype._handlePaymentMethodCancelled=function(e){e.source===o.PAYPAL_INTEGRATION_NAME&&this.show()},i.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{158:158,222:222,224:224,87:87}],217:[function(e,t,n){(function(n){"use strict";function i(e){this.options=e,this.bus=new o({merchantUrl:n.location.href,channel:e.channel}),this.bus.on(o.events.UI_MODAL_DID_OPEN,s(this.lockWindowSize,this)),this.bus.on(o.events.UI_MODAL_DID_CLOSE,s(this.unlockWindowSize,this))}function r(e){var t=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return{overflow:t.overflow||"",height:e.style.height||""}}function a(){return{html:{node:document.documentElement,styles:r(document.documentElement)},body:{node:document.body,styles:r(document.body)}}}var o=e(158),s=e(87),l=e(222);i.prototype.lockWindowSize=function(){this.defaultStyles=a(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},i.prototype.unlockWindowSize=function(){this.defaultStyles&&(document.documentElement.style.height=this.defaultStyles.html.styles.height,document.documentElement.style.overflow=this.defaultStyles.html.styles.overflow,document.body.style.height=this.defaultStyles.body.styles.height,document.body.style.overflow=this.defaultStyles.body.styles.overflow,delete this.defaultStyles)},i.prototype._handleUIModalDidOpen=function(e){e.source===l.PAYPAL_INTEGRATION_NAME&&this.lockWindowSize()},i.prototype._handleUIModalDidClose=function(e){e.source===l.PAYPAL_INTEGRATION_NAME&&this.unlockWindowSize()},i.prototype.teardown=function(){this.unlockWindowSize(),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{158:158,222:222,87:87}],218:[function(e,t,n){(function(n){"use strict";function i(e){this.options=e||{},this.container=document.body,this.bus=new u({merchantUrl:n.location.href,channel:e.channel}),this.options.isDropin?this._open=this._openHeadless:this._attachBusEvents(),this._initialize()}var r=e(87),a=e(150),o=e(146),s=e(228),l=e(222),u=e(158),c=e(82),h={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};i.prototype._attachBusEvents=function(){this.bus.on(l.events.OPEN_MODAL,r(this.open,this))},i.prototype._initialize=function(){var e=this.options.isHermes?l.HERMES_FRAME_NAME:l.FRAME_NAME;s.isIos()?(this.el=document.createElement("div"),this.el.className=l.FRAME_CONTAINER_NAME,a(this.el.style,h,{height:this.options.height||"100%",width:this.options.width||"100%",overflow:"scroll",webkitOverflowScrolling:"touch"}),this.el.appendChild(c({src:this.options.src,name:e,scrolling:"yes",height:"100%",width:"100%",style:{position:"absolute",top:0,left:0,border:0,outline:"none",background:"#FFFFFF"}}))):this.el=c({src:this.options.src,name:e,scrolling:"yes",height:this.options.height||"100%",width:this.options.width||"100%",style:h})},i.prototype.isClosed=function(){return!this.container.contains(this.el)},i.prototype._openHeadless=function(){this.bus.emit(l.events.OPEN_MODAL)},i.prototype._open=function(){o(this.options.insertFrameFunction)?this.options.insertFrameFunction(this.el.src):this.container.appendChild(this.el),this.bus.emit(u.events.UI_MODAL_DID_OPEN,{source:l.PAYPAL_INTEGRATION_NAME})},i.prototype.open=function(){this.isClosed()&&this._open()},i.prototype.close=function(){this.isClosed()||(this.container.removeChild(this.el),this.bus.emit(u.events.UI_MODAL_DID_CLOSE,{source:l.PAYPAL_INTEGRATION_NAME}))},i.prototype.teardown=function(){this.close(),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{146:146,150:150,158:158,222:222,228:228,82:82,87:87}],219:[function(e,t,n){(function(n){"use strict";function i(e){var t;this.options=e,this.spriteSrc=this.options.paypalAssetsUrl+"/pwpp/"+u.VERSION+"/images/pp_overlay_sprite.png",this.bus=new l({merchantUrl:n.location.href,channel:e.channel}),this.destructor=new s,t=c(this.options.locale,h),this.translation=t.translation,this._create(),this._setupEvents(),this.bus.on(l.events.UI_POPUP_DID_OPEN,a(this._handleUIPopupDidOpen,this)),this.bus.on(l.events.UI_POPUP_DID_CLOSE,a(this._handleUIPopupDidClose,this))}var r=e(73),a=e(87),o=e(146),s=e(77),l=e(158),u=e(222),c=e(225),h=e(212);i.prototype.open=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},i.prototype.close=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},i.prototype._handleUIPopupDidClose=function(e){e.source===u.PAYPAL_INTEGRATION_NAME&&this.close()},i.prototype._handleUIPopupDidOpen=function(e){e.source===u.PAYPAL_INTEGRATION_NAME&&this.open()},i.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},i.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},i.prototype._createMessage=function(){var e=document.createElement("div");return this._setStyles(e,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),e.appendChild(this._createLogo()),e.appendChild(this._createExplanation()),e.appendChild(this._createFocusLink()),e},i.prototype._createExplanation=function(){return this.explanation=document.createElement("div"),this._setStyles(this.explanation,["color: #FFF","margin-bottom: 20px"]),this.explanation.innerHTML=this.translation.overlay_text,this.explanation},i.prototype._createLogo=function(){var e=document.createElement("div");return this._setStyles(e,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),e},i.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML=this.translation.continue_link,this.focusLink},i.prototype._setStyles=function(e,t){var n=t.join(";");e.style.cssText=n},i.prototype._setupEvents=function(){var e=this,t=a(this._handleClose,this),n=a(this._handleFocus,this);r.addEventListener(this.closeIcon,"click",t),r.addEventListener(this.focusLink,"click",n),this.destructor.registerFunctionForTeardown(function(){r.removeEventListener(e.closeIcon,"click",t),r.removeEventListener(e.focusLink,"click",n)})},i.prototype._handleClose=function(e){e.preventDefault(),this.close(),o(this.options.onClose)&&this.options.onClose()},i.prototype._handleFocus=function(e){e.preventDefault(),o(this.options.onFocus)&&this.options.onFocus()},i.prototype.teardown=function(){this.bus.teardown(),this.destructor.teardown(),this.close()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{146:146,158:158,212:212,222:222,225:225,73:73,77:77,87:87}],220:[function(e,t,n){(function(n){"use strict";function i(e){this.options=e||{},this.container=this.options.container||document.body,this.el=this.options.el,this.destructor=new s,this.bus=new l({merchantUrl:n.location.href,channel:e.channel}),this._initialize()}var r=e(73),a=e(87),o=e(146),s=e(77),l=e(158),u=e(222);i.prototype._initialize=function(){var e=this;o(this.el)||(null!=this.el?(this.el=r.normalizeElement(this.el),this.destructor.registerFunctionForTeardown(function(){e.clear()})):this.el=this.create()),this.bus.on(l.events.PAYMENT_METHOD_GENERATED,a(this._handlePaymentMethodGenerated,this)),this.bus.on(l.events.PAYMENT_METHOD_CANCELLED,a(this._handlePaymentMethodCancelled,this))},i.prototype.create=function(){var e=this,t=document.createElement("input");return t.name="payment_method_nonce",t.type="hidden",this.container.appendChild(t),this.destructor.registerFunctionForTeardown(function(){e.container.removeChild(t)}),t},i.prototype.value=function(e){o(this.el)?this.el(e):this.el.value=e},i.prototype.clear=function(){this.value("")},i.prototype._handlePaymentMethodCancelled=function(e){e.source===u.PAYPAL_INTEGRATION_NAME&&this.clear()},i.prototype._handlePaymentMethodGenerated=function(e){e.type===u.NONCE_TYPE&&this.value(e.nonce)},i.prototype.teardown=function(){this.destructor.teardown(),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{146:146,158:158,222:222,73:73,77:77,87:87}],221:[function(e,t,n){(function(n){"use strict";function i(e){this.options=e,this.bus=new a({merchantUrl:n.location.href,channel:this.options.channel}),e.isHermes?(this.name=r.HERMES_POPUP_NAME,this.popupHeight=r.HERMES_POPUP_HEIGHT,this.popupWidth=r.HERMES_POPUP_WIDTH):(this.name=r.POPUP_NAME,this.popupHeight=r.POPUP_HEIGHT,this.popupWidth=r.POPUP_WIDTH)}var r=e(222),a=e(158),o=e(226);i.prototype._getPopupOptions=function(){return["height="+this.popupHeight,"width="+this.popupWidth,"top="+this._getTopPosition(),"left="+this._getLeftPosition(),r.POPUP_OPTIONS].join(",")},i.prototype._centerPosition=function(e,t,n){return(e-t)/2+n},i.prototype._getTopPosition=function(){var e=window.outerHeight||document.documentElement.clientHeight,t="undefined"==typeof window.screenY?window.screenTop:window.screenY;return this._centerPosition(e,this.popupHeight,t)},i.prototype._getLeftPosition=function(){var e=window.outerWidth||document.documentElement.clientWidth,t="undefined"==typeof window.screenX?window.screenLeft:window.screenX;return this._centerPosition(e,this.popupWidth,t)},i.prototype.isClosed=function(){return this.el?this.el.closed:void 0},i.prototype.open=function(){(!this.el||this.isClosed())&&(this.el=window.open(this.options.src,this.name,this._getPopupOptions()),this.focus(),this.bus.emit(a.events.UI_POPUP_DID_OPEN,{source:r.PAYPAL_INTEGRATION_NAME}))},i.prototype.close=function(){this.el&&((o.isIE8()&&!this.isClosed()||!o.isIE8())&&this.el.close(),this.bus.emit(a.events.UI_POPUP_DID_CLOSE,{source:r.PAYPAL_INTEGRATION_NAME}))},i.prototype.focus=function(){this.el&&this.el.focus()},i.prototype.teardown=function(){this.close(),this.bus.teardown()},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{158:158,222:222,226:226}],222:[function(e,t,n){"use strict";var i,r="2.24.1",a=["GET_CLIENT_TOKEN","GET_CLIENT_OPTIONS","OPEN_MODAL","CLOSE_APP","FOCUS_APP"],o={LEGACY_ONETIME:"Legacy Onetime",HERMES_ONETIME:"Hermes Onetime",LEGACY_FUTURE_PAYMENTS:"Legacy Future Payments",HERMES_BILLING_AGREEMENTS:"Hermes Billing Agreements"};for(n.VERSION=r,n.POPUP_NAME="braintree_paypal_popup",n.HERMES_POPUP_NAME="PPFrameRedirect",n.FRAME_NAME="braintree-paypal-frame",n.HERMES_FRAME_NAME="PPFrameRedirect",n.FRAME_CONTAINER_NAME="braintree-paypal-frame-container",n.POPUP_PATH="/pwpp/"+r+"/html/braintree-frame.html",n.POPUP_OPTIONS="resizable,scrollbars",n.POPUP_HEIGHT=470,n.POPUP_WIDTH=410,n.HERMES_POPUP_HEIGHT=535,n.HERMES_POPUP_WIDTH=450,n.BRIDGE_FRAME_NAME="bt-proxy-frame",n.HERMES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD","DKK","NOK","PLN","SEK","CHF","TRY","BRL","MXN","ILS","SGD","THB","PHP","NZD","HKD","MYR","CZK","JPY","RUB"],n.HERMES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT","NL","NO","PL","CH","TR","DK","BE","AT","SE","HK"],n.NONCE_TYPE="PayPalAccount",n.PAYPAL_INTEGRATION_NAME="PayPal",n.ILLEGAL_XHR_ERROR="Illegal XHR request attempted",n.CONFIGURATION_TYPES=o,n.events={},i=0;a.length>i;i++)n.events[a[i]]="paypal:"+a[i]},{}],223:[function(e,t,n){"use strict";t.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],224:[function(e,t,n){"use strict";function i(e){return-1!==e.indexOf("_")&&5===e.length}function r(e){var t,n;for(t in o)o.hasOwnProperty(t)&&(t===e?n=o[t]:o[t]===e&&(n=o[t]));return n}function a(e){var t,n;return e=e?e.toLowerCase():"us",e=e.replace(/-/g,"_"),t=i(e)?e:r(e),t?(n=t.split("_"),[n[0],n[1].toUpperCase()].join("_")):"en_US"}var o=e(223);t.exports=a},{223:223}],225:[function(e,t,n){"use strict";function i(e){var t=e?e.toLowerCase().replace(/-/g,"_"):"us";return-1!==t.indexOf("_")&&(t=t.split("_")[1]),t=o[t]?t:"us","uk"===t&&(t="gb"),t}function r(e,t){return e=e.toLowerCase(),t[e]?t[e]:t.en_us}function a(e,t){var n=i(e),a=s(e),o=r(a,t);return{country:n,locale:a,translation:o}}var o=e(223),s=e(224);t.exports=a},{223:223,224:224}],226:[function(e,t,n){"use strict";function i(){return p.matchUserAgent("Android")&&!r()}function r(){return p.matchUserAgent("Chrome")||p.matchUserAgent("CriOS")}function a(){return p.matchUserAgent("Firefox")}function o(){return p.matchUserAgent("Trident")||p.matchUserAgent("MSIE")}function s(){return p.matchUserAgent(/MSIE 8\.0/)}function l(){return p.matchUserAgent("Opera")||p.matchUserAgent("OPR")}function u(){return l()&&"[object OperaMini]"===Object.prototype.toString.call(window.operamini)}function c(){return p.matchUserAgent("Safari")&&!r()&&!i()}function h(){return f.isIos()&&!r()&&!c()}function d(){var e=/Version\/[\w\.]+ Chrome\/[\w\.]+ Mobile/;return f.isAndroid()&&p.matchUserAgent(e)}var p=e(229),f=e(228);t.exports={isAndroid:i,isChrome:r,isFirefox:a,isIE:o,isIE8:s,isOpera:l,isOperaMini:u,isSafari:c,isIosWebView:h,isAndroidWebView:d}},{228:228,229:229}],227:[function(e,t,n){"use strict";function i(){return!r()&&(s.isAndroid()||s.isIpod()||s.isIphone()||o.matchUserAgent("IEMobile"))}function r(){return s.isIpad()||s.isAndroid()&&!o.matchUserAgent("Mobile")}function a(){return!i()&&!r()}var o=e(229),s=e(228);t.exports={isMobile:i,isTablet:r,isDesktop:a}},{228:228,229:229}],228:[function(e,t,n){"use strict";function i(){return u.matchUserAgent("Android")}function r(){return u.matchUserAgent("iPad")}function a(){return u.matchUserAgent("iPod")}function o(){return u.matchUserAgent("iPhone")&&!a()}function s(){return r()||a()||o()}function l(){return u.matchUserAgent("(iPhone|iPod|iPad) OS 9")}var u=e(229);t.exports={isAndroid:i,isIpad:r,isIpod:a,isIphone:o,isIos:s,isIos9:l}},{229:229}],229:[function(e,t,n){"use strict";function i(){return a}function r(e){var t=n.getNativeUserAgent(),i=t.match(e);return i?!0:!1}var a=window.navigator.userAgent;n.getNativeUserAgent=i,n.matchUserAgent=r},{}],230:[function(e,t,n){"use strict";function i(){return r()&&window.outerWidth<600}function r(){return m.test(f)}function a(){return Boolean(window.postMessage)}function o(){if(c.isOperaMini())return!1;if(d.isIos9()&&c.isChrome())return!0;if(h.isDesktop())return!0;if(h.isMobile()||h.isTablet()){if(c.isIE())return!1;if(d.isAndroid())return c.isAndroidWebView()?!1:!0;if(d.isIos())return c.isChrome()?!1:c.isSafari()&&p.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)?!1:c.isIosWebView()?!1:!0}return!1}function s(){if(c.isIE8())return!1;try{return window.self===window.top}catch(e){return!1}}function l(){return c.isIE()}function u(){var e=null,t="";try{new ActiveXObject("")}catch(n){t=n.name}try{e=Boolean(new ActiveXObject("htmlfile"))}catch(n){e=!1}return e="ReferenceError"!==t&&e===!1?!1:!0,!e}var c=e(226),h=e(227),d=e(228),p=e(229),f=window.navigator.userAgent,m=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;t.exports={isMobile:i,isMobileDevice:r,detectedPostMessage:a,isPopupSupported:o,isOverlaySupported:s,isBridgeIframeRequired:l,isMetroBrowser:u}},{226:226,227:227,228:228,229:229}],231:[function(e,t,n){"use strict";function i(e,t){var n="innerText";document&&document.body&&"textContent"in document.body&&(n="textContent"),e[n]=t}t.exports={setTextContent:i}},{}],232:[function(e,t,n){"use strict";function i(){var e,t,n="";for(e=0;32>e;e++)t=Math.floor(16*Math.random()),n+=t.toString(16);return n}function r(e){return/^(true|1)$/i.test(e)}function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function o(e){var t,n,i,r,a,o,s,l,u=e.indexOf("?"),c={};if(u>=0&&(e=e.substr(u+1)),0===e.length)return null;for(t=e.split("&"),n=0,i=t.length;i>n;n++)r=t[n],a=r.indexOf("="),o=r.substr(0,a),l=r.substr(a+1),s=decodeURIComponent(l),s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===s&&(s=!1),(null==s||"true"===s)&&(s=!0),c[o]=s;return c}function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function l(e){var t;return t=Boolean(e.merchantConfiguration.paypal.amount)&&Boolean(e.merchantConfiguration.paypal.currency)?p.CONFIGURATION_TYPES.HERMES_ONETIME:p.CONFIGURATION_TYPES.LEGACY_ONETIME}function u(e){var t;return t=Boolean(e.gatewayConfiguration.paypal.billingAgreementsEnabled)?p.CONFIGURATION_TYPES.HERMES_BILLING_AGREEMENTS:p.CONFIGURATION_TYPES.LEGACY_FUTURE_PAYMENTS}function c(e){var t;return t=Boolean(e.merchantConfiguration.paypal.singleUse)?l(e):u(e)}function h(e){var t=c(e);return t===p.CONFIGURATION_TYPES.HERMES_ONETIME||t===p.CONFIGURATION_TYPES.HERMES_BILLING_AGREEMENTS}function d(e){var t=c(e);return t===p.CONFIGURATION_TYPES.HERMES_ONETIME}var p=e(222),f="function"==typeof String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/,"")},m="function"==typeof window.btoa?function(e){return window.btoa(e)}:function(e){for(var t,n,i,r,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;e.length>c;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),u=u+l.charAt(r)+l.charAt(a)+l.charAt(o)+l.charAt(s);return u};t.exports={trim:f,btoa:m,generateUid:i,castToBoolean:r,htmlEscape:a,parseUrlParams:o,preventDefault:s,isHermesConfiguration:h,isOnetimeHermesConfiguration:d,getConfigurationType:c}},{222:222}]},{},[175])(175)}),n("PaymentInformationView",["backbone","NVTagCallbacks","hbs!template-bitpay","moment","accounting","payment","FieldsetView","SelectView","TextFieldView","CreditCardView","FieldView","FastAction","braintree","currency"],function(e,n,i,r,a,o,s,l,u,c,h,d,p,f){var m=e._,g=e.$,v=null,y=!1;return s.extend({__name__:"PaymentInformationView",readonly:!1,events:{change:"renderFeedback","change *":"touch",'change input[name="PaymentMethod"]':"changePaymentMethod","click .change-account":"changeAccount","payment.cardType":"setCardType",
"focus .eft-input":"eftInputFocus","blur .eft-input":"eftInputFocus"},accepted:{visa:{index:0,name:"Visa"},dinersclub:{index:1,name:"Diners Club"},mastercard:{index:2,name:"Master Card"},amex:{index:3,name:"American Express"},discover:{index:4,name:"Discover"}},initialize:function(){s.prototype.initialize.call(this),m.bindAll(this,"changeReadonly","onBitPayMessage");var e=m.bind(function(e,t){return this.accepted[e].index-this.accepted[t].index},this);this.cards=m.map(this.options.accepted_cards,function(e){return"AmericanExpress"===e?"amex":e.toLowerCase()}).sort(e),this.options.post_response&&this.options.post_response.cc4Digit&&!this.options.disableCreditCardAutofill&&(this.readonly=!0),this.cardType="unknown",this.paypalAmount=0},changeAccount:function(e){return e.preventDefault(),delete this.options.post_response,delete this.options.previous_payment,this.changeReadonly(!1),this.$('[name="Account"]').focus(),this},changeReadonly:function(e,n,i){if(m.isBoolean(e)){if(i&&(this.cc_type=i.toLowerCase()),n&&(this.cc_4_digit=n),e===this.readonly&&!n)return this;-1===m.indexOf(this.cards,this.cc_type)&&(e=!1),this.readonly=!this.options.isKioskEnabled&&e&&!this.options.disableCreditCardAutofill,this.def.required=!this.hide&&!this.readonly;var r=t("fastActionUser");return this.readonly?this.cc_4_digit&&r.set({cc_4_digit:this.cc_4_digit,cc_type:this.cc_type}):(r.unset("cc_4_digit"),r.unset("cc_type"),this.cc_type=null),this.subviews={},this.render()}return this},readonlyCards:function(){return m.map(this.cards,function(e){return{name:e,state:e!==this.cc_type?"off":""}},this)},errors:function(){if(this.hide)return[];var e=[];return this.isBitPayChecked()?e=this.errorsForBitPay():this.isPayingWithPayPal()?e=this.errorsForPayPal():this.isPayingWithEft()?e=this.errorsForEft():"required"in this.def&&!this.def.required?this.subviews.SecurityCode&&this.subviews.SecurityCode.def.required&&this.readonly&&!this.hide&&(e=this.subviews.SecurityCode.errors()):e=m(this.subviews).chain().invoke("errors").flatten().compact().value(),n("alterError",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},renderFeedbackWithErrors:function(e){if(this.isPayingWithPayPal())this.$(".paypal-label").addClass("error"),this.$(".paypal-label").find("small.error").remove(),this.$(".paypal-label").append(this.error_template({error_text:e[0],behavior_classes:"error"}));else if(this.isPayingWithEft()){this.clearFeedback();for(var t=this.eftSubmitFocused||m.isEmpty(this.eftInputsFocused),n=0;e.length>n;n++)(t||this.eftInputsFocused.routingNumber)&&e[n].text.indexOf("Routing Number")>=0?(this.$(".routing-number-label").addClass("error"),this.$(".routing-number-label").find("small.error").remove(),this.$(".routing-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"}))):(t||this.eftInputsFocused.bankAccountNumber)&&e[n].text.indexOf("Account Number ")>=0&&e[n].text.indexOf("Confirm Account Number ")<0?(this.$(".account-number-label").addClass("error"),this.$(".account-number-label").find("small.error").remove(),this.$(".account-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"}))):(t||this.eftInputsFocused.confirmBankAccountNumber)&&(e[n].text.indexOf("Account Numbers")>=0||e[n].text.indexOf("Confirm Account Number ")>=0)?(this.$(".confirm-account-number-label").addClass("error"),this.$(".confirm-account-number-label").find("small.error").remove(),this.$(".confirm-account-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"}))):(t||this.eftInputsFocused.authorizePayment)&&e[n].text.indexOf("authorize")>=0&&this.$(".authorize-payment-label").addClass("error")}return e},renderFeedback:function(){return this.hide?[]:this.isBitPayChecked()?this.renderFeedbackWithErrors(this.errorsForBitPay()):this.isPayingWithPayPal()?this.renderFeedbackWithErrors(this.errorsForPayPal()):this.isPayingWithEft()?this.renderFeedbackWithErrors(this.errorsForEft()):"required"in this.def&&!this.def.required?this.subviews.SecurityCode&&this.subviews.SecurityCode.def.required&&this.readonly&&!this.hide?this.subviews.SecurityCode.renderFeedback():[]:s.prototype.renderFeedback.call(this)},render:function(){var e={};if(!this.options.isKioskEnabled&&(this.readonly||this.options.post_response&&this.options.post_response.confirmationID))this.readonly&&this.cc_type||(this.cc_4_digit=this.options.post_response.cc4Digit,this.cc_type=this.options.post_response.ccType.toLowerCase()),this.template=this.options.templates.payment_information_readonly,e={title:this.title,cc_4_digit:this.cc_4_digit,labelhide:"inline"===this.options.labels,paypalEnabled:this.isPayPalEnabled(),eftEnabled:this.isEftEnabled(),bitPayEnabled:this.isBitPayEnabled(),ccEnabled:this.isCCEnabled(),multiplePaymentOptions:(this.isCCEnabled()?1:0)+(this.isBitPayEnabled()?1:0)+(this.isEftEnabled()?1:0)+(this.isPayPalEnabled()?1:0)>1},m.each(this.def.children,function(t,n){"SecurityCode"===t.name?e.cvv={type:"cvv2",index:n}:"UpdateMyProfile"===t.name&&(e.fa={type:t.type,index:n})});else{this.template=this.options.templates.payment_information,e={title:this.title,cards:this.cards.slice(),children:[],paypalEnabled:this.isPayPalEnabled(),eftEnabled:this.isEftEnabled(),bitPayEnabled:this.isBitPayEnabled(),ccEnabled:this.isCCEnabled(),multiplePaymentOptions:(this.isCCEnabled()?1:0)+(this.isBitPayEnabled()?1:0)+(this.isEftEnabled()?1:0)+(this.isPayPalEnabled()?1:0)>1};var t=!1;m.each(this.def.children,function(n,i){"Account"===n.name?e.children.push({type:"credit_card",index:i,name:n.name}):"SecurityCode"===n.name?e.children.push({type:"cvv2",index:i,name:n.name}):/^Expiration/.test(n.name)?t||(e.children.push({type:"cc_expiration",index:i,name:n.name}),t=!0):e.children.push({type:n.type,index:i,name:n.name})});var r=[["Account","ExpirationMonth","ExpirationYear","ExpirationDate","SecurityCode"]],a=m.indexBy(e.children,"name");e.rows=m.map(r,function(e){return m.reduce(e,function(e,t){return a[t]&&(e.push(a[t]),a[t].inRow=!0),e},[])});var o=m.reject(a,{inRow:!0});o.length&&e.rows.push(o)}return e=n("alterContext",{element:this.type,context:e,def:this.def}).context,this.$el.html(this.template(e)),this.def.bitPayEnabled&&this.parent.$el.append(i()),this.isPayPalEnabled()&&this.resetPayPal(),this.hideOrShow()},remove:function(){this.listenToBitPay(!1),e.View.prototype.remove.call(this)},onBitPayMessage:function(e){(!e.origin||/^https:\/\/(\w+\.)?bitpay.com$/.test(e.origin))&&("paid"===e.data.status||"confirmed"===e.data.status)&&(this.BitPay.status=e.data.status,this.options.formview.$("form").submit())},listeningToBitPay:!1,listenToBitPay:function(e){this.def.bitPayEnabled&&(e!==!0||this.listeningToBitPay?e===!1&&this.listeningToBitPay&&(window.removeEventListener("message",this.onBitPayMessage),this.listeningToBitPay=!1):(window.addEventListener("message",this.onBitPayMessage),this.listeningToBitPay=!0))},errorsForBitPay:function(){var e=[];if(this.isBitPayChecked()){var t=this.options.formview.val();if(t&&t.Amount){var n=parseFloat(t.Amount),i=this.def.valueMinBitcoin,r=this.def.valueMaxBitcoin;i>n?e.push(this.toError("Contributions using Bitcoin must be at least "+f.format(i)+".")):n>r&&e.push(this.toError("Contributions using Bitcoin cannot exceed "+f.format(r)+"."))}}return this.trigger(e.length?"invalid":"valid"),e},errorsForEft:function(){var e=[],t=/^\d+$/;return this.isPayingWithEft()&&(this.$("#routingNumber").val().length<9?e.push(this.toError("Routing Number must be 9 numbers")):t.test(this.$("#routingNumber").val())||e.push(this.toError("Routing Number must be all numbers")),0===this.$("#bankAccountNumber").val().length?e.push(this.toError("Account Number is required")):t.test(this.$("#bankAccountNumber").val())||e.push(this.toError("Account Number must be all numbers")),0===this.$("#confirmBankAccountNumber").val().length?e.push(this.toError("Confirm Account Number is required")):this.$("#confirmBankAccountNumber").val()!==this.$("#bankAccountNumber").val()&&e.push(this.toError("Account Numbers do not match.")),g("#authorizePayment").is(":checked")||e.push(this.toError("Must authorize payment"))),this.trigger(e.length?"invalid":"valid"),e},errorsForPayPal:function(){var e=[];return this.isPayingWithPayPal()&&(this.$("#payment_method_nonce").val()||e.push(this.toError("PayPal account is required"))),this.trigger(e.length?"invalid":"valid"),e},changeSubmitText:function(e){e=e||m.find(this.parent.model.get("form_elements"),{type:"submit"}).value,this.parent.$('input[type="submit"]').val(e),this.parent.$('button[type="submit"]:not(.paypal-button), .submitStep').text(e)},isCCEnabled:function(){return this.cards.length>0},isBitPayEnabled:function(){var e=this.def.bitPayDisabledAmount||this.def.bitPayDisabledRecurring;return this.def.bitPayEnabled&&!e&&!(nvtag.ua.ie&&nvtag.ua.ie<10)},isBitPayChecked:function(){return this.def.bitPayEnabled&&"bitcoin"===this.$('input[name="PaymentMethod"]:checked').val()},isPayPalChecked:function(){return this.isPayPalEnabled()&&"paypal"===this.$('input[name="PaymentMethod"]:checked').val()},isEftChecked:function(){return this.isEftEnabled()&&"eft"===this.$('input[name="PaymentMethod"]:checked').val()},isBitPayMinMaxValid:function(e){return!this.errorsForBitPay().length},isPayPalEnabled:function(){return this.options.paypalEnabled},isPayPalFilledOut:function(){return"block"===this.$("#braintree-paypal-loggedin").css("display")},isPayingWithPayPal:function(){return this.isPayPalChecked()||!this.isCCEnabled()&&this.isPayPalEnabled()&&!this.isBitPayEnabled()&&!this.isEftEnabled()},isEftEnabled:function(){return this.options.eftEnabled},isPayingWithEft:function(){return this.isEftChecked()||!this.isCCEnabled()&&this.isEftEnabled()&&!this.isPayPalEnabled()&&!this.isBitPayEnabled()},resetPayPal:function(){if(!y){y=!0;var e=this.options.formview.val(),t=e.Amount,n=this.options.url.base+"PayPalClientToken/"+this.options.url.full.split("/")[5],i=g.Deferred();i.resolve(v);var r=v?i:g.ajax({url:n,xhrFields:{withCredentials:!0},type:"GET"});r.then(function(e){v=e,g("#paypal-container").empty(),g("#payment_method_nonce").val(""),p.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!1,amount:t,currency:"USD",locale:"en_us",enableShippingAddress:!1,paymentMethodNonceInputField:"payment_method_nonce",displayName:"the form"},onReady:function(){g('[id^="braintree-paypal-button"]:not(:first)').remove()},onPaymentMethodReceived:function(){g(".paypal-label").find("small.error").remove(),g(".paypal-label").removeClass("error")},onError:function(e){console.log("paypal error",e.type,e.message),this.$("#payment_method_nonce").val("")},onCancelled:function(){this.$("#payment_method_nonce").val("")}})}).always(function(){y=!1})}},changePaymentMethod:function(e){return e.stopImmediatePropagation(),"bitcoin"===e.currentTarget.value?(this.def.required=!1,this.$(".cards").hide(),this.$(".at-cc-number").hide(),this.$(".paypal-accepted-here").hide(),this.$(".eft-accepted-here").hide(),this.$(".bitcoin-accepted-here").show(),this.changeSubmitText("Continue"),m.each(this.subviews,function(e){e.$el.hide()})):"paypal"===e.currentTarget.value?(this.def.required=!1,this.$(".cards").hide(),this.$(".at-cc-number").hide(),this.$(".bitcoin-accepted-here").hide(),this.$(".eft-accepted-here").hide(),this.changeSubmitText(),this.$(".paypal-accepted-here").show(),m.each(this.subviews,function(e){e.$el.hide()})):"eft"===e.currentTarget.value?(this.def.required=!1,this.$(".cards").hide(),this.$(".at-cc-number").hide(),this.$(".bitcoin-accepted-here").hide(),this.$(".eft-accepted-here").show(),this.changeSubmitText(),this.$(".paypal-accepted-here").hide(),m.each(this.subviews,function(e){e.$el.hide()})):this.def.required||(this.def.required=!0,this.$(".cards").show(),this.$(".at-cc-number").show(),this.$(".bitcoin-accepted-here").hide(),this.$(".paypal-accepted-here").hide(),this.$(".eft-accepted-here").hide(),this.changeSubmitText(),m.each(this.subviews,function(e){e.$el.show()})),this.parent.subviews.error_console.clear(),this.clearFeedback(),n("postPaymentMethodChanged",{new_payment_method:e.currentTarget.value}),this},clearFeedback:function(){return this.$(".paypal-label").find("small.error").remove(),this.$(".paypal-label").removeClass("error"),this.$(".routing-number-label").find("small.error").remove(),this.$(".routing-number-label").removeClass("error"),this.$(".account-number-label").find("small.error").remove(),this.$(".account-number-label").removeClass("error"),this.$(".confirm-account-number-label").find("small.error").remove(),this.$(".confirm-account-number-label").removeClass("error"),this.$(".authorize-payment-label").removeClass("error"),this},val:function(){var e,t={};if(this.options.post_response&&this.options.post_response.confirmationID){if(r().unix()>r(this.options.post_response.contributionDateTimeStamp).add(15,"minutes").unix()||!this.options.previous_payment)return this.options.post_response=null,this.options.previous_payment=null,this.render().val();if(t=m.merge({ConfirmationID:this.options.post_response.confirmationID},this.options.previous_payment),this.subviews.SecurityCode){var n=this.subviews.SecurityCode.val();n&&(t.SecurityCode=n)}return t}m.each(this.subviews,function(n){e=n.val(),m.isObject(e)?m.extend(t,e):e&&(t[n.name]=e)});var i=this.$('input[name="PaymentMethod"]:checked');return t.PaymentMethod=i.length?i.val():this.isPayPalEnabled()?"paypal":this.isEftEnabled()?"eft":"creditcard","bitcoin"===t.PaymentMethod?this.BitPay&&(t.BitPayResponseJson=this.BitPay,this.BitPay.id&&(t.BitPayInvoiceId=this.BitPay.id)):"paypal"===t.PaymentMethod?t.PayPalNonce=this.$("#payment_method_nonce").val():"eft"===t.PaymentMethod&&(t.RoutingNumber=this.$("#routingNumber").val(),t.BankAccountNumber=this.$("#bankAccountNumber").val(),t.BankAccountType=this.$("#bankAccountType").val()),(t.Account||t.ExprirationMonth||t.ExprirationYear||t.SecurityCode)&&(this.previousVal=t),t.Account||(this.cc_4_digit&&(t.CreditCardLastFour=this.cc_4_digit),this.cc_4_digit&&(t.CreditCardLastFourType=this.cc_type)),t},_onSubviewsRendered:function(){this.$(".updateMyProfileSection").show(),this.cvc=this.$('input[name="SecurityCode"]'),this.exp=this.$('input[name="ExpirationDate"]'),this.cc_type&&(this.cardType="unknown",this.setCardType(null,this.cc_type)),d.adjustCheckbox(this)},setCardType:function(e,t){if(e&&e.currentTarget.readOnly)return this;var n=this.cardType;this.cardType=t;var i=this.$(".cc-type, .cvc-type");if(this.cvc.length){this.cvc.prop("placeholder").length;"amex"===n&&"amex"!==t?this.cvc.prop("placeholder","•••").prop("minLength",3).prop("maxLength",3):"amex"!==n&&"amex"===t&&this.cvc.prop("placeholder","••••").prop("maxlength",4).prop("minLength",4)}return i.removeClass(n+" unknown").addClass(t),this},eftInputFocus:function(e){this.eftInputsFocused[e.currentTarget.id]=e.currentTarget.id,e.relatedTarget&&e.relatedTarget.classList.value.indexOf("btn-at-primary")>=0&&(this.eftSubmitFocused=!0)},eftInputsFocused:{},eftSubmitFocused:!1,type:"payment_information"})}),n("ContributionView",["backbone","NVTagCallbacks","FieldView","FormError","FieldsetView","moment","currency"],function(e,t,n,i,r,a,o){var s=e._,l=["IsRecurring","SelectedFrequency","SelectedDuration","EndDate"];return r.extend({__name__:"ContributionView",type:"contribution",events:{blur:"renderFeedback","change *":"renderFeedback",change:"touch",'change [name^="SelectedDuration"]':"recurringCheckbox",'click [name="IsRecurring"]':"recurringChecked"},passMessages:{amountChange:"amountChange"},context:function(){var e=o.get(),n=[],i={id:this.name.toLowerCase(),title:this.title,children:[],recurring:[],currency:e,isUSD:"USD"===e.code};return s.each(this.def.children,function(e,t){"SelectAmount"===e.name?i.children.push({type:"amount",index:t}):"ConfirmIdentityHtml"===e.name?i.children.push({type:"notme",index:t}):s.contains(l,e.name)?("IsRecurring"===e.name?e.title=this.def.children[t+1].title:"SelectedFrequency"===e.name?(e.oldTitle=e.title,e.title="Frequency"):"SelectedDuration"===e.name?(e.options=s.map(e.options,function(e,t){return t&&(e.display="Until "+e.display),e}),e.title="Duration"):"EndDate"===e.name&&(e.title="Recurring Contribution End Date"),n.push({type:e.type,index:t})):i.children.push({type:e.type,index:t})},this),s.each(n,function(e){i.recurring.push(e)}),t("alterContext",{element:"fieldset",context:i,def:this.def}).context},errors:function(){var e=this.val(),n=s(l.slice()),i=s(this.subviews).chain();e.IsRecurring||(i=i.reject(function(e){return n.contains(e.name)}));var r=i.invoke("errors").flatten().compact().value();return t("alterErrors",{val:e,field_name:this.field_name(),errors:r,def:this.def}).errors},focus:function(){return this.subviews.SelectAmount?this.subviews.SelectAmount.focus():this.subviews.SuggestedAmount&&this.subviews.SuggestedAmount.focus(),this},val:function(){var e=r.prototype.val.call(this);return e.IsRecurring||(delete e.SelectedFrequency,delete e.SelectedDuration,delete e.EndDate),this.spawn("recurringChange",{IsRecurring:e.IsRecurring}),e},setval:function(e){return s.each(this.subviews,function(t){s.isObject(t.val())?s.isFunction(t.setval)&&t.setval(e):s.each(e,function(e,n){t.field_name()===n&&t.setval(e)})}),this},_onSubviewsRendered:function(){var e=this.subviews.EndDate,t=this.subviews.SelectedFrequency,r=this.subviews.SelectedDuration,o=this.subviews.IsRecurring;if(e){var l=e.errors;e.errors=s.bind(function(){var e=l.call(this)||[];if(!e.length&&o.val()&&4===r.val()){var t=this.val();if(a(new Date(t)).utc().diff(a().utc(),"days")<0){var n="Please specify an end date in the future to enable recurring contribution.";e.push(new i(n,this))}}return e},e)}return o&&o.$input?o.$input.on("change",s.bind(function(t){e&&(e.def.required=t.currentTarget.checked),this.spawn("recurringChange",{IsRecurring:t.currentTarget.checked})},this)):t&&t.def.oldTitle&&(!o||o&&"hidden"===o.def.type)&&this.$(".at-recurring").prepend('<label class="IsRecurring"><span>'+t.def.oldTitle+"</span></label>"),t&&(t.errors=s.bind(function(){var e=n.prototype.errors.call(this);if(o.val()&&!this.val()){var t="Please select a frequency for your recurring contribution.";e.push(new i(t,this))}return e},t)),r&&(r.errors=s.bind(function(){var e=n.prototype.errors.call(this);if(o.val()&&!this.val()){var t="Please select a duration for your recurring contribution.";e.push(new i(t,this))}return e},r)),this.recurringCheckbox()},recurringCheckbox:function(e){var t=this.subviews.SelectedDuration,n=e?parseInt(e.currentTarget.value,10):t?t.val():null;return this.$(".at-date").css({display:4===n?"inline-block":"none","vertical-align":"top"}),this},recurringChecked:function(){this.val()}})}),n("CaptchaView",["backbone","FieldsetView","spin"],function(e,t){function n(e,t){var n='.at-captcha[data-idx="'+t+'"] [data-choice].checked',i=e.$(n).map(function(){return o(this).data("choice")}).get().join(" ");return i}function i(e,t,n){var i=e.$('.at-captcha[data-idx="'+t+'"]'),r=i.find(".at-recaptcha-table");r&&n&&(r.removeClass("error").find(".error").remove(),r.addClass("error").append('<small class="error">'+n+"</small>"))}function r(e,t,n){return{idx:e,error:t,simpleCaptcha:n}}var a=e._,o=e.$;return t.extend({__name__:"CaptchaView",type:"captcha",events:{"click .get-new-captcha-link":"replaceCaptcha","click .at-recaptcha > div":"toggleCheck"},initialize:function(){t.prototype.initialize.call(this),this.def.children=a.reduce(this.def.captchas,function(e,t,n){var i=this.def.captchas[n].input={name:"Captcha"+n,title:"Image Text",type:t.simpleCaptcha?"textfield":"recaptcha_grid",captcha:t,required:!!t.simpleCaptcha,maxlength:20,index:n};return e.push(i),e},[],this)},context:function(){var e=a.map(this.def.captchas,a.property("name"));if(e.length>1){var t=" and "+e.pop();e=e.join(", ")+t}else e=a.first(e);return{title:e+" would like to make sure you’re not a robot.",captchas:this.def.captchas}},_onSubviewsRendered:function(){a.each(this.def.captchas,function(e,t){var n=this.subviews["Captcha"+t];n&&e.simpleCaptcha?e.error&&(n.trigger("invalid"),n.renderFeedbackWithErrors([n.toError(e.error)])):i(this,t,e.error)},this),o("html,body").scrollTop(this.parent.$("form").offset().top)},val:function(){return{Captchas:a.map(this.def.captchas,function(e,t){var i={guid:e.guid,bioId:e.bioId,tries:e.tries,cookie:e.cookie,gridWidth:e.gridWidth,gridHeight:e.gridHeight};return i.value=e.simpleCaptcha?this.subviews["Captcha"+t].val():n(this,t),i},this)}},toggleCheck:function(e){var t=o(e.currentTarget).toggleClass("checked").parent().parent().parent();t.removeClass("error").find(".error").remove()},replaceCaptcha:function(e){e.preventDefault();var t,n=this.def,i=this.$(e.currentTarget).css("visibility","hidden"),r=i.closest(".at-captcha"),s=r.data("idx"),l=r.find(".spinner-wrapper"),u=r.find(".at-captcha-phrase"),c=n.captchas[s],h=!!c.simpleCaptcha,d=this;h?(t=r.find("img"),this.subviews["Captcha"+s].setval("").clearFeedback().focus()):(t=r.find(".at-recaptcha-table"),u.html("&hellip;"),t.find(".error").remove()),l.css({width:t.innerWidth()+"px",height:t.innerHeight()+"px"}).show().spin(),t.hide();var p=a.once(function(){l.spin(!1).hide(),t.show().find(".checked").removeClass("checked"),i.css("visibility","visible"),u.text(c.captchaPhrase)});return o.ajax({url:n.recaptcha+"/"+c.bioId,xhrFields:{withCredentials:!0},type:"GET"}).done(function(e){a.extend(c,e),h?t.attr("src",c.img):(d.subviews["Captcha"+s].def.captcha=c,d.subviews["Captcha"+s].render()),p()}).always(function(){setTimeout(p,1e3)}),this},errors:function(){var e=this,i=a.reduce(this.def.captchas,function(i,o,s){if(o.simpleCaptcha){var l=t.prototype.errors.call(e);if(l&&l.length){var u=a.map(l,function(e){return e.text}).join(" ");i.push(r(s,u,!0))}}else{var c=n(this,s);c||i.push(r(s,"Image selection is required.",!1))}return i},[],this);return i},renderFeedback:function(){var e=this.errors();e&&e.length&&this.renderFeedbackWithErrors(e)},renderFeedbackWithErrors:function(e){var t=this;a.each(e,function(e){if(e.simpleCaptcha){var n=t.$el.find(".at-text.Captcha"+e.idx);n.addClass("error"),n.find(".error").remove(),n.append(t.error_template({error_text:e.error,behavior_classes:"error"}))}else i(t,e.idx,e.error)})}})}),n("TicketingView",["backbone","NVTagCallbacks","accounting","doublebracket","FieldsetView"],function(e,t,n,i,r){function a(e){return{display:e+1,value:e+1}}function o(e,t){return e+t.get("level").get("price")}function s(e,t){return["Ticket_"+t,e]}var l=e._,u=e.Model.extend({__name__:"TicketHolder",initialize:function(){this.attributes.cid=this.cid},defaults:{first:"",last:"",required:!1},oberon_format:function(){return{FirstName:this.get("first"),LastName:this.get("last"),TicketId:this.get("level").get("id")}}}),c=e.Collection.extend({__name__:"TicketHolders",model:u,comparator:function(e){return e.get("level").get("id")},holders_by_level:function(e){return this.filter(function(t){return t.get("level").get("id")===e})}}),h=e.Model.extend({__name__:"TicketLevel",initialize:function(){this.attributes.cid=this.cid;var e=l(this.get("quantity")).range().map(a).value();e.unshift({display:"- Quantity -",value:""}),this.set("levels",e)},defaults:{levels:[],title:"General Admission",quantity:25,price:0,default_value:0}}),d=e.Collection.extend({__name__:"TicketLevels",model:h});return r.extend({__name__:"TicketingView",type:"ticketing",className:"at-fieldset TicketInformation",onMessages:{changeQuantityOrAdditional:"changeQuantityOrAdditional"},field_name:function(){return"EventTicketing"},initialize:function(){r.prototype.initialize.call(this),this.originalDef=l.clone(this.def),l.bindAll(this,"updateStats"),this.ticket_levels=new d(this.options.ticket_levels),this.ticket_holders=new c;for(var e=0;this.ticket_levels.length>e;e++)for(var t=0;t<this.ticket_levels.at(e).attributes.default_value;t++)this.ticket_holders.add({required:this.options.requireTicketHolders,level:this.ticket_levels.at(e).clone()});this.updateStats(),this.additional=null;var n=l(this.def.children);this.def.context={header:i.translate(n.find({name:"TicketHeaderHtml"}).markup)||"",additional:n.findIndex({name:"AdditionalContributionValue"}),host:n.findIndex({name:"HostCommittee"}),footer:i.translate(n.find({name:"TicketFooterHtml"}).markup)||""}},events:{"change *":"touch",'blur input[name^="AdditionalContribution"]':"formatAdditionalContribution",'keyup input[name^="AdditionalContribution"]':"changeAdditionalContribution",'keypress input[name^="AdditionalContribution"]':"ensureTotalBeforeSubmit"},formatAdditionalContribution:function(e){return this.additional&&e.currentTarget.value&&(e.currentTarget.value=this.additional),this.renderAdditionalContributionFeedback(),this},changeAdditionalContribution:l.debounce(function(e){return this.additional=n.formatMoney(e.currentTarget.value),this.updateStats(),this.$total.html(n.formatMoney(this.stats.total)),this},150),ensureTotalBeforeSubmit:function(e){return 13===e.which?this.changeAdditionalContribution(e).formatAdditionalContribution(e):void 0},changeQuantityOrAdditional:function(e){if(this.updateStats(),document.activeElement){var t=document.activeElement.id;if(t&&this.$("#"+t).length)return this.render(),this.$("#"+t).focus(),this}this.render()},context:function(){var e=l.omit({name:this.name,title:this.title,stats:this.stats,host:this.def.context.host,header:this.def.context.header,footer:this.def.context.footer,additional:this.def.context.additional,ticket_levels:this.ticket_levels.toJSON(),ticket_holders:this.ticket_holders.toJSON(),showTicketHolders:this.options.showTicketHolders&&this.ticket_holders.length,optionalTicketHolders:!this.options.requireTicketHolders,guest_names:this.options.formview.model.get("metadata").guest_names||"Guest Names"},function(e){return-1===e});return t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){if(this.subviews){this.hostView&&(this.host=this.hostView.val()),this.additionalView&&(this.additional=this.additionalView.val());for(var e in this.subviews)e.indexOf("TicketHolder")>=0&&delete this.subviews[e]}return this.$el.html(this.template(this.context())),this},_onSubviewsRendered:function(){if(this.additionalView=this.subviews.AdditionalContributionValue,this.hostView=this.subviews.HostCommittee,this.$total=this.$('[data-total="price"]'),this.host&&this.hostView&&this.hostView.setval(this.host),this.additionalView){this.additionalView.setval=function(e){var t=n.formatMoney(e);return n.unformat(t)?this.$("input").val(t):this.$("input").val(""),this};var e=this.additionalView.$("input:text");e.attr("placeholder")||e.attr("placeholder","$0.00"),this.additional&&this.additionalView.setval(this.additional)}return setTimeout(this.updateStats,350),this},updateStats:function(){this.val();var e=this.stats.total;return this.stats.add=n.unformat(this.additional)||0,this.stats.count=this.ticket_holders.length,this.stats.total=this.ticket_holders.reduce(o,0>this.stats.add?0:this.stats.add),this.additionalView&&this.additionalView.$input.prop("required",!this.stats.count),(this.stats.total!==e||0===this.stats.total)&&this.spawn("amountChange",{Amount:this.stats.total}),this.$total&&this.$total.html(n.formatMoney(this.stats.total)),this.def=this.options.definition=this.originalDef,this.stats},stats:{count:0,total:0,add:0},additionalContributionErrors:function(){var e=[];if(0===this.stats.count&&this.additionalView){var t=n.unformat(this.additional),i=this.additionalView.def;if("valueMin"in i){var r=i.valueMin||.01;r>t&&e.push(this.additionalView.toError("Invalid amount. Additional contributions must be at least "+n.formatMoney(r)+" without a ticket."))}if("valueMax"in i){var a=i.valueMax||1e12;t>a&&e.push(this.additionalView.toError("Invalid amount. Additional contributions must be less than "+n.formatMoney(a)+"."))}}return e},errors:function(){var e=l(this.subviews).chain().invoke("errors").flatten().compact().value();return e=e.concat(this.additionalContributionErrors()),this.renderFeedback(),t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},renderAdditionalContributionFeedback:function(){var e=[];if(this.additionalView){var t=this.additionalContributionErrors();t.length?e=this.additionalView.renderFeedbackWithErrors(t):this.$(".AdditionalContributionValue small."+this.error_class).remove()}return e},renderHostCommitteeFeedback:function(){var e=[];if(this.hostView){var t=this.hostView.errors();t.length&&(e=this.hostView.renderFeedbackWithErrors(t))}return e},renderFeedback:function(){var e=[];return e=e.concat(this.renderAdditionalContributionFeedback()),e=e.concat(this.renderHostCommitteeFeedback())},val:function(){var e=l(this.ticket_holders.invoke("oberon_format")).chain(),t=e.countBy("TicketId").map(s).object(),i=0;this.additionalView&&(i=n.unformat(this.additionalView.val()),i=!l.isNaN(i)&&l.isFinite(i)&&i>=0?i:0,this.additional=n.formatMoney(i));var r={Amount:n.toFixed(this.stats.total,2),AdditionalContributionValue:n.toFixed(i,2),TicketHolders:e.value()};return this.hostView&&(r.HostCommittee=this.hostView.val()),l.extend(r,t.value())}})}),n("AdvocacyView",["backbone","FieldsetView","NVTagCallbacks"],function(e,t,n){var i=e._,r=e.$,a=/(Message|Subject)([0-9])/;return t.extend({__name__:"AdvocacyView",type:"advocacy",initialize:function(){t.prototype.initialize.call(this);var e=this.def.messages.length;this.title=this.def.title,this.template=this.options.templates.fieldset,this.multiple=i.size(this.def.messages)>1;var n=this.options.formview.options.form_definition.metadata,r=!n||!n.deliveryType||n.deliveryType&&n.deliveryType.indexOf("TwilioCalling")<0&&n.deliveryType.indexOf("RevereCalling")<0,a=i.first(this.def.messages),o=a&&a.targets&&a.targets.length,s=o?[{name:"AdvocacyHeader",type:"markup",markup:'<div style="margin:0 0 0.625rem;"><strong>Send the following message'+(this.multiple?"s":"")+":</strong></div>"}]:[];this.def.children=i.reduce(this.def.messages,function(t,n,i){n.targets&&n.targets.length&&t.push({name:"Targets"+i,type:"targets",targets:n.targets}),t.push(n.subject.readonly?{name:"Subject"+i,type:"markup",markup:'<div data-at-id="Subject_'+i+'" class="Subject" style="white-space: pre-line">'+n.subject.value+"</div><br/>"}:{name:"Subject"+i,title:"Subject",label:"Personalize your subject",type:"textfield",required:r,maxlength:256,default_value:n.subject.value}),t.push({name:"Intro"+i,type:"markup",markup:'<div data-at-id="Greeting_'+i+'" style="white-space: pre-line">'+n.intro+"</div><br/>"});var a=4e3;return n.introductionMessage&&(t.push({name:"IntroductionMessage"+i,type:"markup",markup:'<div data-at-id="Introduction_'+i+'" style="white-space: pre-line">'+n.introductionMessage+"</div><br/>"}),a-=1+n.introductionMessage.length),n.conclusionMessage&&(a-=1+n.conclusionMessage.length),t.push(n.message.readonly?{name:"Message"+i,type:"markup",markup:'<div data-at-id="Message_'+i+'" class="Message" style="white-space: pre-line">'+n.message.value+"</div><br/>"}:{name:"Message"+i,title:"Message",label:"Personalize your message",type:"textarea",required:r,maxlength:a,default_value:n.message.value,attr:{rows:15}}),n.conclusionMessage&&t.push({name:"ConclusionMessage"+i,type:"markup",markup:'<div data-at-id="Conclusion_'+i+'" style="white-space: pre-line">'+n.conclusionMessage+"</div><br/>"}),t.push({name:"Outro"+i,type:"markup",markup:'<div data-at-id="Outro_'+i+'" style="white-space: pre-line">'+n.outro+"</div>"+(e>i+1?"<hr>":"")}),t},s)},val:function(){return i.reduce(t.prototype.val.call(this),function(e,t,n){var i=n.match(a),r=i[1]+"s",o=i[2];return e[r][o]=t,e},{Messages:[],Subjects:[]})},_onSubviewsRendered:function(){if(this.def.back){var e=this.parent.$(".at-form-submit");e.append('<a href="'+this.def.back.href+'" tabindex="-1" class="back-link at-submit btn-at btn-at-link">'+this.def.back.text+"</a>");var t=e.find('input[type="submit"]');this.multiple||t.val("Send message"),t.clone().attr("tabIndex",-1).addClass("at-secondary-submit").prependTo(this.$("legend").addClass("clearfix at-legend-with-submit"));
}n("postRender",{form_definition:this.options.form_definition,options:this.options,thank:!1});var i=this.parent.options.form_definition.metadata;i&&i.hasOwnProperty("layoutStyle")&&"multistep"===i.layoutStyle&&r("html,body").scrollTop(this.parent.$("form").offset().top)}})}),n("AdvocacyTweetsView",["backbone","FieldsetView"],function(e,t){var n=e.$,i=e._;return t.extend({__name__:"AdvocacyTweetsView",type:"advocacy_tweets",initialize:function(){t.prototype.initialize.call(this),this.title=this.def.title,this.template=this.options.templates.fieldset,this.def.children=i.reduce(this.def.messages,function(e,t){var n=i.extend({type:"advocacy_tweet"},t);return e.push(n),e},[])},_onSubviewsRendered:function(){var e=this,t=this.parent.$(".at-form-submit");t.append('<a href="'+this.def.back.href+'" tabindex="-1" class="back-link at-submit btn-at btn-at-link">'+this.def.back.text+"</a>");var r=t.find('input[type="submit"]');r.val("Continue"),r.prop("disabled",!0),r.prop("title","Post a Tweet to continue"),r.css("pointer-events","auto"),i.each(e.subviews,function(t){e.listenTo(t,"tweetOpened",e.tweetOpened)}),n("html,body").scrollTop(this.parent.$("form").offset().top)},tweetOpened:function(e){var t=this;n.ajax({method:"POST",xhrFields:{withCredentials:!0},url:this.def.reportUrl,data:i.extend({},e)}).always(function(){var e=t.parent.$(".at-form-submit"),n=e.find('input[type="submit"]');n.prop("disabled",!1),n.prop("title","Continue")})}})}),n("TributeGiftView",["backbone","FieldsetView","NVTagCallbacks"],function(e,t,n){var i=e._;return t.extend({__name__:"TributeGiftView",type:"tribute_gift",events:{'click [name="EnableTributeGift"]':"toggleTributeGift"},initialize:function(){t.prototype.initialize.call(this);var e=this.getEnableTributeGiftFromDef();this._enableTributeGift=e&&(e.default_value||e.value),this.template=this.options.templates.tribute_gift,this.listenTo(this.options.parent,"fill",this.postFill)},context:function(){var e={id:this.name.toLowerCase(),children:[],giftChildren:[]},t=i.findWhere(this.def.children,{name:"InHonorOrInMemoryOf"});if(t&&t.options&&t.options.length){var r=i.map(t.options,function(e){return{value:i.keys(e)[0],display:i.values(e)[0]}}),a=[],o=i.findWhere(r,{display:"In honor of"});a.push(o);var s=i.findWhere(r,{display:"In memory of"});a.push(s),t.options=i.map(a,function(e){var t={};return t[e.value]=e.display,t})}return i.each(this.def.children,function(t,n){"EnableTributeGift"===t.name?e.children.push({type:t.type,index:n,name:t.name}):e.giftChildren.push({type:t.type,index:n,name:t.name})}),n("alterContext",{context:e}).context},render:function(){this.$el.html(this.template(this.context()));var e=this.parent.$(".ContributionInformation");e&&e.css("border","none");var t=this.parent.$(".Premiums");return t&&t.css("border","none"),this.displayGiftOptions(this._enableTributeGift),this},errors:function(){return this.$(".at-tribute-gift").is(":visible")?t.prototype.errors.call(this):[]},renderFeedback:function(){return this.$(".at-tribute-gift").is(":visible")?t.prototype.renderFeedback.call(this):[]},getEnableTributeGiftFromDef:function(){return i.find(this.def.children,{name:"EnableTributeGift"})},toggleTributeGift:function(e){this.displayGiftOptions(e.currentTarget.checked)},displayGiftOptions:function(e){e?this.$(".at-tribute-gift").show():(this.$(".at-tribute-gift").hide(),this.clearFeedback()),this.displayRecipientInfoView(e)},displayRecipientInfoView:function(e){var t=this.parent.$(".RecipientInformation"),n=this.parent.subviews.RecipientInformation;t&&n&&(e?(t.show(),this.$el.addClass("at-fieldset-noborder")):(n.clearFeedback(),t.hide(),this.$el.removeClass("at-fieldset-noborder")),n.displayPreviewBtn(e))},postFill:function(e){this._enableTributeGift=e&&e.EnableTributeGift,this.displayGiftOptions(this._enableTributeGift)}})}),n("RecipientInformationView",["backbone","FieldsetView","NVTagCallbacks","formatRows"],function(e,t,n,i){var r=e._;return t.extend({__name__:"RecipientInformationView",type:"recipient_information",events:{'click [name="IncludeRecipient"]':"toggleRecipientInfo",'click [name="NotifyRecipient"]':"toggleNotifyRecipient"},initialize:function(){t.prototype.initialize.call(this);var e=this.getIncludeRecipientElemFromDef();this._includeRecipient=!e||e.default_value||e.value;var n=this.getNotifyRecipientElemFromDef();this._notifyRecipient=!n||n.default_value||n.value,this.listenTo(this.options.parent,"fill",this.postFill),this.template=this.options.templates.recipient_information},context:function(){var e={children:[],title:this.def.title,id:this.name.toLowerCase(),notificationFields:[]},t=this.getIncludeRecipientElemFromDef(),a=this.getNotificationFieldsFromDef(),o=r.without(this.def.children,t);e.includeRecipient={type:t.type,index:0,name:t.name},r.each(o,function(t,n){r.contains(a,t)?e.notificationFields.push({type:t.type,index:n+1,name:t.name}):e.children.push({type:t.type,index:n+1,name:t.name})});var s=e.children.concat(e.notificationFields,e.includeRecipient);return e.rows=i.format("RecipientInformation",s),n("alterContext",{element:"fieldset",context:e,def:this.def}).context},render:function(){this.$el.html(this.template(this.context())),this.displayRecipientInfo(this._includeRecipient),this.displayRecipientMsg(this._includeRecipient&&this._notifyRecipient)},errors:function(){var e=this.$(".at-recipient-info").is(":visible"),t=this.$(".at-recipient-msg").is(":visible");if(!e)return[];var i=[];return t?i=r(this.subviews).chain().invoke("errors").flatten().compact().value():(i=r(this.subviews).reduce(function(e,t){return"NotificationMessage"!==t.name&&e.push(r.invoke([t],"errors")),e},[]),r(i).flatten().compact().value()),n("alterError",{val:this.val(),field_name:this.field_name(),errors:i,def:this.def}).errors},renderFeedback:function(e){e&&e.stopPropagation();var t=this.$(".at-recipient-info").is(":visible"),n=this.$(".at-recipient-msg").is(":visible");if(!t)return[];if(!n){var i=r(this.subviews).reduce(function(e,t){return"NotificationMessage"!==t.name&&e.push(r.invoke([t],"renderFeedback")),e},[]);return r(i).flatten().compact().value()}return r(this.subviews).invoke("renderFeedback").flatten().compact().value()},displayRecipientInfo:function(e){e?(this.$(".at-recipient-info").show(),this.displayRecipientMsg(this._notifyRecipient)):(this.$(".at-recipient-info").hide(),this.displayRecipientMsg(!1),this.clearFeedback())},displayRecipientMsg:function(e){e?this.$(".at-recipient-msg").show():(this.$(".at-recipient-msg").hide(),this.clearFeedback()),r.defer(r.bind(this.displayPreviewBtn,this),e)},displayPreviewBtn:function(e){var t=this.$(".at-recipient-info").is(":visible"),n=this.$(".at-recipient-msg").is(":visible"),i=this.subviews?this.subviews.Ecard:null;return i?t&&n?void i.showPreviewBtn(e,this):void i.showPreviewBtn(!1,this):void 0},toggleRecipientInfo:function(e){this.displayRecipientInfo(e.currentTarget.checked)},toggleNotifyRecipient:function(e){this.displayRecipientMsg(e.currentTarget.checked)},postFill:function(e){this.getIncludeRecipientElemFromDef()&&(this._includeRecipient=e&&e.IncludeRecipient,this.displayRecipientInfo(this._includeRecipient)),this.getNotifyRecipientElemFromDef()&&(this._notifyRecipient=e&&e.NotifyRecipient,this.displayRecipientMsg(this._notifyRecipient))},getIncludeRecipientElemFromDef:function(){return r.find(this.def.children,{name:"IncludeRecipient"})},getNotifyRecipientElemFromDef:function(){return r.find(this.def.children,{name:"NotifyRecipient"})},getNotificationFieldsFromDef:function(){return r.filter(this.def.children,function(e){return"NotificationHeaderHtml"===e.name||"NotificationMessage"===e.name||"NotificationSendDate"===e.name||"Ecard"===e.name||"NotificationSendCopy"===e.name})},shouldHide:function(){var e=this.parent.$('input[name="EnableTributeGift"]:checked');return e?"on"===e.val():!1},getDefaultValues:function(){return r.reduce(this.def.children,function(e,t){return e[t.name]=t.default_value,e},{})}})}),n("ShippingInformationView",["backbone","FieldsetView","NVTagCallbacks","formatRows"],function(e,t,n,i){var r=e.$;return t.extend({__name__:"ShippingInformationView",type:"shipping_information",events:{"change   :radio":"onDestinationChange","click a.at-dismiss":"closeCta","click a.auto-fill":"autoFillAddress"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.shipping_information,this.giftName="gift",window.nvtag.on("giftChanged",this.onGiftChanged,this)},context:function(){var e=this.def,t={title:e.title,showCta:this.getRecipientInformationSection()?!0:!1};t.title=t.title.replace(/{{\s*PremiumGift\s*}}/g,this.giftName);var r=_.map(e.children,function(e,t){return{type:e.type,index:t,name:e.name}});return t.rows=i.format("ShippingInformation",r),n("alterContext",{element:"fieldset",context:t,def:e}).context},render:function(){var e=this.getSelectedGift();return e&&e.no_gift?(this.$el.css({visibility:"hidden"}),this):(this.$el.css({visibility:"visible"}),this.$el.html(this.template(this.context())),this.displayShippingFields(!1),this)},val:function(){var e=this.getCheckedDestination();if("other"===e)return t.prototype.val.call(this);if("yourinfo"===e){var n=this.options.formview.subviews.ContactInformation,i=n?n.val():void 0;if(i){var r=this.mapValues(i);return _.isEmpty(r)||r.ShippingCountry||!this.subviews.ShippingCountry||(r.ShippingCountry="US"),_.isEmpty(r)?void 0:r}}},errors:function(){var e=this.$(".at-shipping-info").is(":visible");return e?t.prototype.errors.call(this):[]},renderFeedback:function(e){e&&e.stopPropagation();var n=this.$(".at-shipping-info").is(":visible");return n?t.prototype.renderFeedback.call(this):[]},mapValues:function(e,t){var n=t||"",i=_.reduce(this.subviews,function(t,i){var r=i.name.replace("Shipping",""),a=n+r;"Recipient"===n&&"AddressLine1"===r&&(a="RecipientStreetAddress");var o=e[a];return o&&(t[i.name]=o),t},{});return i},closeCta:function(){this.$(".at-shipping-cta").hide()},autoFillAddress:function(){var e=this.getRecipientInformationSection().val(),t=this.mapValues(e,"Recipient");return this.setval(t),this.closeCta(),this.clearFeedback(),this},onGiftChanged:function(e){if(e.newGift){if(e.newGift.no_gift)return void this.$el.hide();this.giftName=e.newGift.title||"gift",this.$el.show(),this.render()}},getSelectedGift:function(){var e=this.options.formview.subviews.Premiums;if(e){var t=e.subviews.PremiumGift;if(t)return t.getSelectedGift()}},getTributeGiftSection:function(){return this.options.formview.subviews.TributeGift},getRecipientInformationSection:function(){return this.options.formview.subviews.RecipientInformation},onDestinationChange:function(e){var t=e.currentTarget.value;if("other"===t){var n=this.getRecipientInformationSection();if(n){var i=n.getDefaultValues(),r=n.val(),a=_.reduce(r,function(e,t,n){var r=i[n];return r!==t&&(e[n]=t),e},{}),o=this.$(".at-shipping-cta > .cta-text"),s=this.mapValues(a,"Recipient");if(_.isEmpty(s))this.$(".at-shipping-cta").hide();else{var l=this.getTributeGiftSection(),u="Would you like to use your Gift Membership recipient's information?";l&&(u="Would you like to use your Tribute Gift notification recipient's information?"),o&&o.text(u),this.$(".at-shipping-cta").show()}}this.displayShippingFields(!0)}else this.displayShippingFields(!1)},displayShippingFields:function(e){var t=this.$(".at-shipping-info");e?t.show():(t.hide(),this.clearFeedback())},getCheckedDestination:function(){var e=r("input[name=destinations]:checked");return e&&e.length?e[0].value:void 0}})}),n("EventInformationView",["FieldsetView","backbone"],function(e,t){var n=t._;return e.extend({__name__:"EventInformationView",type:"fieldset",events:{'change [name="EventIsPrivate"]':"eventPrivacyChange"},initialize:function(){e.prototype.initialize.call(this),this.listenTo(this.options.parent,"fill",this.postFill)},val:function(){var t=e.prototype.val.call(this),n=this.subviews.EventIsPrivateReason;return n&&n.$el.is(":hidden")&&delete t.EventIsPrivateReason,t},errors:function(){var t=e.prototype.errors.call(this),i=this.subviews.EventIsPrivateReason;return i&&i.$el.is(":hidden")&&n.remove(t,function(e){return e&&e.field&&"EventIsPrivateReason"===e.field.name}),t},postFill:function(){this.eventPrivacyChange()},eventPrivacyChange:function(){var e=this.subviews.EventIsPrivate,t=this.subviews.EventIsPrivateReason;if(e&&t){var n=e.val();n&&"true"===n.toLowerCase()?t.$el.show():t.$el.hide()}}})}),n("FormElements",["FieldsetView","SelectView","TextFieldView","MarkupView","PaymentInformationView","ContributionView","NotMeView","CaptchaView","TrackingPixelView","TicketingView","HiddenView","AdvocacyView","AdvocacyTweetsView","TributeGiftView","RecipientInformationView","ActivistCodeQuestionView","ShippingInformationView","EventInformationView","TimeView"],function(e,t,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y){return{fieldset_view:e,select_view:t,textfield_view:n,markup_view:i,payment_information_view:r,contribution_view:a,notme_view:o,captcha_view:s,trackingpixel_view:l,ticketing_view:u,hidden_view:c,advocacy_view:h,advocacy_tweets_view:d,tribute_gift_view:p,recipient_information_view:f,activistCodeQuestion_view:m,shipping_information_view:g,event_information_view:v,time_view:y}}),n("app/templates/_helpers/subview",["Handlebars"],function(e){return e.registerHelper("subview",function(e,t){return e.type?'<div data-name="'+e.name+'" data-subview="'+e.type+'_view" data-subview-index="'+e.index+'" />':e})}),n("hbs!app/templates/form",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.bannerImagePath:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<figure class="at-banner">';return r=t["if"].call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='<img src="'+l((a=null!=(a=t.bannerImagePath||(null!=e?e.bannerImagePath:e))?a:s,typeof a===o?a.call(e,{name:"bannerImagePath",hash:{},data:i}):a))+'" alt="'+l((a=null!=(a=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?a:s,typeof a===o?a.call(e,{name:"returnToWebsiteName",hash:{},data:i}):a))+'" title="'+l((a=null!=(a=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?a:s,typeof a===o?a.call(e,{name:"returnToWebsiteName",hash:{},data:i}):a))+'">',r=t["if"].call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"</figure>"},3:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<a href="'+s((r=null!=(r=t.returnToWebsiteUrl||(null!=e?e.returnToWebsiteUrl:e))?r:o,typeof r===a?r.call(e,{name:"returnToWebsiteUrl",hash:{},data:i}):r))+'">'},5:function(e,t,n,i){return"</a>"},7:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l='<header class="at-markup MeterHtml">\n    ';return a=null!=(a=t.meter_html||(null!=e?e.meter_html:e))?a:s,r=typeof a===o?a.call(e,{name:"meter_html",hash:{},data:i}):a,null!=r&&(l+=r),l+"\n  </header>"},9:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l='<header class="at-markup HeaderHtml">\n    ';return a=null!=(a=t.header_html||(null!=e?e.header_html:e))?a:s,r=typeof a===o?a.call(e,{name:"header_html",hash:{},data:i}):a,null!=r&&(l+=r),l+"\n  </header>"},11:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o},13:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<ol class="at-steps clearfix">\n';return r=t.each.call(e,null!=e?e.steps:e,{name:"each",hash:{},fn:this.program(14,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='      <input class="tabindex focusPrevStep">\n    </ol>\n    <style>\n      .at .at-steps li {',r=t["if"].call(e,null!=e?e.staticSteps:e,{name:"if",hash:{},fn:this.program(19,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"width: "+l((a=null!=(a=t.stepWidth||(null!=e?e.stepWidth:e))?a:s,typeof a===o?a.call(e,{name:"stepWidth",hash:{},data:i}):a))+" }\n    </style>"},14:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l="function",u=t.helperMissing,c='<li data-step="'+s(o(i&&i.index,e))+'" class="at-step '+s((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:u,typeof a===l?a.call(e,{name:"classes",hash:{},data:i}):a))+'">\n';return r=t["if"].call(e,null!=e?e["static"]:e,{name:"if",hash:{},fn:this.program(15,i),inverse:this.program(17,i),data:i}),null!=r&&(c+=r),c+"        </li>"},15:function(e,t,n,i){var r=this.lambda,a=this.escapeExpression;return'<b>\n            <span class="step-title">'+a(r(null!=e?e.title:e,e))+"</span>\n          </b>"},17:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda;return'<a title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{},data:i}):a))+'" href="#'+l(u(null!=(r=null!=e?e[0]:e)?r.name:r,e))+'">\n            <span class="step-title">'+l(u(null!=(r=null!=e?e[0]:e)?r.title:r,e))+"</span>\n          </a>"},19:function(e,t,n,i){return"cursor: default;"},21:function(e,t,n,i){var r,a="";return r=t.unless.call(e,null!=e?e.staticSteps:e,{name:"unless",hash:{},fn:this.program(22,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},22:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<input class="tabindex focusNextStep">\n      <div class="step-prevNext clearfix">\n        <div class="prevNext next">\n          <button class="submitStep btn-at btn-at-primary">'+s((r=null!=(r=t.submit_label||(null!=e?e.submit_label:e))?r:o,typeof r===a?r.call(e,{name:"submit_label",hash:{},data:i}):r))+'</button>\n          <a tabindex="0" class="nextStep btn-at btn-at-primary">Next</a>\n        </div>\n        <div class="prevNext prev">\n          <a class="prevStep btn-at btn-at-link">Back</a>\n        </div>\n      </div>'},24:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l='<footer class="multistep-footer clearfix">\n';return r=t["if"].call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(25,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t["if"].call(e,null!=e?e.paidForByDisclaimerText:e,{name:"if",hash:{},fn:this.program(27,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='    <div class="poweredby">',a=null!=(a=t.poweredby||(null!=e?e.poweredby:e))?a:s,r=typeof a===o?a.call(e,{name:"poweredby",hash:{},data:i}):a,null!=r&&(l+=r),l+"</div>\n  </footer>"},25:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<p class="returnToWebsite ngp-returnToWebSite">\n        <a href="'+s((r=null!=(r=t.returnToWebsiteUrl||(null!=e?e.returnToWebsiteUrl:e))?r:o,typeof r===a?r.call(e,{name:"returnToWebsiteUrl",hash:{},data:i}):r))+'">'+s((r=null!=(r=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?r:o,typeof r===a?r.call(e,{name:"returnToWebsiteName",hash:{},data:i}):r))+"</a>\n      </p>"},27:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<p><span class="at-paid-for-by">'+s((r=null!=(r=t.paidForByDisclaimerText||(null!=e?e.paidForByDisclaimerText:e))?r:o,typeof r===a?r.call(e,{name:"paidForByDisclaimerText",hash:{},data:i}):r))+"</span></p>"},29:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.tracking_pixel:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=t["if"].call(e,null!=e?e.isOberon:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='<section class="at-inner">\n<header class="at-title">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{},data:i}):a))+"</header>\n",r=t["if"].call(e,null!=e?e.meter_html:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.header_html:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='\n<div data-subview="error_console"></div>\n\n<form class="'+l((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:s,typeof a===o?a.call(e,{name:"classes",hash:{},data:i}):a))+'" method="post" novalidate action="'+l((a=null!=(a=t.form_id||(null!=e?e.form_id:e))?a:s,typeof a===o?a.call(e,{name:"form_id",hash:{},data:i}):a))+'" accept-charset="utf-8" autocomplete="on">\n',r=t.each.call(e,null!=e?e.form_elements:e,{name:"each",hash:{},fn:this.program(11,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.multistep:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='<div class="at-form-submit clearfix">\n',r=t["if"].call(e,null!=e?e.multistep:e,{name:"if",hash:{},fn:this.program(21,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='    <input type="submit" value="'+l((a=null!=(a=t.submit_label||(null!=e?e.submit_label:e))?a:s,typeof a===o?a.call(e,{name:"submit_label",hash:{},data:i}):a))+'" class="at-submit btn-at btn-at-primary">\n  </div>\n</form>\n<footer class="at-markup FooterHtml clearfix">\n  ',a=null!=(a=t.footer_html||(null!=e?e.footer_html:e))?a:s,r=typeof a===o?a.call(e,{name:"footer_html",hash:{},data:i}):a,null!=r&&(u+=r),u+="\n</footer>\n</section>",r=t["if"].call(e,null!=e?e.isOberon:e,{name:"if",hash:{},fn:this.program(24,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.tracking_pixel:e,{name:"if",hash:{},fn:this.program(29,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+'<div data-subview="page_alert"></div>\n'},useData:!0});return t.registerPartial("app/templates/form",n),n}),n("hbs!app/templates/_rows",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.rows:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="at-row '+l((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:s,typeof a===o?a.call(e,{name:"classes",hash:{}}):a))+'">';return r=t.each.call(e,e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+"</div>"},3:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},5:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.children:e,{name:"each",hash:{},fn:this.program(6,i),inverse:this.noop}),null!=r&&(a+=r),a},6:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s=t.helperMissing,l='<div class="at-row at-row-full '+o(a(null!=e?e.name:e,e))+'">\n      ';return r=(t.subview||e&&e.subview||s).call(e,e,{name:"subview",hash:{}}),null!=r&&(l+=r),l+"\n    </div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.rows:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(5,i)}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/_rows",n),t.registerPartial("./_rows",n),n}),n("hbs!app/templates/fieldset",["hbs","Handlebars","hbs!app/templates/_rows"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<div class="at-subtitle">'+s((r=null!=(r=t.subTitle||(null!=e?e.subTitle:e))?r:o,typeof r===a?r.call(e,{name:"subTitle",hash:{}}):r))+"</div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+"</legend>\n";return r=t["if"].call(e,null!=e?e.subTitle:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+='<div class="at-fields">\n',r=this.invokePartial(n["./_rows"],"  ","./_rows",e,void 0,t,n),null!=r&&(u+=r),u+"</div>\n"},usePartial:!0});return t.registerPartial("app/templates/fieldset",n),n}),n("hbs!app/templates/_label",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"<kbd>"},3:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l="";return a=null!=(a=t.label||(null!=e?e.label:e))?a:s,r=typeof a===o?a.call(e,{name:"label",hash:{}}):a,null!=r&&(l+=r),l},5:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return s((r=null!=(r=t.title||(null!=e?e.title:e))?r:o,typeof r===a?r.call(e,{name:"title",hash:{}}):r))},7:function(e,t,n,i){return"<small>(Optional)</small>"},9:function(e,t,n,i){return"</kbd>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.labelhide:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(5,i)}),null!=r&&(a+=r),a+="&nbsp;",r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(7,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.labelhide:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/_label",n),t.registerPartial("./_label",n),n}),n("hbs!app/templates/textfield",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (read only)"},3:function(e,t,n,i){var r;return r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r?r:""},4:function(e,t,n,i){return" (required)"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<input type="'+l((a=null!=(a=t.type||(null!=e?e.type:e))?a:s,typeof a===o?a.call(e,{name:"type",hash:{}}):a))+'" ',a=null!=(a=t.autocomplete||(null!=e?e.autocomplete:e))?a:s,r=typeof a===o?a.call(e,{name:"autocomplete",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:s,r=typeof a===o?a.call(e,{name:"pattern",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:s,r=typeof a===o?a.call(e,{name:"readonly",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.accesskey||(null!=e?e.accesskey:e))?a:s,r=typeof a===o?a.call(e,{name:"accesskey",hash:{}}):a,null!=r&&(u+=r),u+=' title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a)),r=t["if"].call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(u+=r),u+='" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="'+l((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:s,typeof a===o?a.call(e,{name:"maxlength",hash:{}}):a))+'" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,r=typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+">\n"},usePartial:!0});return t.registerPartial("app/templates/textfield",n),n}),n("hbs!app/templates/textarea",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (read only)"},3:function(e,t,n,i){var r;return r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r?r:""},4:function(e,t,n,i){return" (required)"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+="<textarea "+l((a=null!=(a=t.required||(null!=e?e.required:e))?a:s,typeof a===o?a.call(e,{name:"required",hash:{}}):a))+" "+l((a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:s,typeof a===o?a.call(e,{name:"readonly",hash:{}}):a))+' title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a)),r=t["if"].call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(u+=r),u+='" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" ',a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:s,r=typeof a===o?a.call(e,{name:"maxlength",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,r=typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+">"+l((a=null!=(a=t.default_value||(null!=e?e.default_value:e))?a:s,typeof a===o?a.call(e,{name:"default_value",hash:{}}):a))+"</textarea>\n"},usePartial:!0});return t.registerPartial("app/templates/textarea",n),n}),n("hbs!app/templates/checkbox",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<input type="checkbox" '+s((r=null!=(r=t.checked||(null!=e?e.checked:e))?r:o,typeof r===a?r.call(e,{name:"checked",hash:{}}):r))+" "+s((r=null!=(r=t.required||(null!=e?e.required:e))?r:o,typeof r===a?r.call(e,{name:"required",hash:{}}):r))+' name="'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===a?r.call(e,{name:"name",hash:{}}):r))+'"> <span>'+s((r=null!=(r=t.title||(null!=e?e.title:e))?r:o,typeof r===a?r.call(e,{name:"title",hash:{}}):r))+"</span>\n"}});return t.registerPartial("app/templates/checkbox",n),n}),n("hbs!app/templates/select",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<option value="'+s((r=null!=(r=t.value||(null!=e?e.value:e))?r:o,typeof r===a?r.call(e,{name:"value",hash:{}}):r))+'" '+s((r=null!=(r=t.disabled||(null!=e?e.disabled:e))?r:o,typeof r===a?r.call(e,{name:"disabled",hash:{}}):r))+" "+s((r=null!=(r=t.selected||(null!=e?e.selected:e))?r:o,typeof r===a?r.call(e,{name:"selected",hash:{}}):r))+">"+s((r=null!=(r=t.display||(null!=e?e.display:e))?r:o,typeof r===a?r.call(e,{name:"display",hash:{}}):r))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+="<select "+l((a=null!=(a=t.multiple||(null!=e?e.multiple:e))?a:s,typeof a===o?a.call(e,{name:"multiple",hash:{}}):a))+" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.autocomplete||(null!=e?e.autocomplete:e))?a:s,r=typeof a===o?a.call(e,{name:"autocomplete",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.accesskey||(null!=e?e.accesskey:e))?a:s,r=typeof a===o?a.call(e,{name:"accesskey",hash:{}}):a,null!=r&&(u+=r),u+=' title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" class="'+l((a=null!=(a=t.select_classes||(null!=e?e.select_classes:e))?a:s,typeof a===o?a.call(e,{name:"select_classes",hash:{}}):a))+" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+='">',r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+"</select>\n"},usePartial:!0});return t.registerPartial("app/templates/select",n),n}),n("hbs!app/templates/span",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return" <small>(Optional)</small>";
},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<label for="edit-'+l((a=null!=(a=t.name_lower||(null!=e?e.name_lower:e))?a:s,typeof a===o?a.call(e,{name:"name_lower",hash:{}}):a))+'">\n  '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a));return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'</label>\n<span class="'+l((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:s,typeof a===o?a.call(e,{name:"classes",hash:{}}):a))+'" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'"> '+l((a=null!=(a=t.display||(null!=e?e.display:e))?a:s,typeof a===o?a.call(e,{name:"display",hash:{}}):a))+" </span>\n"}});return t.registerPartial("app/templates/span",n),n}),n("hbs!app/templates/radios",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return" <small>(Optional)</small>"},3:function(e,t,n,i,r){var a,o="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda;return'<label title="'+l((a=null!=(a=t.display||(null!=e?e.display:e))?a:s,typeof a===o?a.call(e,{name:"display",hash:{}}):a))+'">\n      <input type="radio" name="'+l(u(null!=r[1]?r[1].name:r[1],e))+'" '+l((a=null!=(a=t.checked||(null!=e?e.checked:e))?a:s,typeof a===o?a.call(e,{name:"checked",hash:{}}):a))+' value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'">\n      '+l((a=null!=(a=t.display||(null!=e?e.display:e))?a:s,typeof a===o?a.call(e,{name:"display",hash:{}}):a))+"\n    </label>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o,s="function",l=t.helperMissing,u=this.escapeExpression,c="<label>\n  "+u((o=null!=(o=t.title||(null!=e?e.title:e))?o:l,typeof o===s?o.call(e,{name:"title",hash:{}}):o));return a=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(c+=a),c+='</label>\n<div class="radios">\n',a=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(3,i,r),inverse:this.noop}),null!=a&&(c+=a),c+"</div>\n"},useDepths:!0});return t.registerPartial("app/templates/radios",n),n}),n("hbs!app/templates/amount",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i,r){var a,o='<div class="at-row SelectAmount OtherAmount RecurringButtons">\n  <div class="at-radio">\n    <div class="at-radios clearfix">\n';return a=t.each.call(e,null!=e?e.recurringAmountOptions:e,{name:"each",hash:{},fn:this.program(2,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"    </div>\n  </div>\n</div>\n<br>\n"},2:function(e,t,n,i,r){var a,o,s="function",l=t.helperMissing,u=this.escapeExpression,c='<label class="label-amount';return a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(3,i,r),inverse:this.noop}),null!=a&&(c+=a),c+=" ",a=t["if"].call(e,null!=e?e.isLong:e,{name:"if",hash:{},fn:this.program(5,i,r),inverse:this.noop}),null!=a&&(c+=a),c+='" title="',o=null!=(o=t.display||(null!=e?e.display:e))?o:l,a=typeof o===s?o.call(e,{name:"display",hash:{}}):o,null!=a&&(c+=a),c+='">\n          <input name="SelectAmount" type="radio" class="isRecurring',a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(7,i,r),inverse:this.noop}),null!=a&&(c+=a),c+='" value="'+u((o=null!=(o=t.val||(null!=e?e.val:e))?o:l,typeof o===s?o.call(e,{name:"val",hash:{}}):o))+'">',o=null!=(o=t.display||(null!=e?e.display:e))?o:l,a=typeof o===s?o.call(e,{name:"display",hash:{}}):o,null!=a&&(c+=a),c+="\n",a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(9,i,r),inverse:this.program(11,i,r)}),null!=a&&(c+=a),c+"</label>"},3:function(e,t,n,i){return" label-otheramount label-otheramount-recurring"},5:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return s((r=null!=(r=t.isLong||(null!=e?e.isLong:e))?r:o,typeof r===a?r.call(e,{name:"isLong",hash:{}}):r))},7:function(e,t,n,i){return' radio-other" style="display: none '},9:function(e,t,n,i,r){var a,o=this.lambda,s=this.escapeExpression;return'<input type="number" step="0.01" tabindex="-1" autocomplete="transaction-amount" class="edit-otheramount otherRecurring" name="OtherAmountRecurring" title="Other Amount" placeholder="0.00">\n            <span class="label-otheramount-prefix">'+s(o(null!=(a=null!=r[2]?r[2].currency:r[2])?a.symbol:a,e))+"</span>\n"},11:function(e,t,n,i){return"<a></a> "},13:function(e,t,n,i,r){var a,o,s="function",l=t.helperMissing,u=this.escapeExpression,c='<label class="label-amount';return a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(14,i,r),inverse:this.noop}),null!=a&&(c+=a),c+=" ",a=t["if"].call(e,null!=e?e.isLong:e,{name:"if",hash:{},fn:this.program(5,i,r),inverse:this.noop}),null!=a&&(c+=a),c+='" title="',o=null!=(o=t.display||(null!=e?e.display:e))?o:l,a=typeof o===s?o.call(e,{name:"display",hash:{}}):o,null!=a&&(c+=a),c+='">\n        <input name="SelectAmount" type="radio" ',a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(16,i,r),inverse:this.noop}),null!=a&&(c+=a),c+=' value="'+u((o=null!=(o=t.val||(null!=e?e.val:e))?o:l,typeof o===s?o.call(e,{name:"val",hash:{}}):o))+'">',o=null!=(o=t.display||(null!=e?e.display:e))?o:l,a=typeof o===s?o.call(e,{name:"display",hash:{}}):o,null!=a&&(c+=a),c+="\n",a=t["if"].call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(18,i,r),inverse:this.program(11,i,r)}),null!=a&&(c+=a),c+"</label>"},14:function(e,t,n,i){return" label-otheramount"},16:function(e,t,n,i){return'class="radio-other" style="display: none" '},18:function(e,t,n,i,r){var a,o='<input type="number" tabindex="-1" autocomplete="transaction-amount" class="edit-otheramount" name="OtherAmount" title="Other Amount" placeholder="0.00">\n';return a=t["if"].call(e,null!=r[2]?r[2].isUSD:r[2],{name:"if",hash:{},fn:this.program(19,i,r),inverse:this.noop}),null!=a&&(o+=a),o},19:function(e,t,n,i,r){var a,o=this.lambda,s=this.escapeExpression;return'            <span class="label-otheramount-prefix">'+s(o(null!=(a=null!=r[3]?r[3].currency:r[3])?a.symbol:a,e))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o="";return a=t["if"].call(e,null!=e?e.recurringAmountOptions:e,{name:"if",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(o+=a),o+='<div class="at-row SelectAmount OtherAmount NonRecurringButtons">\n  <div class="at-radio">\n    <div class="at-radios clearfix">\n',a=t.each.call(e,null!=e?e.amount_options:e,{name:"each",hash:{},fn:this.program(13,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"    </div>\n  </div>\n</div>"},useDepths:!0});return t.registerPartial("app/templates/amount",n),n}),n("hbs!app/templates/contribution",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},3:function(e,t,n,i){var r,a='<div class="at-recurring">';return r=t.each.call(e,null!=e?e.recurring:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>"},5:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression;return'    <div name="AmountSubtitle" class="at-subtitle">Your contribution will be accepted in <b>'+o(a(null!=(r=null!=e?e.currency:e)?r.code:r,e))+" "+o(a(null!=(r=null!=e?e.currency:e)?r.symbol:r,e))+" - "+o(a(null!=(r=null!=e?e.currency:e)?r.name:r,e))+"</b></div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</legend>\n<div class="at-fields">';return r=t.each.call(e,null!=e?e.children:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.recurring:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),r=t.unless.call(e,null!=e?e.isUSD:e,{name:"unless",hash:{},fn:this.program(5,i),inverse:this.noop}),null!=r&&(u+=r),u+"</div>\n"}});return t.registerPartial("app/templates/contribution",n),n}),n("hbs!app/templates/_paypal",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<div id="paypal-container" style="padding-bottom: 5px;"></div>\n<label class="paypal-label">\n  <input type="hidden" name="paypalNonce" id="payment_method_nonce" value=""/>\n</label>\n\n'}});return t.registerPartial("app/templates/_paypal",n),t.registerPartial("./_paypal",n),t.registerPartial("./_paypal",n),n}),n("hbs!app/templates/_eft",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<label class="account-type-label">Account Type\n  <select title="Account Type" name="bankAccountType" id="bankAccountType" style="width:50%;" class="eft-input">\n    <option value="Checking">Checking</option>\n    <option value="Savings">Savings</option>\n  </select>\n</label>\n<label class="routing-number-label at-row-half">Routing Number <a href="javascript:window.open(\'https://d1aqhv4sn5kxtx.cloudfront.net/actiontag/bankhelp.html\',\'efthelp\',\'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=400,height=450\')" class="at-whatsthis" style="float:right" tabindex="-1">What\'s This?</a>\n  <input type="tel" name="routingNumber" id="routingNumber" placeholder="•••••••••" style="width:100%;" maxlength="9" class="eft-input"/>\n</label>\n<label class="account-number-label at-row-half">Account Number <a href="javascript:window.open(\'https://d1aqhv4sn5kxtx.cloudfront.net/actiontag/bankhelp.html\',\'efthelp\',\'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=400,height=450\')" class="at-whatsthis" style="float:right" tabindex="-1">What\'s This?</a>\n  <input type="tel" name="bankAccountNumber" id="bankAccountNumber" placeholder="•••••••••••••••••" style="width:100%;" maxlength="17" class="eft-input"/>\n</label>\n<label class="confirm-account-number-label at-row-half">Confirm Account Number\n  <input type="tel" name="confirmBankAccountNumber" id="confirmBankAccountNumber" placeholder="•••••••••••••••••" style="width:100%;" maxlength="17" class="eft-input"/>\n</label>\n<label class="at-check authorize-payment-label">\n  <input type="checkbox" name="authorizePayment" id="authorizePayment" class="eft-input"/>\n  <span>I authorize the use of my bank account as a payment method and authorize this organization to debit my bank account via the Automated Clearing House system to fulfill my donation commitment. This authority will remain in effect until revoked in writing by the account holder.</span>\n</label>\n'}});return t.registerPartial("app/templates/_eft",n),t.registerPartial("./_eft",n),t.registerPartial("./_eft",n),n}),n("hbs!app/templates/_additionalPaymentMethods",["hbs","Handlebars","hbs!app/templates/_paypal","hbs!app/templates/_eft"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a='<label style="display: inline-block; margin-right: 1em"><input type="radio" name="PaymentMethod" value="creditcard"';return r=t["if"].call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a+"> Credit Card</label>"},2:function(e,t,n,i){return"checked"},4:function(e,t,n,i){var r,a='<label style="display: inline-block; margin-right: 1em"><input type="radio" name="PaymentMethod" value="paypal"';return r=t.unless.call(e,null!=e?e.ccEnabled:e,{name:"unless",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a+"> PayPal</label>"},6:function(e,t,n,i){return'      <label style="display: inline-block; margin-right: 1em"><input type="radio" name="PaymentMethod" value="eft"> Bank Account</label>\n'},8:function(e,t,n,i){return'<label style="display: inline-block"><input type="radio" name="PaymentMethod" value="bitcoin"> <img src="//i.imgur.com/OPFCpxr.png" alt="BitPay" style="height: 16px; display: inline-block; vertical-align: middle"></label>'},10:function(e,t,n,i){var r,a='<div class="paypal-accepted-here"';return r=t["if"].call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(11,i),inverse:this.program(13,i)}),null!=r&&(a+=r),a+=">\n",r=this.invokePartial(n["./_paypal"],"    ","./_paypal",e,void 0,t,n),null!=r&&(a+=r),a+"    </div>"},11:function(e,t,n,i){return'style="display: none;"'},13:function(e,t,n,i){return'style="display: block;"'},15:function(e,t,n,i){var r,a='    <div class="eft-accepted-here" style="display: none;">\n';return r=this.invokePartial(n["./_eft"],"      ","./_eft",e,void 0,t,n),null!=r&&(a+=r),a+"    </div>\n"},17:function(e,t,n,i){return'<div class="bitcoin-accepted-here" style="display: none">\n      <p style="margin: 0">Click "Continue" to use your bitcoin wallet and process your contribution.</p>\n    </div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-row">\n  <label class="at-radio PaymentMethod" for="">Payment Method:\n    <div class="at-radio-set" style="display: inline-block; margin-left: 1em">';return r=t["if"].call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.paypalEnabled:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.eftEnabled:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.bitPayEnabled:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop}),null!=r&&(a+=r),a+="</div>",r=t["if"].call(e,null!=e?e.paypalEnabled:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.eftEnabled:e,{name:"if",hash:{},fn:this.program(15,i),inverse:this.noop}),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.bitPayEnabled:e,{name:"if",hash:{},fn:this.program(17,i),inverse:this.noop}),null!=r&&(a+=r),a+"</label>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/_additionalPaymentMethods",n),t.registerPartial("./_additionalPaymentMethods",n),n}),n("hbs!app/templates/payment_information",["hbs","Handlebars","hbs!app/templates/_additionalPaymentMethods","hbs!app/templates/_rows","hbs!app/templates/_paypal","hbs!app/templates/_eft"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_additionalPaymentMethods"],"    ","./_additionalPaymentMethods",e,void 0,t,n),null!=r&&(a+=r),r=t["if"].call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_rows"],"      ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a},4:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.paypalEnabled:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i)}),null!=r&&(a+=r),a},5:function(e,t,n,i){var r,a='<div class="paypal-accepted-here" style="display: block;">\n';return r=this.invokePartial(n["./_paypal"],"        ","./_paypal",e,void 0,t,n),null!=r&&(a+=r),a+"      </div>\n"},7:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.eftEnabled:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.program(10,i)}),null!=r&&(a+=r),a},8:function(e,t,n,i){var r,a='<div class="eft-accepted-here" style="display: block;">\n';return r=this.invokePartial(n["./_eft"],"          ","./_eft",e,void 0,t,n),null!=r&&(a+=r),a+"        </div>\n"},10:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_rows"],"        ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</legend>\n<div class="at-fields">';return r=t["if"].call(e,null!=e?e.multiplePaymentOptions:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(4,i)}),null!=r&&(u+=r),u+"</div>\n"},usePartial:!0});return t.registerPartial("app/templates/payment_information",n),n}),n("hbs!app/templates/payment_information_readonly",["hbs","Handlebars","hbs!app/templates/_additionalPaymentMethods","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_additionalPaymentMethods"],"    ","./_additionalPaymentMethods",e,void 0,t,n),null!=r&&(a+=r),a},3:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.cvv:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},5:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.fa:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</legend>\n<div class="at-fields">';return r=t["if"].call(e,null!=e?e.multiplePaymentOptions:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+='<div class="at-row at-row-full">\n    <label class="at-text at-cc-number" style="flex-grow: 3">Card Number\n      <a href="#edit-account" class="change-account" style="float: right; font-size: 80%; line-height: 21px">Edit</a>\n      <div class="cc-type-wrapper">\n        <div class="cc-type unknown"></div>\n        <input readonly disabled name="Account" type="tel" title="Credit '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" value="•••• •••• •••• '+l((a=null!=(a=t.cc_4_digit||(null!=e?e.cc_4_digit:e))?a:s,typeof a===o?a.call(e,{name:"cc_4_digit",hash:{}}):a))+'" style="pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none;">\n      </div>\n    </label>\n',r=t["if"].call(e,null!=e?e.cvv:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+='  </div>\n  <div class="at-row">\n',r=t["if"].call(e,null!=e?e.fa:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop}),null!=r&&(u+=r),u+"  </div>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/payment_information_readonly",n),n}),n("hbs!app/templates/credit_card",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<div class="cc-type-wrapper">\n  <div class="cc-type unknown"></div>\n  <input type="tel" autocomplete="cc-number" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" title="Credit '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="'+l((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:s,typeof a===o?a.call(e,{name:"maxlength",hash:{}}):a))+'" minlength="'+l((a=null!=(a=t.minlength||(null!=e?e.minlength:e))?a:s,typeof a===o?a.call(e,{name:"minlength",hash:{}}):a))+'" ',a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:s,r=typeof a===o?a.call(e,{name:"pattern",hash:{}}):a,null!=r&&(u+=r),u+=' placeholder="'+l((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.accesskey||(null!=e?e.accesskey:e))?a:s,r=typeof a===o?a.call(e,{name:"accesskey",hash:{}}):a,null!=r&&(u+=r),u+">\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/credit_card",n),n}),n("hbs!app/templates/cc_expiration",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<input type="'+l((a=null!=(a=t.type||(null!=e?e.type:e))?a:s,typeof a===o?a.call(e,{name:"type",hash:{}}):a))+'" ',a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:s,r=typeof a===o?a.call(e,{name:"pattern",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.accesskey||(null!=e?e.accesskey:e))?a:s,r=typeof a===o?a.call(e,{name:"accesskey",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,r=typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+' autocomplete="cc-exp" title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+' (MM / YY)" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" min="'+l((a=null!=(a=t.min||(null!=e?e.min:e))?a:s,typeof a===o?a.call(e,{name:"min",hash:{}}):a))+'" maxlength="7">\n'},usePartial:!0});return t.registerPartial("app/templates/cc_expiration",n),n}),n("hbs!app/templates/cvv2",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<div class="cvc-type-wrapper">\n  <div class="cvc-type"></div>\n  <input type="tel" autocomplete="cc-csc" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" pattern="[0-9]{3,4}" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="4" minlength="3" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,r=typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+=" ",a=null!=(a=t.accesskey||(null!=e?e.accesskey:e))?a:s,r=typeof a===o?a.call(e,{name:"accesskey",hash:{}}):a,null!=r&&(u+=r),u+">\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/cvv2",n),n}),n("hbs!app/templates/date",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<input type="'+l((a=null!=(a=t.type||(null!=e?e.type:e))?a:s,typeof a===o?a.call(e,{name:"type",hash:{}}):a))+'" title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="10" size="10" class="',a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+='" placeholder="'+l((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+' autocomplete="off">\n'},usePartial:!0});return t.registerPartial("app/templates/date",n),n}),n("app/templates/_helpers/formatMoney",["Handlebars","accounting"],function(e,t){return e.registerHelper("formatMoney",function(e){return t.formatMoney(e)})}),n("hbs!app/templates/ticketing",["hbs","Handlebars","app/templates/_helpers/formatMoney"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l='<div class="at-row at-row-solo at-row-full TicketHeaderHtml">\n    <div class="at-markup TicketHeaderHtml">';return a=null!=(a=t.header||(null!=e?e.header:e))?a:s,r=typeof a===o?a.call(e,{name:"header",hash:{},data:i}):a,null!=r&&(l+=r),l+"</div>\n  </div>"},3:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return"<tr data-subview='ticketing_level_view' data-subview-id='"+s((r=null!=(r=t.cid||(null!=e?e.cid:e))?r:o,typeof r===a?r.call(e,{name:"cid",hash:{},data:i}):r))+"' data-subview-index='"+s(l(i&&i.index,e))+"'></tr>"},5:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return"<tr>\n        <td colspan=\"3\">\n          <div data-subview='textfield_view' data-subview-index='"+s((r=null!=(r=t.additional||(null!=e?e.additional:e))?r:o,typeof r===a?r.call(e,{name:"additional",hash:{},data:i}):r))+"'></div>\n        </td>\n      </tr>"},7:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s='<table class="at-table TicketHolders">\n    <thead>\n      <tr>\n        <th colspan="2">'+o(a(null!=(r=null!=e?e.guest_names:e)?r.label:r,e));return r=t["if"].call(e,null!=e?e.optionalTicketHolders:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+=" </th>\n        <th>Ticket Level</th>\n      </tr>\n    </thead>\n    <tbody>\n",r=t.each.call(e,null!=e?e.ticket_holders:e,{name:"each",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+"    </tbody>\n  </table>"},8:function(e,t,n,i){return'<small class="optional">&nbsp;(Optional)</small>'},10:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return"<tr data-subview='ticket_holder_view' data-subview-id='"+s((r=null!=(r=t.cid||(null!=e?e.cid:e))?r:o,typeof r===a?r.call(e,{name:"cid",hash:{},data:i}):r))+"' data-subview-index='"+s(l(i&&i.index,e))+"'></tr>"},12:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return"<div class=\"at-row\">\n    <div data-subview='select_view' data-subview-index='"+s((r=null!=(r=t.host||(null!=e?e.host:e))?r:o,typeof r===a?r.call(e,{name:"host",hash:{},data:i}):r))+"'></div>\n  </div>"},14:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l='<div class="at-row at-row-solo at-row-full TicketFooterHtml">\n    <div class="at-markup TicketFooterHtml">';return a=null!=(a=t.footer||(null!=e?e.footer:e))?a:s,r=typeof a===o?a.call(e,{name:"footer",hash:{},data:i}):a,null!=r&&(l+=r),l+"</div>\n  </div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,c='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{},data:i}):a))+'</legend>\n<div class="at-fields">\n';return r=t["if"].call(e,null!=e?e.header:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+='<table class="at-table TicketLevels">\n  <thead>\n    <th colspan="2">Ticket Level</th>\n    <th>Quantity</th>\n  </thead>\n  <tbody>\n',r=t.each.call(e,null!=e?e.ticket_levels:e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(c+=r),r=t["if"].call(e,null!=e?e.additional:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+='    <tr class="ticketTotals">\n      <td class="pricingTotal" colspan="2">\n        <b class="label">TOTAL:</b>&nbsp;<b data-total="price">'+l((t.formatMoney||e&&e.formatMoney||s).call(e,null!=(r=null!=e?e.stats:e)?r.total:r,{name:"formatMoney",hash:{},data:i}))+'</b>\n      </td>\n      <td class="ticketTotal">\n        <b class="label">QTY:</b>&nbsp;<b data-total="count">'+l(u(null!=(r=null!=e?e.stats:e)?r.count:r,e))+"</b>\n      </td>\n    </tr>\n  </tbody>\n</table>\n",r=t["if"].call(e,null!=e?e.showTicketHolders:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(c+=r),r=t["if"].call(e,null!=e?e.host:e,{name:"if",hash:{},fn:this.program(12,i),inverse:this.noop,data:i}),null!=r&&(c+=r),r=t["if"].call(e,null!=e?e.footer:e,{name:"if",hash:{},fn:this.program(14,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+"</div>\n"},useData:!0});return t.registerPartial("app/templates/ticketing",n),n}),n("hbs!app/templates/ticketing_level",["hbs","Handlebars","app/templates/_helpers/formatMoney"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<br /><small class="ticket-description">'+s((r=null!=(r=t.publicDescription||(null!=e?e.publicDescription:e))?r:o,typeof r===a?r.call(e,{name:"publicDescription",hash:{}}):r))+"</small>"},3:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<option value="'+s((r=null!=(r=t.value||(null!=e?e.value:e))?r:o,typeof r===a?r.call(e,{name:"value",hash:{}}):r))+'">'+s((r=null!=(r=t.display||(null!=e?e.display:e))?r:o,typeof r===a?r.call(e,{name:"display",hash:{}}):r))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<td colspan="2">\n  <label for="at-ticket-'+l((a=null!=(a=t.id||(null!=e?e.id:e))?a:s,typeof a===o?a.call(e,{name:"id",hash:{}}):a))+'">\n    <span class="ticket-name">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+" ("+l((t.formatMoney||e&&e.formatMoney||s).call(e,null!=e?e.price:e,{name:"formatMoney",hash:{}}))+")</span>";return r=t["if"].call(e,null!=e?e.publicDescription:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+="</label>\n</td>\n<td>\n  <label>\n    <kbd>Number of "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+" tickets ("+l((t.formatMoney||e&&e.formatMoney||s).call(e,null!=e?e.price:e,{name:"formatMoney",hash:{}}))+' each)</kbd>\n    <select id="at-ticket-'+l((a=null!=(a=t.id||(null!=e?e.id:e))?a:s,typeof a===o?a.call(e,{name:"id",hash:{}}):a))+'" class="ticket-quantity-select">',r=t.each.call(e,null!=e?e.levels:e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+"</select>\n  </label>\n</td>\n"}});return t.registerPartial("app/templates/ticketing_level",n),n}),n("hbs!app/templates/ticket_holder",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (Required)"},3:function(e,t,n,i){return" required"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda,c='<td>\n  <label class="ticket-guest-first-label">\n    <kbd>First Name</kbd>\n    <input type="text" maxlength="20" placeholder="First Name" title="Guest First Name';return r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(c+=r),c+='" class="ticket-guest-first" id="ticket-guest-first-'+l((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:s,typeof a===o?a.call(e,{name:"cid",hash:{}}):a))+'" name="ticket-guest-first-'+l((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:s,typeof a===o?a.call(e,{name:"cid",hash:{}}):a))+'" value="'+l((a=null!=(a=t.first||(null!=e?e.first:e))?a:s,typeof a===o?a.call(e,{name:"first",hash:{}}):a))+'" ',r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(c+=r),c+=' />\n  </label>\n</td>\n<td>\n  <label class="ticket-guest-last-label">\n    <kbd>Last Name</kbd>\n    <input type="text" maxlength="25" placeholder="Last Name" title="Guest Last Name',r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},
fn:this.program(1,i),inverse:this.noop}),null!=r&&(c+=r),c+='" class="ticket-guest-last" id="ticket-guest-last-'+l((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:s,typeof a===o?a.call(e,{name:"cid",hash:{}}):a))+'" name="ticket-guest-last-'+l((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:s,typeof a===o?a.call(e,{name:"cid",hash:{}}):a))+'" value="'+l((a=null!=(a=t.last||(null!=e?e.last:e))?a:s,typeof a===o?a.call(e,{name:"last",hash:{}}):a))+'" ',r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(c+=r),c+' />\n  </label>\n<td>\n  <label for="ticket-guest-first-'+l((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:s,typeof a===o?a.call(e,{name:"cid",hash:{}}):a))+'">'+l(u(null!=(r=null!=e?e.level:e)?r.title:r,e))+"</label>\n</td>\n"}});return t.registerPartial("app/templates/ticket_holder",n),n}),n("hbs!app/templates/guest_collection",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<div class="ticket-holders" id="ticket-holders-'+s((r=null!=(r=t.id||(null!=e?e.id:e))?r:o,typeof r===a?r.call(e,{name:"id",hash:{}}):r))+'">\n  <ul class="ticket-holders-list">\n  </ul>\n</div>\n'}});return t.registerPartial("app/templates/guest_collection",n),n}),n("hbs!app/templates/inline_error",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<small class="'+s((r=null!=(r=t.behavior_classes||(null!=e?e.behavior_classes:e))?r:o,typeof r===a?r.call(e,{name:"behavior_classes",hash:{}}):r))+'">'+s((r=null!=(r=t.error_text||(null!=e?e.error_text:e))?r:o,typeof r===a?r.call(e,{name:"error_text",hash:{}}):r))+"</small>\n"}});return t.registerPartial("app/templates/inline_error",n),n}),n("hbs!app/templates/datalist",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<datalist id="'+l((a=null!=(a=t.id||(null!=e?e.id:e))?a:s,typeof a===o?a.call(e,{name:"id",hash:{}}):a))+'">';return r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(u+=r),u+"</datalist>"},2:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(5,i)}),null!=r&&(a+=r),a},3:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<option value="'+s((r=null!=(r=t.value||(null!=e?e.value:e))?r:o,typeof r===a?r.call(e,{name:"value",hash:{}}):r))+'">'+s((r=null!=(r=t.key||(null!=e?e.key:e))?r:o,typeof r===a?r.call(e,{name:"key",hash:{}}):r))+"</option>"},5:function(e,t,n,i){var r=this.lambda,a=this.escapeExpression;return'<option value="'+a(r(e,e))+'"></option>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.options:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/datalist",n),n}),n("hbs!app/templates/captcha",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l="function",u=t.helperMissing,c='    <div class="at-captcha" data-idx="'+s(o(i&&i.index,e))+'">\n      <div class="at-row at-row-full">\n        <span class="at-captcha-header">\n          Deliver your message to '+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:u,typeof a===l?a.call(e,{name:"name",hash:{},data:i}):a))+"\n";return r=t["if"].call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(4,i),data:i}),null!=r&&(c+=r),c+='        </span>\n      </div>\n      <div class="at-row">\n        <label class="at-captcha-challenge" style="cursor: default">\n          <div style="margin-bottom: 1rem">\n            <div class="spinner-wrapper"></div>\n',r=t["if"].call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.program(8,i),data:i}),null!=r&&(c+=r),c+='            <a href="#newCaptcha" class="get-new-captcha-link">Try a different image</a>\n          </div>\n        </label>\n',r=t["if"].call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+"      </div>\n    </div>\n"},2:function(e,t,n,i){return"            by entering the text shown below\n"},4:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'            by selecting all images of <b class="at-captcha-phrase">'+s((r=null!=(r=t.captchaPhrase||(null!=e?e.captchaPhrase:e))?r:o,typeof r===a?r.call(e,{name:"captchaPhrase",hash:{},data:i}):r))+"</b>\n"},6:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'              <img class="at-captcha-image" src="'+s((r=null!=(r=t.img||(null!=e?e.img:e))?r:o,typeof r===a?r.call(e,{name:"img",hash:{},data:i}):r))+'">\n'},8:function(e,t,n,i){var r,a=t.helperMissing,o="                ";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.input:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o+"\n"},10:function(e,t,n,i){var r,a=t.helperMissing,o="          ";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.input:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{},data:i}):a))+'</legend>\n<div class="at-fields">\n  <div class="at-row">\n';return r=t.each.call(e,null!=e?e.captchas:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"  </div>\n</div>\n"},useData:!0});return t.registerPartial("app/templates/captcha",n),n}),n("hbs!app/templates/targets",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a='	<div class="at-targets-head at-targets-have-images">\n';return r=t.each.call(e,null!=e?e.head:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"	</div>\n"},2:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="			<figure>\n				<div";return r=t["if"].call(e,null!=e?e.sent:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+='>\n					<div class="at-target-fallback">\n						<div class="at-target-image" style="background-image: url(\''+l((a=null!=(a=t.img||(null!=e?e.img:e))?a:s,typeof a===o?a.call(e,{name:"img",hash:{},data:i}):a))+'\')">\n							<img src="'+l((a=null!=(a=t.img||(null!=e?e.img:e))?a:s,typeof a===o?a.call(e,{name:"img",hash:{},data:i}):a))+'" data-idx="'+l((a=null!=(a=t.idx||(null!=e?e.idx:e))?a:s,typeof a===o?a.call(e,{name:"idx",hash:{},data:i}):a))+'">\n						</div>\n					</div>\n				</div>\n				<figcaption>\n                    <b>'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{},data:i}):a))+"</b>",r=t["if"].call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"\n                </figcaption>\n			</figure>\n"},3:function(e,t,n,i){return' class="at-target-sent"'},5:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<br/><span class="at-target-meta at-target-meta-1">'+s((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:o,typeof r===a?r.call(e,{name:"meta",hash:{},data:i}):r))+"</span>"},7:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<br/><span class="at-target-meta at-target-meta-2">'+s((r=null!=(r=t.meta2||(null!=e?e.meta2:e))?r:o,typeof r===a?r.call(e,{name:"meta2",hash:{},data:i}):r))+"</span>"},9:function(e,t,n,i){var r,a='	<div class="at-targets-head at-targets-no-images">\n';return r=t.each.call(e,null!=e?e.head:e,{name:"each",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"	</div>\n"},10:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="			<div";return r=t["if"].call(e,null!=e?e.sent:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+=">\n                <b>"+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{},data:i}):a))+"</b>&nbsp;",r=t["if"].call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(11,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(16,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+="\n            </div>",r=t.unless.call(e,i&&i.last,{name:"unless",hash:{},fn:this.program(18,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"\n"},11:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<span class="at-target-meta at-target-meta-1">'+s((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:o,typeof r===a?r.call(e,{name:"meta",hash:{},data:i}):r))+"</span>"},13:function(e,t,n,i){var r;return r=t["if"].call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(14,i),inverse:this.noop,data:i}),null!=r?r:""},14:function(e,t,n,i){return'<span class="at-target-meta-comma">, </span>'},16:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<span class="at-target-meta at-target-meta-2">'+s((r=null!=(r=t.meta2||(null!=e?e.meta2:e))?r:o,typeof r===a?r.call(e,{name:"meta2",hash:{},data:i}):r))+"</span>"},18:function(e,t,n,i){return"<br>"},20:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s='	<hr>\n	<div class="at-targets-rest">\n';return r=t.each.call(e,null!=e?e.rest:e,{name:"each",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+'		<br>\n		<a class="at-hide-targets" href="#showLess">Hide recipients</a>\n	</div>\n	<a class="at-show-targets" href="#showMore">+ '+o(a(null!=(r=null!=e?e.rest:e)?r.length:r,e))+" more recipients</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t["if"].call(e,null!=e?e.hasImages:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(9,i),data:i}),null!=r&&(a+=r),a+="\n",r=t["if"].call(e,null!=(r=null!=e?e.rest:e)?r.length:r,{name:"if",hash:{},fn:this.program(20,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},useData:!0});return t.registerPartial("app/templates/targets",n),n}),n("hbs!app/templates/target_select",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'<option value="'+s((r=null!=(r=t.value||(null!=e?e.value:e))?r:o,typeof r===a?r.call(e,{name:"value",hash:{}}):r))+'" '+s((r=null!=(r=t.disabled||(null!=e?e.disabled:e))?r:o,typeof r===a?r.call(e,{name:"disabled",hash:{}}):r))+" "+s((r=null!=(r=t.selected||(null!=e?e.selected:e))?r:o,typeof r===a?r.call(e,{name:"selected",hash:{}}):r))+">"+s((r=null!=(r=t.display||(null!=e?e.display:e))?r:o,typeof r===a?r.call(e,{name:"display",hash:{}}):r))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="at-select-target">\n  <b>'+l((a=null!=(a=t.target||(null!=e?e.target:e))?a:s,typeof a===o?a.call(e,{name:"target",hash:{}}):a))+"</b>\n  <span>"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</span>\n</div>\n<select required title="'+l((a=null!=(a=t.target||(null!=e?e.target:e))?a:s,typeof a===o?a.call(e,{name:"target",hash:{}}):a))+" - "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'">';return r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+"</select>\n"}});return t.registerPartial("app/templates/target_select",n),n}),n("hbs!app/templates/advocacy_tweet",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return"<br>"+s((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:o,typeof r===a?r.call(e,{name:"meta",hash:{}}):r))},3:function(e,t,n,i){return'<br>\n                <img class="at-twitter-account" src="//d1aqhv4sn5kxtx.cloudfront.net/images/twitter_account_icon.svg">'},5:function(e,t,n,i){return" (read only)"},7:function(e,t,n,i){var r;return r=t["if"].call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop}),null!=r?r:""},8:function(e,t,n,i){return" (required)"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="at-advocacy-tweet-field">\n    <figure>\n        <div class="at-target-fallback">\n            <div class="at-target-image" style="background-image: url(\''+l((a=null!=(a=t.img||(null!=e?e.img:e))?a:s,typeof a===o?a.call(e,{name:"img",hash:{}}):a))+'\')">\n                <img src="'+l((a=null!=(a=t.img||(null!=e?e.img:e))?a:s,typeof a===o?a.call(e,{name:"img",hash:{}}):a))+'">\n            </div>\n        </div>\n        <figcaption>\n            <b>'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+"</b>\n            ";return r=t["if"].call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),r=t["if"].call(e,null!=e?e.hasTwitter:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+='</figcaption>\n    </figure>\n    <div class="at-tweet-area">\n        <label class="at-tweet-label">\n            <textarea class="at-tweet-message" '+l((a=null!=(a=t.required||(null!=e?e.required:e))?a:s,typeof a===o?a.call(e,{name:"required",hash:{}}):a))+" "+l((a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:s,typeof a===o?a.call(e,{name:"readonly",hash:{}}):a))+' title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a)),r=t["if"].call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i)}),null!=r&&(u+=r),u+='" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" maxlength="'+l((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:s,typeof a===o?a.call(e,{name:"maxlength",hash:{}}):a))+'" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,r=typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+">"+l((a=null!=(a=t.default_value||(null!=e?e.default_value:e))?a:s,typeof a===o?a.call(e,{name:"default_value",hash:{}}):a))+'</textarea>\n        </label>\n        <button class="at-tweet-button btn-at-primary">\n            <img src="//d1aqhv4sn5kxtx.cloudfront.net/images/white_twitter_icon.svg"></img>\n            <span>Tweet</span>\n        </button>\n    </div>\n    <div class="at-tweet-closed-msg" style="display: none">\n        <div class="green-check"></div>\n        <h3>Thanks!</h3>\n        <p>Closed the window by mistake? <a class="at-show-tweet" href="tweetAgain">Click here</a> to post your Tweet.\n    </div>\n</div>\n\n'}});return t.registerPartial("app/templates/advocacy_tweet",n),n}),n("hbs!app/templates/recaptcha_grid",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i,r){var a,o='    <div class="at-recaptcha-wrapper">\n';return a=t.each.call(e,e,{name:"each",hash:{},fn:this.program(2,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"    </div>\n"},2:function(e,t,n,i,r){var a,o="function",s=t.helperMissing,l=this.escapeExpression,u=this.lambda;return'            <div class="at-recaptcha clearfix">\n                <div data-choice="'+l((a=null!=(a=t.idx||(null!=e?e.idx:e))?a:s,typeof a===o?a.call(e,{name:"idx",hash:{}}):a))+'"\n                     style="width: '+l(u(null!=r[2]?r[2].cellWidth:r[2],e))+"; height: "+l(u(null!=r[2]?r[2].cellHeight:r[2],e))+";\n                             background-image:url('"+l(u(null!=r[2]?r[2].img:r[2],e))+"');\n                             background-size:"+l((a=null!=(a=t.bkgSize||(null!=e?e.bkgSize:e))?a:s,typeof a===o?a.call(e,{name:"bkgSize",hash:{}}):a))+";\n                             background-position:"+l((a=null!=(a=t.bkgPos||(null!=e?e.bkgPos:e))?a:s,typeof a===o?a.call(e,{name:"bkgPos",hash:{}}):a))+';">\n                </div>\n            </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o='<div class="at-recaptcha-table">\n';return a=t.each.call(e,null!=e?e.gridRow:e,{name:"each",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"</div>\n"},useDepths:!0});return t.registerPartial("app/templates/recaptcha_grid",n),n}),n("hbs!app/templates/tribute_gift",["hbs","Handlebars","hbs!app/templates/_rows","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-fields">\n';return r=this.invokePartial(n["./_rows"],"    ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a+='    <div class="at-row">\n        <div class="at-tribute-gift" style="display:none">',r=t.each.call(e,null!=e?e.giftChildren:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n    </div>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/tribute_gift",n),n}),n("hbs!app/templates/recipient_information",["hbs","Handlebars","hbs!app/templates/_rows","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o='<div class="at-row">\n        ';return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.includeRecipient:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o+"\n    </div>\n"},3:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="at-fields">';return r=t["if"].call(e,null!=e?e.includeRecipient:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+='    <div class="at-recipient-info">\n        <div class="at-title">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+"</div>\n",r=this.invokePartial(n["./_rows"],"        ","./_rows",e,void 0,t,n),null!=r&&(u+=r),u+='    </div>\n    <div class="at-row">\n        <div class="at-recipient-msg">',r=t.each.call(e,null!=e?e.notificationFields:e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+"</div>\n    </div>\n</div>"},usePartial:!0});return t.registerPartial("app/templates/recipient_information",n),n}),n("hbs!app/templates/question",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"<small>(Optional)</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<label style="padding:0px 0px 10px 10px" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" class="question-label">\n    '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+"&nbsp;";return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'<br />\n    <small class="question-required-text" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'-small" style="display: none"><b>'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+" is required.</b></small>\n</label>\n\n"}});return t.registerPartial("app/templates/question",n),n}),n("hbs!app/templates/ecards",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'        <div class="at-ecard-container">\n            <div class="at-ecard">\n                <div class="at-ecard-img">\n                    <img src="'+s((r=null!=(r=t.url||(null!=e?e.url:e))?r:o,typeof r===a?r.call(e,{name:"url",hash:{}}):r))+'" alt="'+s((r=null!=(r=t.alt||(null!=e?e.alt:e))?r:o,typeof r===a?r.call(e,{name:"alt",hash:{}}):r))+'">\n                </div>\n                <input name="ecard" type="radio" value="'+s((r=null!=(r=t.url||(null!=e?e.url:e))?r:o,typeof r===a?r.call(e,{name:"url",hash:{}}):r))+'" '+s((r=null!=(r=t.checked||(null!=e?e.checked:e))?r:o,typeof r===a?r.call(e,{name:"checked",hash:{}}):r))+">\n            </div>\n        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="at-title">\n    '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'\n</div>\n<div class="at-ecards clearfix">\n';return r=t.each.call(e,null!=e?e.ecards:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+"</div>\n"}});return t.registerPartial("app/templates/ecards",n),n}),n("hbs!app/templates/premium_gifts",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='        <div class="at-gift">\n            <input name="gift" id="gift-'+l((a=null!=(a=t.val||(null!=e?e.val:e))?a:s,typeof a===o?a.call(e,{name:"val",hash:{}}):a))+'" type="radio" value="'+l((a=null!=(a=t.val||(null!=e?e.val:e))?a:s,typeof a===o?a.call(e,{name:"val",hash:{}}):a))+'" data-threshold="'+l((a=null!=(a=t.threshold||(null!=e?e.threshold:e))?a:s,typeof a===o?a.call(e,{name:"threshold",hash:{}}):a))+'" '+l((a=null!=(a=t.checked||(null!=e?e.checked:e))?a:s,typeof a===o?a.call(e,{name:"checked",hash:{}}):a))+">\n";return r=t["if"].call(e,null!=e?e.img_url:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(u+=r),u+='            <div class="description">\n                <label class="gift-title" for="gift-'+l((a=null!=(a=t.val||(null!=e?e.val:e))?a:s,typeof a===o?a.call(e,{name:"val",hash:{}}):a))+'">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</label>\n                <label class="gift-description" for="gift-'+l((a=null!=(a=t.val||(null!=e?e.val:e))?a:s,typeof a===o?a.call(e,{name:"val",hash:{}}):a))+'">\n                    ',r=t["if"].call(e,null!=e?e.threshold:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r&&(u+=r),u+'<span class="gift-description-text">'+l((a=null!=(a=t.description||(null!=e?e.description:e))?a:s,typeof a===o?a.call(e,{name:"description",hash:{}}):a))+"</span>\n                </label>\n            </div>\n        </div>\n"},2:function(e,t,n,i){var r,a="function",o=t.helperMissing,s=this.escapeExpression;return'                <div class="gift-img-container" aria-hidden="true">\n                    <div class="gift-img">\n                        <img src="'+s((r=null!=(r=t.img_url||(null!=e?e.img_url:e))?r:o,typeof r===a?r.call(e,{name:"img_url",hash:{}}):r))+'" alt="'+s((r=null!=(r=t.title||(null!=e?e.title:e))?r:o,typeof r===a?r.call(e,{name:"title",hash:{}}):r))+'" onerror="this.style.display=\'none\'">\n                    </div>\n                </div>\n'},4:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<span class="gift-threshold">'+l((a=null!=(a=t.threshold||(null!=e?e.threshold:e))?a:s,typeof a===o?a.call(e,{name:"threshold",hash:{}}):a))+"</span>\n";return r=t["if"].call(e,null!=e?e.willIncrease:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop}),null!=r&&(u+=r),u+="                        ",r=t["if"].call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop}),null!=r&&(u+=r),u+"\n                    "},5:function(e,t,n,i){return'                            <span class="gift-threshold-warning">(will increase donation)</span>\n'},7:function(e,t,n,i){return" - "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-gifts clearfix">\n';return r=t.each.call(e,null!=e?e.gifts:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n"}});return t.registerPartial("app/templates/premium_gifts",n),n}),n("hbs!app/templates/shipping_information",["hbs","Handlebars","hbs!app/templates/_rows"],function(e,t){var n=t.template({1:function(e,t,n,i){return'        <div class="at-row">\n            <div class="at-shipping-cta">\n                <label class="cta-text">Would you like to auto-fill the address?</label>\n                <a href="javascript:void(0);" class="auto-fill">Auto-fill Address</a>\n                <a href="javascript:void(0);" class="at-dismiss">&times;</a>\n            </div>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<legend class="at-legend">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'</legend>\n<div class="\'at-fields">\n    <div class="at-row">\n        <label class="at-label">Ship To</label>\n    </div>\n    <div class="at-row">\n        <div class="at-shipping-destinations">\n            <label>\n                <input name="destinations" id="shipping-dest-yourinfo" type="radio" value="yourinfo" checked="true">\n                Your Information\n            </label>\n            <label>\n                <input name="destinations" id="shipping-dest-other" type="radio" value="other">\n                Different Address\n            </label>\n        </div>\n    </div>\n    <div class="at-shipping-info">\n';return r=t["if"].call(e,null!=e?e.showCta:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),r=this.invokePartial(n["./_rows"],"        ","./_rows",e,void 0,t,n),null!=r&&(u+=r),u+"    </div>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/shipping_information",n),n}),n("hbs!app/templates/page_alert",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r=this.lambda,a=this.escapeExpression;return'<div class="at-alert alert info">\n            <span class="glyphicons glyphicons-info-sign alert-icon" aria-hidden="true"></span>\n            <span class="alert-content">'+a(r(e,e))+'</span>\n            <a href="javascript:void(0);" class="at-dismiss">&times;</a>\n        </div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-page-alert">\n    <div style="padding: 5px;">';return r=t.each.call(e,null!=e?e.alerts:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n</div>\n"}});return t.registerPartial("app/templates/page_alert",n),n}),n("hbs!app/templates/checkbox_list_manager",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"<small>(Optional)</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u='<label name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" class="checkbox-list-label">\n    '+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+"&nbsp;";return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'<br />\n    <small class="checkbox-list-required-text" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'-small" style="display: none"><b>'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+" is required.</b></small>\n</label>\n\n"}});return t.registerPartial("app/templates/checkbox_list_manager",n),n}),n("hbs!app/templates/time",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o="function",s=t.helperMissing,l=this.escapeExpression,u="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(u+=r),u+='<input type="'+l((a=null!=(a=t.type||(null!=e?e.type:e))?a:s,typeof a===o?a.call(e,{name:"type",hash:{}}):a))+'" title="'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:s,typeof a===o?a.call(e,{name:"title",hash:{}}):a))+'" name="'+l((a=null!=(a=t.name||(null!=e?e.name:e))?a:s,typeof a===o?a.call(e,{name:"name",hash:{}}):a))+'" value="'+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:s,typeof a===o?a.call(e,{name:"value",hash:{}}):a))+'" class="timepicker ',a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+='" placeholder="'+l((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:s,typeof a===o?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:s,r=typeof a===o?a.call(e,{name:"required",hash:{}}):a,null!=r&&(u+=r),u+' autocomplete="off">\n'},usePartial:!0});return t.registerPartial("app/templates/time",n),n}),n("templates",["hbs!app/templates/form","hbs!app/templates/fieldset","hbs!app/templates/textfield","hbs!app/templates/textarea","hbs!app/templates/checkbox","hbs!app/templates/select","hbs!app/templates/span","hbs!app/templates/radios","hbs!app/templates/amount","hbs!app/templates/contribution","hbs!app/templates/payment_information","hbs!app/templates/payment_information_readonly","hbs!app/templates/credit_card","hbs!app/templates/cc_expiration","hbs!app/templates/cvv2","hbs!app/templates/date","hbs!app/templates/ticketing","hbs!app/templates/ticketing_level","hbs!app/templates/ticket_holder","hbs!app/templates/guest_collection","hbs!app/templates/inline_error","hbs!app/templates/datalist","hbs!app/templates/captcha","hbs!app/templates/targets","hbs!app/templates/target_select","hbs!app/templates/advocacy_tweet","hbs!app/templates/recaptcha_grid","hbs!app/templates/tribute_gift","hbs!app/templates/recipient_information","hbs!app/templates/question","hbs!app/templates/ecards","hbs!app/templates/premium_gifts","hbs!app/templates/shipping_information","hbs!app/templates/page_alert","hbs!app/templates/checkbox_list_manager","hbs!app/templates/time"],function(e,t,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y,b,_,w,x,k,C,E,T,A,S,D,N,P,M,I,O,F){return{form:e,fieldset:t,textfield:n,textarea:i,checkbox:r,radios:s,select:a,span:o,date:m,contribution:u,amount:l,payment_information:c,payment_information_readonly:h,credit_card:d,cc_expiration:p,cvv2:f,ticketing:g,ticketing_level:v,ticket_holder:y,guest_collection:b,captcha:x,targets:k,target_select:C,advocacy_tweet:E,recaptcha_grid:T,question:D,datalist:w,inline_error:_,NAME:"minimal",tribute_gift:A,recipient_information:S,ecards:N,premium_gifts:P,shipping_information:M,page_alert:I,checkbox_list_manager:O,time:F}}),n("requestAutocomplete",["countries"],function(e){return function(t){function n(){var t={};if(o.forEach(function(e){var n="",i=e.autocomplete;"cc"===i.slice(0,2)?(n=r[i.slice(3)],t[n]=e.value):"billing"===i.slice(0,7)&&(n=r[i.slice(8)],t[n]=e.value)}),t.ExpirationYear&&(t.ExpirationYear=t.ExpirationYear.slice(2)),t.FullName){var n=t.FullName.split(" ");n.length&&(t.FirstName=n[0],n.length>2?(t.MiddleName=n[1],t.LastName=n.slice(2).join(" ")):t.LastName=n[1])}return t.AccountType&&(t.AccountType=t.AccountType.toLowerCase().replace(/\s/,""),"americanexpress"===t.AccountType&&(t.AccountType="amex")),t.Country&&(t.Country in e?t.Country=e[t.Country]:delete t.Country),
t}var i=document.createElement("form");if(!i.requestAutocomplete)return void t({err:"unsupported",data:{}});var r={email:"EmailAddress",name:"FullName",tel:"HomePhone","address-line1":"AddressLine1","address-line2":"AddressLine2",locality:"City",region:"StateProvince","postal-code":"PostalCode",country:"Country"},a=Object.keys(r).map(function(e){return"billing "+e});r.number="Account",r["exp-month"]="ExpirationMonth",r["exp-year"]="ExpirationYear",r.type="AccountType",r.csc="SecurityCode",a.push("cc-number","cc-exp-month","cc-exp-year","cc-type","cc-csc");var o=a.map(function(e){var t=document.createElement("input");return t.autocomplete=e,i.appendChild(t),t});i.addEventListener("autocomplete",function(){t({data:n()})}),i.addEventListener("autocompleteerror",function(e){t({err:e.reason,data:n()})}),i.requestAutocomplete()}}),n("PageAlertView",["backbone","hbs!app/templates/page_alert"],function(e,t){var n=e.$;return e.View.extend({__name__:"PageAlertView",events:{"click a.at-dismiss":"close"},template:t,alerts:[],render:function(){return this.$el.html(this.template({alerts:this.alerts})),this},val:function(){return{}},errors:function(){return[]},renderFeedback:function(){return[]},close:function(e){if(e){e.stopPropagation();var t=this.$(e.currentTarget).parent();this.alerts.splice(t.index(),1),t.remove()}},setAlerts:function(e){var t=this;t.alerts=e||[],t.render(),t.$el.show(),setTimeout(function(){n("body").one("click",t,t.onBodyClick)},500),setTimeout(function(){t.clearAlert()},3e3)},onBodyClick:function(e){e.stopPropagation(),e.data&&e.data.clearAlert()},clearAlert:function(){this.alerts=[],this.$el.hide()}})}),n("loadScript",["underscore","jquery.amd"],function(e,t){return e.memoize(function(e){var n=t.Deferred(),i=document.createElement("script");return i.type="text/javascript",i.readyState?i.onreadystatechange=function(){("loaded"==i.readyState||"complete"==i.readyState)&&(i.onreadystatechange=null,n.resolve())}:i.onload=function(){n.resolve()},setTimeout(n.resolve,2e3),i.src=e,document.getElementsByTagName("head")[0].appendChild(i),n.promise()})}),n("Map",["underscore","jquery","loadScript","loadCSS"],function(e,n,i,r){function a(){return window.mapboxgl?n.Deferred().resolve().promise():i("//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js")}function o(){return window.geojsonExtent?n.Deferred().resolve().promise():i("//api.mapbox.com/mapbox.js/plugins/geojson-extent/v0.0.1/geojson-extent.js")}function s(t){r("//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css"),n.when(a(),o()).then(function(){var n=window.mapboxgl,i=window.geojsonExtent;e.forEach(t,function(t){var r=t.getAttribute("data-map-locations"),a=r?JSON.parse(r):[];if(!a||!a.length)return!0;t.classList.add("at-map-render");var o=e.reduce(a,function(e,t){if(t.Longitude&&t.Latitude){var n={type:"Feature",geometry:{type:"Point",coordinates:[t.Longitude,t.Latitude]},properties:{title:t.Title,description:t.Description}};e.push(n)}return e},[]),s={type:"FeatureCollection",features:o};n.accessToken="pk.eyJ1IjoibmdwdmFuMSIsImEiOiJjamRjNzA5MnMwNGUwMnduMWpiYXpjMXV2In0.O1tZ7lyukJGf1_XAiNV9eA";var l=new n.Map({container:t,style:"mapbox://styles/mapbox/outdoors-v10?optimize=true"});l.addControl(new n.NavigationControl({showCompass:!1}),"bottom-right"),s.features.forEach(function(e){var t=document.createElement("div");t.className="glyphicons glyphicons-map-marker",new n.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new n.Popup({offset:15}).setHTML('<p class="mapboxgl-popup-title">'+e.properties.title+'</p><p class="mapboxgl-popup-description">'+e.properties.description+"</p>")).addTo(l)}),l.fitBounds(i(s),{padding:20,duration:0,maxZoom:15})})})}function l(e){var n=document.getElementsByClassName(e);if(n&&n.length)if(window.nvtagDebug)try{t(["//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js","//api.mapbox.com/mapbox.js/plugins/geojson-extent/v0.0.1/geojson-extent.js"],function(e,t){window.mapboxgl=e,window.geojsonExtent=t,s(n)})}catch(i){console.debug("error loading mapbox libraries in debug mode")}else s(n)}return{loadMap:l}}),n("NVFormView",["backbone.subviews","doublebracket","FormElements","NVTagCallbacks","FormDefUtils","accounting","errorviews","templates","requestAutocomplete","user.agent","timing","currency","PageAlertView","Map"],function(e,t,n,i,r,a,o,s,l,u,c,h,d,p){function f(e){e.focus(),u.mobile&&setTimeout(function(){e.focus()},250)}var m,g=e.$,v=e._;return e.View.extend({__name__:"NVFormView",className:"at-form",defaults:{},template:g.noop,initialize:function(){v.bindAll(this,"render","context","processDefinition","onResize","subviewsWithName","renderFeedback","clearFeedback","isFirstForm","fill","query_string_fill_dict","get_fill_dict","render_fill_dict","quick","clear","val","setval"),e.Courier.add(this),e.Subviews.add(this),this.touched=!1,this.options.fillDisabled=!1,this.options.showNotMe=!1,this.options.filled=!1,this.options.quick_complete=!1,this.options.autoSubmitComplete=!1,m=[];var t={index:0,view:null};this.step=function(e,n){return v.isUndefined(e)?t:v.isObject(e)?(t=e,this):v.isUndefined(n)?t[e]:(t[e]=n,this)},this.hasRenderedSecondaryStep=!1,c.start("Form",this.model.id),c.start("Downloading",this.model.id);var n=this.model.fetch();n.then(this.processDefinition),v.defer(v.bind(function(){var e=g('<div class="ngp-spinner" style="width: 100%; height: 200px;"></div>');this.$el.append(e),this.parent.spin(e),n.always(function(){e.remove()})},this));var i=!1;try{i=this.options.form_definition.metadata.hideCompletedFormSections?!0:!1}catch(r){}this.isFirstForm()&&(i=!1),this.options.smart=i;var a=this;this.addDataToForm=v.once(function(){a.$("form").data("view",a)})},processDefinition:function(e){c.end("Downloading",this.model.id),c.start("Processing",this.model.id);var t=this.options.form_definition=r.fix(e,this.parent.options.query_string,this.parent.options.fast_action_nologin),n=window.formview=this,o=0,l=[],u=v.compact([this.parent.options.profile_databag,this.parent.options.recipient_databag,this.parent.options.fast_action_databag]),d=r.find_field(t.form_elements,"ProcessingCurrency"),p=h.init(d?d.value:t.metadata.currencyCode);if(a.settings.currency.symbol=p.symbol,t.fastAction&&this.parent.$el.addClass("fastaction-enabled"),t.fastActionNologin&&this.model.set({fastActionNologin:!0}),this.defaults=v.reduce(r.fields(t.form_elements),function(e,t){return v.isUndefined(t.default_value)||(e[t.name]=t.default_value),e},{}),window.nvtag.trigger("sync:formdef",this.model),i("segue",{formviews:this.parent.formviews,thank:!1,calling_tag:this.parent}),"SignupForm"!==t.type&&"above"!==this.parent.options.labels){var f=n.model.get("options");this.parent.options.labels=this.options.labels=f.labels="above",n.model.set("options",f)}if(this.multistep="AdvocacyForm"!==t.type&&t.metadata.hasOwnProperty("layoutStyle")&&"multistep"===t.metadata.layoutStyle,this.el.id="NV"+t.type+t.formId,this.$("form").attr("id","NVForm"+t.formId),this.userTemplate=this.parent.options.template,t.steps&&this.parent.$el.addClass("faux-multistep-layout"),this.multistep){g("body").addClass("page-ngp-multistep"),this.parent.$el.addClass("multistep-layout");var m=v.clone(this.parent.options);this.parentOptions={labels:m.labels,template:m.template,inline_error_display:m.inline_error_display},this.parent.options.template="accelerator",this.parent.options.inline_error_display=this.options.inline_error_display="true",this.steps=[],this.totalSteps=v.reduce(t.form_elements,function(e,t){return("tab"===t.type||"fieldset"===t.type||v.isNumber(t.step))&&(o+=v.reduce(t.children,function(e,t){return/^(hidden|markup|submit)$/.test(t.type)?(l.push(t.name),e):++e},0),t.multistep=!0,v.isNumber(t.step)?(t.humanIndex=t.step+1,this.steps.length>t.step?this.steps[t.step].push(t):this.steps.push([t])):(t.humanIndex=this.steps.length+1,this.steps.push([t]))),e},0,this),this.hasHeader=!!v.find(t.form_elements,{name:"HeaderHtml"}),this.hasHeader&&g(window).on("resize",v.debounce(this.onResize,250))}else v.each(t.form_elements,function(e){e.children&&(o+=v.reduce(e.children,function(e,t){return/^(hidden|markup)$/.test(t.type)?(l.push(t.name),e):++e},0))});var y=(this.parent.options.template||"minimal").split("");y[0]=y[0].toUpperCase(),nvtag.track(e.type,"Form Load",y.join(""),o,this.options),this.parent.options.templates=this.options.templates=s,this.template=this.options.templates.form,window.nvtag.trigger("template",this.parent.options.template);var b=this;if("pending"===window.nvtag.css.state()&&(b.$el.hide(),window.nvtag.css.always(function(){b.$el.show(),b.onResize()})),window.onbeforeunload=function(){if(n.currentField){var t=v(n.getTouched()).omit(l).filter(function(e){return!v.isNull(e.val())});nvtag.track(e.type,"Form Abandoned",n.currentField.name,t.size(),this.options)}},v.invoke(u,"on","sync",this.fill),c.end("Processing",this.model.id),this.startTime=v.now(),this.render(),t["Submit now, I'm super cereal"])return this.parent.postBack();if(window.FB&&window.FB.XFBML&&window.FB.XFBML.parse(this.el),window.twttr&&window.twttr.widgets){var _=window.location,w=_.protocol+"//"+_.hostname+_.pathname;this.$('a[href="https://twitter.com/share"]').attr("data-url",w),window.twttr.widgets.load(this.el)}},iFrameAddMultistepToBody:function(e){var t=document.querySelectorAll("iframe.meter-frame");t&&0!==t.length&&v.each(t,function(t){t.contentDocument.body.classList.add(e)})},onResize:function(e){if(this.hasHeader){var t=this.parent.$el.parent().innerWidth()>=960;this.parent.$el[(t?"add":"remove")+"Class"]("split-layout")}},onMessages:{amountChange:"_onAmountChange",recurringChange:"_onRecurringChange"},_onRecurringChange:function(e){var t=e.data.IsRecurring,n=this.subviews.PaymentInformation,i=!1;n&&n.def.bitPayEnabled&&(t&&!n.def.bitPayDisabledRecurring?(n.def.bitPayDisabledRecurring=!0,n.changeSubmitText(),i=!0):!t&&n.def.bitPayDisabledRecurring&&(n.def.bitPayDisabledRecurring=!1,i=!0),i&&n.render())},_onAmountChange:function(e){var t=e.data.Amount,n=this.subviews.PaymentInformation,i=!1;if(v.isNumber(t)&&n){if("TicketInformation"===e.source.name){var r=t>0;n.options.definition.required=r,n.hide=!r,i=!0}n.def.bitPayEnabled&&(t>n.def.valueMaxBitcoin&&!n.def.bitPayDisabledAmount?(n.def.bitPayDisabledAmount=!0,n.changeSubmitText(),i=!0):n.def.valueMaxBitcoin>=t&&n.def.bitPayDisabledAmount&&(n.def.bitPayDisabledAmount=!1,i=!0)),n.isPayPalEnabled()&&n.paypalAmount!==t&&(n.paypalAmount=t,n.resetPayPal()),i&&(n.render(),n.previousVal&&n.setval(n.previousVal))}},getField:v.memoize(function(e){var t=null;return v.each(this.subviews,function(n){return n.subviews&&n.subviews[e]?(t=n.subviews[e],!1):n.name===e?(t=n,!1):void 0}),t}),subviewsWithName:function(e){return m.length||(m=v.toArray(this.subviews),v.each(m,function(e){e.subviews&&(m=m.concat(v.toArray(e.subviews)))},this)),v.filter(m,function(t){return t.options.definition&&t.options.definition.name===e})},createSubviewDefaults:function(){return this.subviewDefaults={parent:this,templates:this.options.templates,labels:this.options.labels,formview:this}},subviewOptions:function(e){var t=this.subviewDefaults||this.createSubviewDefaults();return e=v.isNumber(e)?{index:e}:e||{},e=v.extend(e,t),"index"in e&&v.isNumber(e.index)&&(e.definition=this.options.form_definition.form_elements[e.index],e.definition.name&&(e.name=e.definition.name),delete e.index),e.formview=this,e},subviewCreators:{shipping_information_view:function(e){return new n.shipping_information_view(this.subviewOptions(e))},tribute_gift_view:function(e){return new n.tribute_gift_view(this.subviewOptions(e))},recipient_information_view:function(e){return new n.recipient_information_view(this.subviewOptions(e))},page_alert:function(){return new d({formview:this})},error_console:function(e){return new o.errors_view({formview:this})},hidden_view:function(e){return new n.hidden_view(this.subviewOptions(e))},fieldset_view:function(e){return new n.fieldset_view(this.subviewOptions(e))},advocacy_view:function(e){return new n.advocacy_view(this.subviewOptions(e))},advocacy_tweets_view:function(e){return new n.advocacy_tweets_view(this.subviewOptions(e))},tab_view:function(e){var t=new n.fieldset_view(this.subviewOptions(e));return t.multistep=!0,t},markup_view:function(e){return new n.markup_view(this.subviewOptions(e))},payment_information_view:function(e){return new n.payment_information_view(this.subviewOptions({index:e,accepted_cards:this.form_definition().metadata.accepted_cards,post_response:this.options.post_response,previous_payment:this.options.previous_payment,isKioskEnabled:this.options.query_string&&this.options.query_string.kiosk,url:this.form_definition().url,paypalEnabled:this.form_definition().metadata.isPayPalEnabled,eftEnabled:this.form_definition().metadata.isEftEnabled,disableCreditCardAutofill:this.form_definition().metadata.disableCreditCardAutofill}))},contribution_view:function(e){return new n.contribution_view(this.subviewOptions({index:e,post_response:this.options.post_response}))},tickets_view:function(e){return new ticketing.tickets_view(this.subviewOptions({index:e,ticket_metadata:this.form_definition().metadata.tickets}))},ticketing_view:function(e){return new n.ticketing_view(this.subviewOptions({index:e,ticket_levels:this.form_definition().metadata.tickets,showTicketHolders:!!this.form_definition().metadata.guest_names.displayName,requireTicketHolders:!!this.form_definition().metadata.guest_names.required}))},notme_view:function(e){return new n.notme_view(this.subviewOptions({child:child}))},captcha_view:function(e){return new n.captcha_view(this.subviewOptions(e))},trackingpixel_view:function(e){return new n.trackingpixel_view(this.subviewOptions({index:e,query_string:this.options.query_string}))},event_information_view:function(e){return new n.event_information_view(this.subviewOptions(e))}},_onSubviewsRendered:function(){console.timeStamp("NVTag rendered"),i("postRender",{form_definition:this.options.form_definition,options:this.options.parent_tag.options,thank:!1});var e=this.$(".at-steps");if(e.length){var t=this.$(".FastAction");t.length&&e.length?e.insertAfter(t.first()):e.prependTo(this.$("form"))}return this.multistep&&(this.$(".at-form-submit").append(this.$(".FooterHtml")).find(".at-submit").css({visibility:"hidden",position:"absolute"}),e.after(formview.subviews.error_console.$el),this.renderStep(this.step("index")),this.$el.append(this.$(".multistep-footer")),v.defer(this.onResize)),p.loadMap("at-event-map-container"),this.val(),c.end("Render",this.model.id),c.start("Fill",this.model.id),this.fill(),c.end("Fill",this.model.id),c.end("Form",this.model.id),c.end("Total"),this},renderFeedback:function(){return v(this.subviews).invoke("renderFeedback").flatten().compact().value()},clearFeedback:function(){return this.$(".at-step.active").removeClass("invalid"),v.invoke(this.subviews,"clearFeedback"),this},events:{change:"touch","submit form":"postBack","focus [name]":"focused","click .at-step":"gotoStep","click .prevStep":"prevStep","click .nextStep":"nextStep","focus .focusPrevStep":"focusPrevStep","focus .focusNextStep":"focusNextStep","click label[for]":"focusLocalInput",click:"hideProfileMenuClick",mousemove:"hideProfileMenuHover"},focused:function(e){this.currentField=e.currentTarget},focusLocalInput:function(e){var t=g(e.currentTarget).attr("for");if(t){var n='[id="'+t+'"]';g(n).length>1&&(e.preventDefault(),this.$("#"+t).focus())}},touch:function(){this.touched=!0},touched:function(){return this.touched},isFirstForm:function(){var e=this.options.parent_tag;return e&&e.formviews&&e.formviews.current===this},form_definition:function(){var e=this.options.form_definition,t=["ZZ Demeter Always Works","CvvDisabledDesignation","Violet Greenpeace Test Designation DE20","EA Violet Drupal Greenpeace flag","Violet Greenpeace DE18"];if("ContributionForm"===e.type&&e.designation&&t.indexOf(e.designation.name)>=0){var n=r.find_field(e.form_elements,"IsRecurring"),i=r.find_field(e.form_elements,"SelectAmount");e.enableRecurringButtons=i&&n&&"hidden"!==n.type,i.enableRecurringButtons=e.enableRecurringButtons,i.recurringAmount=e.enableRecurringButtons&&this.options.query_string.am&&this.options.query_string.r?this.options.query_string.am:null}return e},multistep:!1,totalSteps:1,steps:[],getStepIndex:function(){return this.step("index")||0},gotoStep:function(e){if(e.preventDefault(),this.multistep){var t=g(e.currentTarget).data("step");if(t>this.step("index"))for(var n=!0;t>this.step("index")&&n;)n=this.nextStep();else t<this.step("index")&&this.setStep(t)}},focusNextStep:function(e){return this.multistep&&this.step("index")+1!==this.steps.length?this.nextStep():this},focusPrevStep:function(e){if(!this.multistep)return this;var t=this.step("view")[0].$(":tabbable:first");return this.prevStep()&&(t=this.step("view")[0].$(":tabbable:last")),t.is(":radio:not(:checked)")?this.step("view")[0].$('[name="'+t.attr("name")+'"]:checked').focus():f(t),this},nextStep:function(e){if(!this.multistep)return!1;if(e&&e.shiftKey){var t=this;l(function(e){e.err||t.setval(e.data)})}return this.setStep(this.step("index")+1)},prevStep:function(){return this.multistep?this.setStep(this.step("index")-1):!1},setStepByName:function(e){var t=0;return v.each(this.steps,function(n,i){v.each(n,function(n){return n.name===e?(t=i,!1):void 0})}),this.renderStep(t)},setStep:function(e){var t=!1;if(this.step("view")){var n=[],i=this.$(".at-steps .active");if(e>this.step("index"))if(v.each(this.step("view"),function(e){n=e.renderFeedback(),n.length&&(this.subviews.error_console.renderFeedback(n),e.$(".error :input").first().focus(),t=!0)},this),t)i.removeClass("valid").addClass("invalid");else{i.addClass("valid").removeClass("invalid");var r=v.findWhere(this.step("view"),{name:"ContributionInformation"});if(r){var a=r.val();a.Amount&&"0.00"!==a.Amount&&i.find(".step-title").text(h.format(a.Amount))}this.renderStep(e)}else e<this.step("index")&&(t=v.some(this.step("view"),function(e){return e.$("label.error").length||e.errors().length}),t?i.removeClass("valid").addClass("invalid"):i.removeClass("invalid").addClass("valid"),this.renderStep(e))}return!t},renderStep:function(e){return this.multistep&&v.isNumber(e)&&e>=0&&(this.steps.length>e?(this.step("index",e),this.step("view",null),e>0&&(this.hasRenderedSecondaryStep=!0),v.each(this.steps,function(e,t){v.each(e,function(e){var n=this.subviews[e.name];if(this.step("index")!==t)n.$el.addClass("hideStep");else{this.step("view")?this.step("view").push(n):this.step("view",[n]),n.$el.removeClass("hideStep"),this.hasRenderedSecondaryStep&&u.mobile&&this.$(".at-steps").get(0).scrollIntoView(),this.$(".at-steps .active").removeClass("active"),n.tab||(n.tab=g(this.$(".at-steps .at-step").get(t))),n.tab.addClass("active");var i=n.$("label.error :input");i.length?(this.$(".at-step.active").addClass("invalid"),f(i.first())):this.hasRenderedSecondaryStep&&(this.$(".at-step.active").removeClass("invalid"),f(n)),"ContributionInformation"===n.name&&this.$(".at-step.active").find(".step-title").text("Amount"),this.step("index")===this.steps.length-1?(this.$(".at-preview").css("display","none"),this.$(".prevStep").css("display","block"),this.$(".nextStep").css("display","none"),this.$(".submitStep").attr("style","display: block; visibility: visible; position: static"),this.$(".focusNextStep").css("display","none"),g(".FooterHtml").html().replace(/(&nbsp;|<\/?p>|\n\s*)/gi,"")&&this.$(".FooterHtml").css("display","block")):0===this.step("index")?(this.$(".prevStep").css("display","none"),this.$(".nextStep").css("display","block"),this.$(".submitStep").css("display","none"),this.$(".focusNextStep").css("display","block"),this.$(".FooterHtml").css("display","none"),"RecipientInformation"===n.name&&n.displayPreviewBtn(!0)):(this.$(".at-preview").css("display","none"),this.$(".prevStep").css("display","block"),this.$(".nextStep").css("display","block"),this.$(".submitStep").css("display","none"),this.$(".focusNextStep").css("display","block"),this.$(".FooterHtml").css("display","none"))}},this)},this)):this.$("form").submit()),this},hideProfileMenu:function(){g("#profile-menu").hide(),g(".profile-link").removeClass("menu-open")},hideProfileMenuHover:function(){if(1===g("#profile-menu").length){var e=g(".profile-link.toggle-menu").is(":hover"),t=g("#profile-menu").is(":hover");e||t||this.hideProfileMenu()}},hideProfileMenuClick:function(e){var t=0===g(e.target).closest("#profile-menu").length,n=0===g(e.target).closest(".profile-link").length;t||n||this.hideProfileMenu()},context:function(){var e=this.options.form_definition,n=e.metadata.columns,a={form_elements:[]},o=v(r.fields(e.form_elements)),s=o.find({name:"HeaderHtml"}),l=o.find({name:"MeterHtml"}),u=o.find({name:"FooterHtml"}),c=o.find({name:"submitForm"});return a.form_id=this.model.get("id"),a.columns=n,a.classes="clearfix",a.isOberon="oberon"===this.userTemplate&&!window.exileHeaderAndFooter,a.bannerImagePath=e.bannerImagePath||null,a.returnToWebsiteUrl=e.returnToWebsiteUrl||null,a.returnToWebsiteName=e.returnToWebsiteName||e.returnToWebsiteUrl||null,a.paidForByDisclaimerText=e.paidForByDisclaimerText||null,a.header_html=s?t.translate(s.markup):null,a.meter_html=l?t.translate(l.markup):null,a.footer_html=u?t.translate(u.markup):null,a.submit_label=c?c.value:e.submit_label||"Submit",a.poweredby=window.footerHTML||"Powered by <a href='http://www.ngpvan.com/?utm_source=act.myngp.com&utm_medium=poweredby&utm_campaign=ngpnext'>NGP VAN</a>",a.title=this.model.get("title"),e.steps&&(a.steps=v.map(e.steps,function(t,n){var i={title:t,"static":!0,classes:""};return e.currentStep===n?(i.classes="active",e.currentStepSuperSaiyan&&(i.classes+=" warn")):e.currentStep>n&&(i.classes="valid"),i}),a.staticSteps=!0,a.multistep="at-multistep",a.stepWidth=100/e.steps.length-.1+"%",a.stepHover="default"),this.multistep&&(a.multistep=this.multistep?"at-multistep":"",a.steps=this.steps,a.stepWidth=100/this.steps.length-.1+"%",a.liWidth=4>this.steps.length?"150px":"100px",a.hrWidth=100*(this.steps.length-1)+"%",a.stepHover="inherit"),v.each(e.form_elements,function(e,t){if(/^(FooterHtml|HeaderHtml|MeterHtml|hidden)$/.test(e.name)===!1)switch(e.name){case"PaymentInformation":a.form_elements.push({type:"payment_information",index:t});break;case"ContributionInformation":a.form_elements.push({type:"contribution",index:t});break;case"TicketInformation":a.form_elements.push({type:"ticketing",index:t});break;case"ConfirmIdentityHtml":a.form_elements.push({type:"notme",index:t});break;case"TrackingPixel":a.tracking_pixel={type:"trackingpixel",index:t};break;case"Column2Placeholder":break;case"FastAction":a.form_elements.unshift({type:e.type,index:t});break;default:a.form_elements.push({type:e.type,index:t})}},this),i("alterContext",{element:"form",context:a}).context},render:function(){return c.start("Render",this.model.id),this.options.form_definition.errorCode?(this.$el.html(this.options.form_definition.message),this):"Deactivated"===this.options.form_definition.status&&this.options.form_definition.metadata.deactivationHtmlContent?(this.$el.html('<div class="ngp-deactivation-message">'+this.options.form_definition.metadata.deactivationHtmlContent+"</div>"),this):(this.options.last_form_state=this.val(),this.$el.html(this.template(this.context())),this.handleResizingIframe(),this.addDataToForm(),this)},handleResizingIframe:function(){function e(){var e=document.querySelectorAll("iframe.meter-frame");e&&0!==e.length&&v.each(e,function(e){e.style.height=e.contentDocument.body.scrollHeight+"px"})}var t=this;window.addEventListener("resize",function(){e()}),window.addEventListener("load",function(){t.multistep&&t.iFrameAddMultistepToBody("multistep-layout"),e()})},errors:function(){return v(this.subviews).chain().invoke("errors").flatten().compact().value()},query_string_fill_dict:function(){var e=v.transform(r.querystring_dict(this.form_definition().form_elements,"queryString"),function(e,t,n){e[n.toLowerCase()]=t});return v.transform(this.options.query_string,function(t,n,i){if(e.hasOwnProperty(i)){var r=e[i];if("EventIsPrivate"===r){if(null!==n&&void 0!==n){var a=n.toString().toLowerCase();"true"===a||"1"===a?n="False":("false"===a||"0"===a)&&(n="True")}t[r]=n}else t[r]=v.isString(n)&&/^(true|false)$/i.test(n)?/^true$/i.test(n):n}})},fill:function(){var e={},n="None",a={qs:this.options.query_string,recipient_databag:this.options.recipient_databag,fast_action_databag:this.options.form_definition.fastAction?this.options.fast_action_databag:null,profile_databag:this.options.profile_databag,last_form_state:this.options.last_form_state};if(a.recipient_databag){var o=a.recipient_databag;o.get("EmailAddress")||o.set("EmailAddress",o.get("HomeEmail")||o.get("WorkEmail"))}try{this.options.smart=this.isFirstForm()?!1:this.form_definition().metadata.hideCompletedFormSections}catch(s){console.log(s)}this.options.fillDisabled||(e=this.get_fill_dict(a),n=e._source,delete e._source,this.render_fill_dict(e));var l={},u=r.find_field(this.options.form_definition.form_elements,"Genders"),c=r.find_field(this.options.form_definition.form_elements,"Race"),h=r.find_field(this.options.form_definition.form_elements,"Pronoun");return u&&(l.genders=u.options),c&&(l.races=c.options),h&&(l.pronouns=h.options),t.fill(this.setval(e),e,l),this.options.filled=!0,this.quick(a),this.autoSubmit(a),v.size(this.subviews)&&(this.renderStep(this.step("index")),v.invoke(this.subviewsWithName("TicketInformation"),"changeQuantityOrAdditional")),v.isEmpty(e)||this.trigger("fill",e),i("postFill",{view:this,fill_dict:e,fill_source:n,submit:v.bind(this.options.parent_tag.postBack,this,null,null,!0)}).view},autoSubmit:function(e){var t=this.options.query_string;return!this.options.form_definition.autoSubmit||this.options.quick_complete||this.options.autoSubmitComplete||0!==this.errors().length||t.hasOwnProperty("autosubmitsuppressed")&&"true"===t.autosubmitsuppressed||(this.options.autoSubmitComplete=!0,this.options.parent_tag.postBack(null,e.profile_databag.toJSON(),!0)),this},get_fill_dict:function(e){function t(e,n){return v.isEmpty(e)?void 0:v.isFunction(e.getDict)?t(e.getDict(),n):("QueryString"===n&&"Recipient"===a&&(n=a),a=n||a,v.extend(r,v.omit(e,function(e){return""===e})))}var n=this,r=this.val(),a="None";r.Amount&&"0.00"!==r.Amount&&(r.SelectAmount=r.Amount,r.SuggestedAmount=r.Amount);var o=this.query_string_fill_dict(),s=["SelectAmount","MarketSource"],l=v.pick(o,s);o=v.omit(o,s),t(l);var u=this.options.query_string&&this.options.query_string.kiosk;return n.isFirstForm()&&(u||t(e.recipient_databag,"Recipient"),t(o,"QueryString")),!u&&v.isObject(e.profile_databag)&&"everybody"===n.options.parent_tag.databagShareSetting()&&t(e.profile_databag,"Profile"),!u&&v.isObject(e.fast_action_databag)&&t(e.fast_action_databag,"FastAction"),t(e.last_form_state,"PreviousFormState"),"None"!==a&&nvtag.track(this.model.get("type"),"Form Fill",a,v.size(v.omit(r,"indexed_on","modified_on")),this.options),r._source=a,i("alterFill",{fill_dict:v.extend({},this.defaults,r),fill_source:a}).fill_dict},render_fill_dict:function(e){return this.isFirstForm()||(this.options.showNotMe=!0),"everybody"!==this.options.parent_tag.databagShareSetting()&&(this.options.showNotMe=!1),v.isEmpty(this.options.post_response)||(e=v.extend(e,this.options.post_response)),v.invoke(this.subviewsWithName("ConfirmIdentityHtml"),"render"),this},quick:function(e){var t=/^true$/i,n=["ContributionForm","EventForm"];return n.indexOf(this.options.form_definition.type)<0&&!this.options.quick_complete&&!this.options.autoSubmitComplete&&this.isFirstForm()&&e.qs&&e.qs.quick&&t.test(e.qs.quick)&&0===this.errors().length&&(this.options.quick_complete=!0,this.options.parent_tag.postBack(null,{},!0)),this},getTouched:function(){return v.transform(this.subviews,function(e,t,n){v.isFunction(t.getTouched)?v.extend(e,t.getTouched()):v.isFunction(t.touched)&&t.touched()&&(e[n]=t)})},val:function(e){var t,n=e?null:{};return v.each(this.subviews,function(i){if(t=i.val(),v.isObject(t)){if(e&&t.hasOwnProperty(e))return n=t[e],!1;v.extend(n,t)}else if(null!==t){if(e&&t.hasOwnProperty(e))return n=t[e],!1;n[i.name]=t}}),n},clear:function(e){var t=this.defaults;return this.setval(v.mapValues(this.val(),function(n,i){return"Amount"!==i||e?t.hasOwnProperty(i)&&!e?t[i]:null:n}))},setval:function(e){return v.each(this.subviews,function(t){v.isObject(t.val())?v.isFunction(t.setval)&&t.setval(e):v.each(e,function(e,n){t.field_name()===n&&t.setval(e)})}),this},setPageInfoAlert:function(e){var t=this.subviews.page_alert;t&&t.setAlerts(e)}})}),n("NVForm",["backbone","user.agent"],function(e,t){e.emulateHTTP=!!t.ie;var n=e.$,i=e._;return e.Model.extend({__name__:"NVForm",urlRoot:function(){var e=this.get("options");return e.formdefEndpoint||e.endpoint},initialize:function(e){this.set("obfuscatedId",this.id,{silent:!0}),this.s3Failed=!1,this.get("options").formUrl&&(this.url=this.get("options").formUrl)},fetch:function(t){t=t||{},this.get("options").formUrl&&(t.xhrFields={withCredentials:!0});var r=n.Deferred(),a=i.bind(function(){this.s3Failed=!0,this.urlRoot=this.get("options").endpoint,e.Model.prototype.fetch.call(this,t).then(r.resolve,r.reject)},this);return e.Model.prototype.fetch.call(this,t).then(r.resolve,this.s3Failed?r.reject:a),r.promise()}})}),n("qs.params",[],function(){return{mveid:"MinivanExportId",dbm:"DbMode",cid:"CommitteeId",plid:"PrintedListId",mvcid:"MinivanCampaignId",vanid:"VanId",midqs:"MailingId",emci:"EmailMessageContentId",emdi:"DistributionId",ceid:"ContactsEmailId",track:"MarketSource",ms:"MarketSource",attr:"AttributedContactIds",sourceid:"SourceCodeId",group:"SupporterGroupId",minivan:["DbMode","VanId","CommitteeId","PrintedListId","MinivanCampaignId","MinivanExportId","FirstName","LastName","PaymentMethod","Amount","IsRecurring","SelectedFrequency","SelectedDuration","EndDate"]}}),n("strHelper",[],function(){var e=function(e,t){return-1!==e.indexOf(t,e.length-t.length)};return{endsWith:e}}),n("urlUtilities",["underscore","parseUrl","strHelper"],function(e,t,n){function i(e){var n=t(window.location.pathname+"?"+window.location.search),i=window.location.hash;return r(n,e,i)}function r(e,t,i,r){var a,o=e.split("?"),s=null,l=null;o.length>0&&(s=o[0]),o.length>1&&(l=o[1]);var u={};l&&l.split("&").forEach(function(e){var t=e.split("=");t[0].length>0&&r&&!r.hasOwnProperty(t[0])&&(u[t[0]]=t.length>1?t[1]:null)});var c={};t&&t.substr(1).split("&").forEach(function(e){var t=e.split("=");c[t[0]]=t.length>1?t[1]:null});for(a in c)c.hasOwnProperty(a)&&(u[a]=c[a]);n.endsWith(s,"/")&&(s=s.substring(0,s.length-1));var h=s+"?",d=!0;for(a in u)u.hasOwnProperty(a)&&(d?d=!1:h+="&",h+=a,null!==u[a]&&(h+="="+u[a]));return i&&(h+=i),h}return{mergeLocationUrlParameters:i,mergeUrlParameters:r}}),n("socialSharePopup",["underscore","parseUrl","strHelper","urlUtilities"],function(e,t,n,i){var r=function(n,r,a,o,s,l,u,c){if(n.stopPropagation(),e.isUndefined(a)||e.isNull(a))return void console.log("socialSharePopup: No url specified for sharing window.");var h=t(decodeURIComponent(a)),d=t(window.location.pathname+window.location.search),p=c||"Share",f=s||520,m=l||350,g=u||{};o||h.href===d.href||(a=encodeURIComponent(i.mergeUrlParameters(d.href,h.search,window.location.hash,g)));var v=window.screenX,y=window.screenY,b=y+Math.abs(window.innerHeight-m)/2,_=v+Math.abs(window.innerWidth-f)/2,w=r+a,x="width="+f+",height="+m+",top="+b+",left="+_+",toolbar=0,status=0";window.open(w,p,x)};return{popupFunction:r}}),n("socialMediaLogger",["jquery.amd","parseUrl"],function(e,t){var n=function(n,i,r,a){var o=t(n),s=o.origin+o.pathname.replace("Forms","RecruiterActivity");e.ajax({type:"POST",url:s,data:{SocialNetwork:r,SubmissionTrackingId:i},success:function(){a&&a()},error:function(){a&&a(),console.log("Activity logging failure.")}})};return{recordActivity:n}}),n("NVTagView",["backbone.subviews","spin","doublebracket","errorviews","oberon","trackTransaction","accounting","NVFormView","NVForm","FormError","FormDefUtils","FormElements","NVTagCallbacks","databag","node-querystring","parseUrl","qs.params","socialSharePopup","socialMediaLogger","Map"],function(e,n,i,r,a,o,s,l,u,c,h,d,p,f,m,g,v,y,b,_){
function w(){this.current=null}var x=e.$,k=e._;return w.prototype=[],w.prototype.getCurrent=function(){return this.current},w.prototype.setCurrent=function(e){return this.current=e,this},e.View.extend({__name__:"NVTagView",interstitial:!1,events:{"submit form":"postBack","click #rta-link":"closeWindowRedirect"},closeWindowRedirect:function(){var e=this.options.query_string;window.location=e.redirect,setTimeout(function(){window.close()},8e3)},databagShareSetting:function(){return this.options.databagShareSetting},currentFormView:function(){return this.formviews.getCurrent()},bringIntoView:function(){x("html, body").scrollTop(this.$el.offset().top-100)},initialize:function(){k.bindAll(this,"render","segue","segueUrl","postBack"),this.formviews=new w,this.segue(this.options.initial_form_id),this.$el.attr("id","NVTag"+(this.options.index+1)).data("view",this)},segueUrl:function(e){this.options.formUrl=e;var t=g(this.options.formUrl),n=decodeURIComponent(t.pathname.split("/")[1]),i=g(n),r=i.pathname.split("/")[2];return this.segue(r)},segue:function(e){x("body").removeClass("page-ngp-multistep"),this.$el.removeClass("fastaction-enabled multistep-layout nv-template-oberon nv-template-accelerator split-layout"),null!=this.currentFormView()&&this.currentFormView().multistep&&this.currentFormView().parentOptions&&(this.options=k.extend(this.options,this.currentFormView().parentOptions));var t=new u({id:e,options:this.options}),n=this.newNVFormView(t);if(null!=this.currentFormView()){var i=new f({name:"seguedFromLastFormState"});i.setWithFormState(this.currentFormView().options.last_form_state),n.options.last_form_state=i.getDict(),this.currentFormView().remove()}this.formviews.push(n),this.formviews.setCurrent(n);var r=this.options.query_string;if(r.redirect){var a="&#x25c0;",o=navigator.userAgent.match(/(iPhone|iPod|iPad)/);if(o){var s="&#xFE0E;";a+=s}this.$el.append('<a id="rta-link" class="btn-at btn-at-primary">'+a+" Back to MiniVAN</a>")}return this.$el.append(n.$el),this.render()},newNVFormView:function(e){var t=new l({model:e,parent:this,parent_tag:this,labels:this.options.labels,query_string:this.options.query_string,profile_databag:this.options.profile_databag,recipient_databag:this.options.recipient_databag,fast_action_databag:this.options.fast_action_databag,post_response:this.options.post_response||null,previous_payment:this.options.previous_payment||null,inline_error_display:this.options.inline_error_display});return t.parent=this,t},spin:function(e){return n&&e.spin(),this},setupShareUrls:function(){var e=this.qs_field_dict,t=this.$("#fbShareBtn");if(t.length){var n=x("#fbShareBtn").attr("data-trackingurl"),i="undefined"!=typeof x("#fbShareBtn").attr("data-donotmodifyforembedded");t.click(function(r){r.stopPropagation(),t.prop("disabled",!0),b.recordActivity(formview.form_definition().url.full,formview.model.trackingId,"Facebook",function(){t.prop("disabled",!1)}),y.popupFunction(r,"https://www.facebook.com/sharer.php?u=",n,i,520,350,e)})}var r=this.$("#twShareBtn");if(r.length){var a=x("#twShareBtn").attr("data-trackingurl"),o=x("#twShareBtn").attr("data-text"),s="undefined"!=typeof x("#twShareBtn").attr("data-donotmodifyforembedded");r.click(function(t){t.stopPropagation(),r.prop("disabled",!0),b.recordActivity(formview.form_definition().url.full,formview.model.trackingId,"Twitter",function(){r.prop("disabled",!1)}),o?y.popupFunction(t,"https://twitter.com/intent/tweet?text="+o+"&url=",a,s,550,420,e):y.popupFunction(t,"https://twitter.com/intent/tweet?url=",a,s,520,350,e)})}},render:function(e){if(this.options.offline){var t="<p>Sorry, our form processing system is down right now. Please try again shortly.</p>";return this.options.offline_message&&(t=this.options.offline_message),this.$el.html(t),this}if("undefined"!=typeof e)this.$(".ngp-spinner").remove(),this.currentFormView().$el.html('<div class="content thankYou"><section class="contributions">'+e+"</section></div>").show(),this.setupShareUrls();else{if(!this.currentFormView())return;if(this.interstitial){this.$(".thankYou").remove(),this.currentFormView().$el.hide();var n=x('<div id="progress-'+this.currentFormView().cid+'" class="ngp-spinner" style="width: 100%; height: 200px;"></div>');this.$el.append(n),this.spin(n)}else this.$(".ngp-spinner, .thankYou").remove(),this.currentFormView().$el.show()}return this},postBack:function(e,n,r){function l(e){return k.reduce(e,function(e,t,n){return k.isNull(t)?e:(e[n]=k.isString(t)?t:JSON.stringify(t),e)},{})}function u(){return a.post_form(P.url,P.form_id,P.data,S,D)}k.isObject(e)&&k.isFunction(e.preventDefault)&&e.preventDefault();var c=this.currentFormView();if(c.multistep&&c.getStepIndex()+1!==c.steps.length&&!r)return c.nextStep();this.bringIntoView();var d=c.errors();if(d.length)return p("formErrors",{errors:d}),c.renderFeedback();var f=c.form_definition().form_elements,m=h.fields(f),g=k.filter(m,{type:"hidden"});this.qs_field_dict||(this.qs_field_dict=k.transform(h.querystring_dict(c.form_definition().form_elements,"queryString"),function(e,t,n){e[n.toLowerCase()]=t}),k.extend(this.qs_field_dict,{utm_source:"",utm_medium:"",utm_campaign:"",emci:"",emdi:"",fn:"",mn:"",ln:"",em:"",add1:"",ci:"",st:"",pc:"",hp:"",mp:"",wp:"",ep:"",oc:"",p:"",s:"",smartlinkdata:""}));var y=k.reduce(g,function(e,t){return""!==t.value&&(e[t.name]=t.value),e},{}),b=this.options.query_string;if(k.each(v,function(e,t){b[t]&&(y[e]=b[t])}),y.MarketSource&&(y.MarketSource=y.MarketSource.substring(0,149)),c.form_definition().designation&&(y.designationName=c.form_definition().designation.name),n=c.options.last_form_state=n?k.merge(c.val(),n):c.val(),"everybody"===this.databagShareSetting()&&this.options.profile_databag.setWithFormState(n).save(),n=k.extend(y,n),n.type=c.form_definition().type,(null===n.EndDate||4!==parseInt(n.SelectedDuration,10))&&delete n.EndDate,(null===n.HostCommittee||"null"===n.HostCommittee)&&delete n.HostCommittee,"paypal"===n.PaymentMethod?(delete n.Account,delete n.ExpirationMonth,delete n.ExpirationYear,delete n.SecurityCode,delete n.BankAccountNumber,delete n.BankAccountType,delete n.RoutingNumber,delete n.CreditCardLastFour,delete n.CreditCardLastFourType):"eft"===n.PaymentMethod?(delete n.PayPalNonce,delete n.Account,delete n.ExpirationMonth,delete n.ExpirationYear,delete n.SecurityCode,delete n.CreditCardLastFour,delete n.CreditCardLastFourType):(delete n.PayPalNonce,delete n.BankAccountNumber,delete n.BankAccountType,delete n.RoutingNumber),c.form_definition().enableRecurringButtons&&n.IsRecurringAmount&&(n.IsRecurring=!0,n.SelectedFrequency=4),delete n.IsRecurringAmount,"bitcoin"===n.PaymentMethod){var w=x("#bitpay-invoice"),C=c.subviews.PaymentInformation,E=w.find("#bitpay-invoice-content"),T="is-active";if(!n.BitPayResponseJson||!/^(paid|confirmed)$/.test(n.BitPayResponseJson.status)){var A=x('<div id="progress-bitpay" class="ngp-spinner" style="width: 100%; height: 160px;">');return E.empty().append(A),this.spin(A),x("section.fastaction-modal").removeClass(T),location.hash="bitpay-invoice",x.ajax({url:this.options.raw_endpoint+"/v2/BitPayInvoices",type:"POST",dataType:"json",data:{amount:n.Amount,formId:c.model.get("id")}}).done(function(e,t,n){var i=c.subviews.PaymentInformation;i.BitPay=e,e.url&&(E.html('<iframe src="'+e.url+'&view=iframe" style="width: 100%; height: 160px; border: none; overflow: hidden; margin: 0"></iframe>'),C.listenToBitPay(!0))}).fail(function(){setTimeout(function(){location.hash="!",E.empty()},1e3)})}location.hash="!",E.empty(),C.listenToBitPay(!1)}e?(e.data=n,p("onSubmit",e)):p("onSubmit",{data:n}),n=l(n),this.interstitial=!0,this.render();var S=k.bind(function(e){if(k.isObject(e)||(e=JSON.parse(e)),this.options.post_response=e.response,e&&e.errors&&e.errors.length>0)this.interstitial=!1,delete this.options.query_string.tknfa,this.render().$('[name="ConfirmationID"]').remove(),c.subviews.error_console.setServerErrors(e.errors).renderFeedback();else{this.interstitial=!1;var r="response"in e?e.response:e;r.customerKey&&r.ccInfoKey?(this.options.customerKey=r.customerKey,this.options.ccInfoKey=r.ccInfoKey):r.confirmationID&&(this.options.confirmationID=r.confirmationID);var a=c.$('input[type="submit"]').text()||"Contribute",l=0;n.Amount&&(l=Math.round(n.Amount),l=k.isNaN(l)?0:l),nvtag.track(n.type,"Form Submit",a,l,this.options),o(c,r),p("preSegue",{formdef:c.model.toJSON(),postVals:c.val(),response:r});var u=~~((k.now()-c.startTime)/1e3);if(window.onbeforeunload=null,e.response){var h=e.response;this.options.profile_databag.set(k.extend(h,{ContributionDateTimeStamp:h.contributionDateTimeStamp,ContributionDateTime:h.contributionDateTimeStamp,ContributionAmount:s.formatMoney(h.contributionAmount),ContributionType:h.contributionType,ConfirmationID:h.confirmationID,PaymentConfirmationId:h.confirmationID,CC4Digit:h.cc4Digit,CreditCardLast4:h.cc4Digit,CCType:h.ccType,CreditCardType:h.ccType}))}switch(e.page.confirmationActionType){case 1:case"InternalPage":n.autoCreateAccount&&t("fastActionUser").fetch({cache:!1}),nvtag.track(n.type,"Form Redirect","Secondary Ask",u,this.options),this.options.previous_payment={},k.each(["Account","ExpirationMonth","ExpirationYear"],function(e){n[e]&&(this.options.previous_payment[e]=n[e])},this),e.page.confirmationRedirectFormUrl?this.segueUrl(e.page.confirmationRedirectFormUrl):(this.options.formUrl&&(this.options.formUrl=null),this.segue(e.page.confirmationRedirectFormId));break;case 2:case"ExternalPage":nvtag.track(n.type,"Form Redirect","External URL",u,this.options),window.location=e.page.confirmationRedirectUrl+(window.location.search?(e.page.confirmationRedirectUrl.indexOf("?")>=0?"&":"?")+window.location.search.substring(1):"");break;case 3:case"DisplayContent":nvtag.track(n.type,"Form Redirect","Thank You",u,this.options);var d,f=c.form_definition();if(d=e&&e.page&&e.page.confirmationPageContent?e.page.confirmationPageContent:f.confirmation&&f.confirmation.page_content?i.translate(f.confirmation.page_content):"",n.BitPayResponseJson){var m=JSON.parse(n.BitPayResponseJson);d+='<iframe src="'+m.url+'&view=iframe" style="width: 100%; height: 160px; border: none"></iframe>'}if(b.redirect){var g=k.reduce(v.minivan,function(e,t){return n[t]&&(e[t]=n[t]),e},{ConfirmationID:e.response.confirmationID,TrackingID:e.response.trackingId});try{g.SelectedDuration=c.getField("SelectedDuration").def.options[g.SelectedDuration].display,g.SelectedFrequency=c.getField("SelectedFrequency").def.options[g.SelectedFrequency].display}catch(y){}var w=b.redirect+"?"+x.param(g);this.$("#rta-link").attr("href",w);var C=parseInt(b.redirectafter,10);C&&(setTimeout(function(){window.location=w,window.close()},1e3*C),d+="<br>Click the link at the top if you're not returned to MiniVAN in "+C+" seconds.")}if(c.model.trackingId=e.response.trackingId,this.render(d),_.loadMap("at-event-map-container"),window.FB&&window.FB.XFBML&&window.FB.XFBML.parse(this.el),window.twttr&&window.twttr.widgets){var E=window.location,T=E.protocol+"//"+E.hostname+E.pathname;this.$('a[href="https://twitter.com/share"]').attr("data-url",T),window.twttr.widgets.load(this.el)}p("postRender",{form_definition:null,options:this.options,thank:!0});var A={};if("everybody"===this.databagShareSetting())A=k.extend(this.options.profile_databag.getDict(),e.response);else{A=k.extend({},e.response,n);var S="";A.FirstName&&(S+=A.FirstName),A.MiddleName&&(S&&(S+=" "),S+=A.MiddleName),A.LastName&&(S&&(S+=" "),S+=A.LastName),A.FullName=S}i.fill(this,A),p("segue",{formviews:this.formviews,thank:!0,calling_tag:this})}}},this),D=k.bind(function(e,t,n){var i={};this.interstitial=!1,this.render(),e.responseText&&(i=JSON.parse(e.responseText)),"timeout"===t?console.warn("Unfortunately, a timeout occurred."):console.warn(i.message||"Unspecified Error")},this),N={data:n,url:this.options.endpoint,form_id:c.model.id,form_definition:c.form_definition()};c.form_definition().submissionUrl&&(N.url=c.form_definition().submissionUrl,N.form_id="");var P=p("alterPost",N);return P.data.Account||(this.options.customerKey&&this.options.ccInfoKey?(P.data.CustomerKey=this.options.customerKey,P.data.CcInfoKey=this.options.ccInfoKey):this.options.confirmationID&&(P.data.ConfirmationID=this.options.confirmationID)),u()}})}),"nvtag"in window)throw"NVTag was already initialized. The NVTag JS is likely included more than once on this page.";window.nvtag={on:function(){}},t(["config"],function(){t(["backbone","node-querystring","NVTagCallbacks","databag","profile_databag","fast_databag","parseUrl","user.agent","timing","loadCSS","modal","gtm","jquery.timepicker"],function(e,n,i,r,a,o,s,l,u,c){function h(e,t,n,i,r){var a={event:"FormEvent",eventCategory:e,eventAction:t,eventLabel:void 0,eventValue:void 0},o=r.form_definition;if(o){a.activistCodes=o.metadata.activistCodes,a.sourceCodeId=o.metadata.sourceCodeId,a.tenantUri=o.metadata.tenantUri,a.formName=o.name;var s=o.url.full.split("/"),l=s.length-1,u=s[l];a.formShortCode=u}var c=r.query_string;return c&&c.sourceid&&parseInt(c.sourceid)>=0&&(a.sourceCodeId=parseInt(c.sourceid)),g.isString(n)&&(a.eventLabel=n||"NO_LABEL",g.isFinite(i)&&i===~~i&&(a.eventValue=i)),window.atLayer.push(a),window.dataLayer.push(a),a}function d(e){return g.isBoolean(e)?e:g.isString(e)?w.truth.test(e):!1}function p(){m(".ngp-form").each(f)}function f(){var e=m(this),n=e.data();if(!n.alreadyProcessed){window.nvtagDebug?(window.nvtag.css=c("sass/at.css"),c("sass/extra.css")):(window.nvtag.css=c(v+"at.min.css"),c(v+"extra.min.css")),e.addClass("at"),e.data("alreadyProcessed",!0);var i=n.endpoint||"https://api.myngp.com";-1===i.indexOf("cwpapi")&&(i=i.replace(w.trailingSlash,"")+x);var r=n.id||null;if(n.formUrl){var l=s(n.formUrl),u=decodeURIComponent(l.pathname.split("/")[1]),h=s(u);r=h.pathname.split("/")[2]}t(["NVTagView"],function(t){window.nvtag.NVTagView=t,window.nvtag.tags.push(new t({el:e,query_string:b,index:window.nvtag.tags.length,endpoint:i,raw_endpoint:n.endpoint,recipient_databag:_,profile_databag:a,fast_action_databag:o,labels:"inline"===n.labels?"placeholder":n.labels,options:n.options,initial_form_id:r,databagShareSetting:!b.kiosk&&n.databag||"nobody",template:n.template||"minimal",style:n.style||"cloudfront",resource_path:(n.resourcePath||"//d1aqhv4sn5kxtx.cloudfront.net").replace(w.trailingSlash,""),inline_error_display:"true",fast_action_nologin:!b.kiosk&&d(n.fastactionNologin),formdefEndpoint:n.formdefEndpoint||null,formUrl:n.formUrl||null,oberonUrl:u||null}))})}}u.start("Total");var m=e.$,g=e._,v=window.nvtagDebug?"":m('script[src$="/at.js"][src*="/actiontag/"]').attr("src").replace(/at\.js$/,"");m.ajaxSetup({cache:!l.ie}),window.dataLayer=window.hasOwnProperty("dataLayer")?window.dataLayer:[],window.atLayer=window.hasOwnProperty("atLayer")?window.atLayer:[],window._gaq=window._gaq||[],_gaq.push(["nv._setAccount","UA-28243511-20"]),window.nvtag=g.extend(window.nvtag,{ua:l,tags:[],track:h,process:function(e){return m(e).each(f)},data:{profile:a,fast:o}},e.Events),t(["FastAction"],function(e){window.nvtag_plugins=window.nvtag_plugins||[],window.nvtag_plugins.push(e)});var y=null,b=g.transform(n.parse(window.location.search.substring(1)),function(e,t,i){if("smartlinkdata"===i.toLowerCase())try{y=n.parse(atob(t))}catch(r){console.error(r)}else e[i.toLowerCase()]=t});null!==y&&g.merge(b,y);var _=null;b&&b.recipientid&&(_=new r({name:"nvtag",id:b.recipientid}),_.fetch(),window.nvtag.data.recipient=_);var w={localhost:/^https?:\/\/localhost/i,notSSL:/^http:/i,truth:/^true$/i,trailingSlash:/\/+$/},x="/v2/Forms/";return p(),setTimeout(function(){m(p)}),nvtag})}),n("nvtag",function(){})}();
/*! ActionTag v2.6.2 Copyright (c) 2019 NGP VAN | Built: 2019-01-29 18:38:23 UTC */
//# sourceMappingURL=at.js.map